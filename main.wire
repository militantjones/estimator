<wire>
  <!-- GAF Estimator -->
  <!-- iOS iPad -->
  <!-- App #7562 -->
  <!-- Engine version 1.5 dev -->

  <!-- #ed1c24 - red -->
  <!-- #ffffff - white -->
  <!-- #e3e3e3 - light gray -->
  <!-- #b0afaf - nav unselected gray -->
  <!-- #bfbfbf - sidebar gray -->
  <!-- #888888 - medium gray -->
  <!-- #343434 - dark gray -->


  <!-- !DATASOURCES -->
  <datasources>

  	<!-- !27 Global Web Services -->

  	<datasource name="login" source="" query="/" providertype="json" httpmethod="post" httpheader="login"/>
    <datasource name="createCustomer" source="" query="/" providertype="json" httpmethod="post" httpheader="token-contractorid"/>
	<datasource name="editCustomer" source="" query="/" providertype="json" httpmethod="put" httpheader="token-contractorid"/>
	<datasource name="getEstimate" source="" query="/CustomerDetails" providertype="json" httpmethod="get" httpheader="token-contractorid"/>
    <datasource name="getProducts" source="" query="/Products" providertype="json" httpmethod="get" httpheader="token-contractorid"/>
    <datasource name="getAccessories" source="" query="/Accessories" providertype="json" httpmethod="get" httpheader="token-contractorid"/>
    <datasource name="getWarranties" source="" query="/Warranties" providertype="json" httpmethod="get" httpheader="token-contractorid"/>

    <datasource name="uploadPhoto" source="" query="/" providertype="json" httpmethod="post" httpheader="formSubmit" />
    <datasource name="updateMeasurements" source="" query="/" providertype="json" httpmethod="put" httpheader="token-contractorid" />
    <datasource name="generateEstimate" source="" query="/" providertype="json" httpmethod="post" httpheader="token-contractorid" />
	<datasource name="getEstimatePdf" source="" query="/" providertype="json" httpmethod="get" httpheader="token-contractorid" />

    <httpheader name="login" Content-Type="application/json" />
    <httpheader name="token-contractorid" Content-Type="application/json" Token="[preferences:token]" ContractorId="[preferences:contractorId]" />

    <httpheader name="formSubmit" Token="[preferences:token]" ContractorId="[preferences:contractorId]" CustomerId="[var:customerId]" Content-Type="multipart/form-data" Content-Disposition="form-data; name='File'; filename='test.jpg'"/>

    <datasource name="camera-roll" source="adsf" query="Camera Roll" providertype="camera"/>
    <datasource name="states" source="" query="//state" providertype="xml" parsenamespaces="yes" />
    <datasource name="provinces" source="" query="//province" providertype="xml" parsenamespaces="yes" />

    <datasource name="customersdb" source="sql://CUSTOMERS" query="CREATE TABLE IF NOT EXISTS CUSTOMERS (ID INTEGER PRIMARY KEY AUTOINCREMENT, FNAME, LNAME, EMAIL, PHONE, FNAME2, LNAME2, EMAIL2, PHONE2, COUNTRY, STREET, CITY, STATE, POSTAL, NOTES);" providertype="sql" />
    <datasource name="customersdb-list" source="sql://CUSTOMERS" query="SELECT * FROM CUSTOMERS ORDER BY ID DESC;" providertype="sql" />
    <datasource name="customersdb-delete" source="sql://CUSTOMERS" query="" providertype="sql" />

    <datasource name="inspectiondb" source="sql://INSPECTION" query="CREATE TABLE IF NOT EXISTS INSPECTION (ID INTEGER PRIMARY KEY AUTOINCREMENT, ROOFTYPE, FLOORS);" providertype="sql" />
    <datasource name="inspectiondb-list" source="sql://INSPECTION" query="SELECT * FROM INSPECTION ORDER BY ID DESC;" providertype="sql" />
    <datasource name="inspectiondb-delete" source="sql://INSPECTION" query="" providertype="sql" />

    <datasource name="roofareasdb" source="sql://ROOFAREAS" query="CREATE TABLE IF NOT EXISTS ROOFAREAS (ID INTEGER PRIMARY KEY AUTOINCREMENT, LENGTH, WIDTH, SLOPE);" providertype="sql" />
    <datasource name="roofareasdb-list" source="sql://ROOFAREAS" query="SELECT * FROM ROOFAREAS ORDER BY ID DESC;" providertype="sql" />
    <datasource name="roofareadb-delete" source="sql://ROOFAREAS" query="" providertype="sql" />

    <datasource name="wastedb" source="sql://WASTE" query="CREATE TABLE IF NOT EXISTS WASTE (ID INTEGER PRIMARY KEY AUTOINCREMENT, PERCENT);" providertype="sql" />
    <datasource name="wastedb-list" source="sql://WASTE" query="SELECT * FROM WASTE ORDER BY ID DESC;" providertype="sql" />
    <datasource name="wastedb-delete" source="sql://WASTE" query="" providertype="sql" />

    <datasource name="ridgesdb" source="sql://RIDGES" query="CREATE TABLE IF NOT EXISTS RIDGES (ID INTEGER PRIMARY KEY AUTOINCREMENT, LENGTH, VENTS);" providertype="sql" />
    <datasource name="ridgesdb-list" source="sql://RIDGES" query="SELECT * FROM RIDGES ORDER BY ID DESC;" providertype="sql" />
    <datasource name="ridgeventsdb-list" source="sql://RIDGES" query="" providertype="sql" />
    <datasource name="ridgesdb-delete" source="sql://RIDGES" query="" providertype="sql" />

    <datasource name="hipsdb" source="sql://HIPS" query="CREATE TABLE IF NOT EXISTS HIPS (ID INTEGER PRIMARY KEY AUTOINCREMENT, LENGTH, VENTS);" providertype="sql" />
    <datasource name="hipsdb-list" source="sql://HIPS" query="SELECT * FROM HIPS ORDER BY ID DESC;" providertype="sql" />
    <datasource name="hipventsdb-list" source="sql://HIPS" query="SELECT * FROM HIPS ORDER BY ID DESC;" providertype="sql" />
    <datasource name="hipsdb-delete" source="sql://HIPS" query="" providertype="sql" />

    <datasource name="valleysdb" source="sql://VALLEYS" query="CREATE TABLE IF NOT EXISTS VALLEYS (ID INTEGER PRIMARY KEY AUTOINCREMENT, LENGTH);" providertype="sql" />
    <datasource name="valleysdb-list" source="sql://VALLEYS" query="SELECT * FROM VALLEYS ORDER BY ID DESC;" providertype="sql" />
    <datasource name="valleysdb-delete" source="sql://VALLEYS" query="" providertype="sql" />

    <datasource name="rakesdb" source="sql://RAKES" query="CREATE TABLE IF NOT EXISTS RAKES (ID INTEGER PRIMARY KEY AUTOINCREMENT, LENGTH);" providertype="sql" />
    <datasource name="rakesdb-list" source="sql://RAKES" query="SELECT * FROM RAKES ORDER BY ID DESC;" providertype="sql" />
    <datasource name="rakesdb-delete" source="sql://RAKES" query="" providertype="sql" />

    <datasource name="eavesdb" source="sql://EAVES" query="CREATE TABLE IF NOT EXISTS EAVES (ID INTEGER PRIMARY KEY AUTOINCREMENT, LENGTH);" providertype="sql" />
    <datasource name="eavesdb-list" source="sql://EAVES" query="SELECT * FROM EAVES ORDER BY ID DESC;" providertype="sql" />
    <datasource name="eavesdb-delete" source="sql://EAVES" query="" providertype="sql" />

    <datasource name="protrusionsdb" source="sql://PROTRUSIONS" query="CREATE TABLE IF NOT EXISTS PROTRUSIONS (ID INTEGER PRIMARY KEY AUTOINCREMENT, LENGTH, WIDTH, TYPE);" providertype="sql" />
    <datasource name="protrusionsdb-list" source="sql://PROTRUSIONS" query="SELECT * FROM PROTRUSIONS ORDER BY ID DESC;" providertype="sql" />
    <datasource name="protrusionsdb-delete" source="sql://PROTRUSIONS" query="" providertype="sql" />

    <datasource name="ventsdb" source="sql://VENTS" query="CREATE TABLE IF NOT EXISTS VENTS (ID INTEGER PRIMARY KEY AUTOINCREMENT, SIZE, QUANTITY);" providertype="sql" />
    <datasource name="ventsdb-list" source="sql://VENTS" query="SELECT * FROM VENTS ORDER BY ID DESC;" providertype="sql" />
    <datasource name="ventsdb-delete" source="sql://VENTS" query="" providertype="sql" />

    <datasource name="photosdb" source="sql://PHOTOS" query="CREATE TABLE IF NOT EXISTS PHOTOS (ID INTEGER PRIMARY KEY AUTOINCREMENT, PHOTO, NOTE);" providertype="sql" />
    <datasource name="photosdb-list" source="sql://PHOTOS" query="SELECT * FROM PHOTOS ORDER BY ID DESC;" providertype="sql" />
    <datasource name="photosdb-delete" source="sql://PHOTOS" query="" providertype="sql" />

<!--     <datasource name="productsdb" source="sql://PRODUCTS" query="DELETE FROM PRODUCTS;" providertype="sql" /> -->
    <datasource name="productsdb" source="sql://PRODUCTS" query="CREATE TABLE IF NOT EXISTS PRODUCTS (ID INTEGER PRIMARY KEY AUTOINCREMENT, SHINGLE, COLOR, WARRANTY, IMAGE);" providertype="sql" />
    <datasource name="productsdb-list" source="sql://PRODUCTS" query="SELECT * FROM PRODUCTS ORDER BY ID DESC;" providertype="sql" />
    <datasource name="productsdb-delete" source="sql://PRODUCTS" query="" providertype="sql" />

<!--     <datasource name="accessoriesdb" source="sql://ACCESSORIES" query="DELETE FROM ACCESSORIES;" providertype="sql" /> -->
    <datasource name="accessoriesdb" source="sql://ACCESSORIES" query="CREATE TABLE IF NOT EXISTS ACCESSORIES (ID INTEGER PRIMARY KEY AUTOINCREMENT, NAME, TYPE, ACCESSORY, QUANTITY, CALCQUANTITY);" providertype="sql" />
    <datasource name="accessoriesdb-list" source="sql://ACCESSORIES" query="SELECT * FROM ACCESSORIES ORDER BY ID DESC;" providertype="sql" />
    <datasource name="accessoriesdb-deletelist" source="sql://ACCESSORIES" query="" providertype="sql" />
    <datasource name="accessoriesdb-deletelist-ridgevent" source="sql://ACCESSORIES" query="" providertype="sql" />
    <datasource name="accessoriesdb-deletelist-hipvent" source="sql://ACCESSORIES" query="" providertype="sql" />
    <datasource name="accessoriesdb-deletelist-fascia" source="sql://ACCESSORIES" query="" providertype="sql" />
    <datasource name="accessoriesdb-deletelist-masterflow" source="sql://ACCESSORIES" query="" providertype="sql" />
    <datasource name="accessoriesdb-delete" source="sql://ACCESSORIES" query="" providertype="sql" />
    <datasource name="accessoriesdb-gen-delete" source="sql://ACCESSORIES" query="" providertype="sql" />
    <datasource name="accessoriesdb-count" source="sql://ACCESSORIES" query="" providertype="sql" />

    <datasource name="nonMiscAccessoriesdb-list" source="sql://ACCESSORIES" query="" providertype="sql" />
    <datasource name="miscAccessoriesdb-list" source="sql://ACCESSORIES" query="" providertype="sql" />

    <datasource name="tearoffdb" source="sql://TEAROFF" query="CREATE TABLE IF NOT EXISTS TEAROFF (ID INTEGER PRIMARY KEY AUTOINCREMENT, TEAROFF, LAYERS, MATERIAL);" providertype="sql" />
    <datasource name="tearoffdb-list" source="sql://TEAROFF" query="SELECT * FROM TEAROFF ORDER BY ID DESC;" providertype="sql" />
    <datasource name="tearoffdb-delete" source="sql://TEAROFF" query="" providertype="sql" />

    <datasource name="assetprotectiondb" source="sql://PROTECTION" query="CREATE TABLE IF NOT EXISTS PROTECTION (ID INTEGER PRIMARY KEY AUTOINCREMENT, LANDSCAPING, HARDSCAPING, HVAC, POOL, MISC);" providertype="sql" />
    <datasource name="assetprotectiondb-list" source="sql://PROTECTION" query="SELECT * FROM PROTECTION ORDER BY ID DESC;" providertype="sql" />
    <datasource name="assetprotectiondb-delete" source="sql://PROTECTION" query="" providertype="sql" />

    <datasource name="plywooddb" source="sql://PLYWOOD" query="CREATE TABLE IF NOT EXISTS PLYWOOD (ID INTEGER PRIMARY KEY AUTOINCREMENT, WOOD, MEASUREMENT, QUANTITY);" providertype="sql" />
    <datasource name="plywooddb-list" source="sql://PLYWOOD" query="SELECT * FROM PLYWOOD ORDER BY ID DESC;" providertype="sql" />
    <datasource name="plywooddb-delete" source="sql://PLYWOOD" query="" providertype="sql" />

    <datasource name="adjustmentsdb" source="sql://ADJUSTMENTS" query="CREATE TABLE IF NOT EXISTS ADJUSTMENTS (ID INTEGER PRIMARY KEY AUTOINCREMENT, TYPE, UNITS, AMOUNT, NOTES);" providertype="sql" />
    <datasource name="adjustmentsdb-list" source="sql://ADJUSTMENTS" query="SELECT * FROM ADJUSTMENTS ORDER BY ID DESC;" providertype="sql" />
    <datasource name="adjustmentsdb-delete" source="sql://ADJUSTMENTS" query="" providertype="sql" />
    <datasource name="adjustmentsdb-landscape" source="sql://ADJUSTMENTS" query="" providertype="sql" />
    <datasource name="adjustmentsdb-hardscape" source="sql://ADJUSTMENTS" query="" providertype="sql" />
    <datasource name="adjustmentsdb-hvac" source="sql://ADJUSTMENTS" query="" providertype="sql" />
    <datasource name="adjustmentsdb-pool" source="sql://ADJUSTMENTS" query="" providertype="sql" />
    <datasource name="adjustmentsdb-misc" source="sql://ADJUSTMENTS" query="" providertype="sql" />

	<!-- !TEXTTEMPLATES -->
	<texttemplate name="login"><![CDATA[{"UserName":"[var:username]","Password":"[var:password]"}]]></texttemplate>
	<texttemplate name="createCustomer"><![CDATA[{"CustomerFirstName":"[var:firstName]","CustomerMiddleName":"[var:middleName]","CustomerLastName":"[var:lastName]","Address1":"[var:address1]","Address2":"[var:address2]","City":"[var:city]","StateProvince":"[var:state]","PostalCode":"[var:postalCode]","PhoneNumber":"[var:phone]","Email":"[var:email]","Country":"[var:country]","Notes":"[var:notes]"}
	]]></texttemplate>
	<texttemplate name="editCustomer"><![CDATA[
	{"CustomerId":[var:edit-customerId],"CustomerFirstName":"[var:edit-fname]","CustomerMiddleName":"[var:edit-middlename]","CustomerLastName":"[var:edit-lname]","Address1":"[var:edit-address1]","Address2":"[var:edit-address2]","City":"[var:edit-city]","StateProvince":"[var:edit-state]","PostalCode":"[var:edit-zip]","PhoneNumber":"[var:edit-phone]","Email":"[var:edit-email]","Country":"[var:edit-country]","EstimatePdf": "","EstimateDetails": []}
 	]]></texttemplate>
	<texttemplate name="roofMeasurements"><![CDATA[
		{"Field":"[eval:[var:roofMeasurementsIterateCount]-1]","Length":"[datasource:roofareasdb-list.[var:roofMeasurementsIterateCount].LENGTH]","Width":"[datasource:roofareasdb-list.[var:roofMeasurementsIterateCount].WIDTH]","Pitch":"[datasource:roofareasdb-list.[var:roofMeasurementsIterateCount].SLOPE]"}
	]]></texttemplate>
	<texttemplate name="ridgeMeasurements"><![CDATA[
		{"Order":"[eval:[var:ridgeMeasurementsIterateCount]-1]","Length":"[datasource:ridgesdb-list.[var:ridgeMeasurementsIterateCount].LENGTH]"}
	]]></texttemplate>
	<texttemplate name="hips"><![CDATA[
		{"Order":"[eval:[var:hipsIterateCount]-1]","Length":"[datasource:hipsdb-list.[var:hipsIterateCount].LENGTH]"}
	]]></texttemplate>
	<texttemplate name="valleys"><![CDATA[
		{"Order":"[eval:[var:valleysIterateCount]-1]","Length":"[datasource:valleysdb-list.[var:valleysIterateCount].LENGTH]"}
	]]></texttemplate>
	<texttemplate name="rakes"><![CDATA[
		{"Order":"[eval:[var:rakesIterateCount]-1]","Length":"[datasource:rakesdb-list.[var:rakesIterateCount].LENGTH]"}
	]]></texttemplate>
	<texttemplate name="eaves"><![CDATA[
		{"Order":"[eval:[var:eavesIterateCount]-1]","Length":"[datasource:eavesdb-list.[var:eavesIterateCount].LENGTH]"}
	]]></texttemplate>
	<texttemplate name="skylights"><![CDATA[
		{"Order":"[eval:[var:skylightsIterateCount]-1]","Length":"[datasource:protrusionsdb-list.[var:skylightsIterateCount].LENGTH]","Width":"[datasource:protrusionsdb-list.[var:skylightsIterateCount].WIDTH]"}
	]]></texttemplate>
	<texttemplate name="plumbingVents"><![CDATA[
		{"Order":"[eval:[var:plumbingVentsIterateCount]-1]","Type":"[datasource:ventsdb-list.[var:plumbingVentsIterateCount].SIZE]","Quantity":[datasource:ventsdb-list.[var:plumbingVentsIterateCount].QUANTITY]}
	]]></texttemplate>
	<texttemplate name="measurementsJSON"><![CDATA[
		{"CustomerId":[var:customerId],"Measurements":{"MeasurementId":1,"ExistingRoofType":"[var:existingRoofType]","NumberOfFloors":[var:numberOfFloors],[var:roofMeasurementsObject],"WasteFactor":"[var:wasteFactor]",[var:ridgeMeasurementsObject],[var:hipsObject],[var:valleysObject],[var:rakesObject],[var:eavesObject],[var:skylightsObject],[var:plumbingVentsObject]}}
	]]></texttemplate>
	<texttemplate name="accessories"><![CDATA[
		{"AccessoryId":"[datasource:nonMiscAccessoriesdb-list.[var:accessoriesIterateCount].ACCESSORY]","Quantity":"[datasource:nonMiscAccessoriesdb-list.[var:accessoriesIterateCount].CALCQUANTITY]"}
	]]></texttemplate>
	<texttemplate name="miscAccessories"><![CDATA[
		{"AccessoryId":"[datasource:miscAccessoriesdb-list.[var:miscAccessoriesIterateCount].ACCESSORY]","Quantity":"[datasource:miscAccessoriesdb-list.[var:miscAccessoriesIterateCount].CALCQUANTITY]"}
	]]></texttemplate>
	<texttemplate name="adjustments"><![CDATA[
		{"PriceAjustmentsId":"[eval:[var:adjustmentsIterateCount]-1]","Description":"[eval:decodeURI('[datasource:adjustmentsdb-list.[var:adjustmentsIterateCount].NOTES]')]","Price":"[eval:'[datasource:adjustmentsdb-list.[var:adjustmentsIterateCount].TYPE]' == 'Discount' ? '-':''][datasource:adjustmentsdb-list.[var:adjustmentsIterateCount].AMOUNT]"}
	]]></texttemplate>
	<texttemplate name="plywood"><![CDATA[
		{"PlywoodSheathingType":"[datasource:plywooddb-list.[var:plywoodIterateCount].WOOD]","MeasurementType":"[datasource:plywooddb-list.[var:plywoodIterateCount].MEASUREMENT]","Quantity":"[datasource:plywooddb-list.[var:plywoodIterateCount].QUANTITY]"}
	]]></texttemplate>
	<texttemplate name="estimateJSON"><![CDATA[
		{"CustomerId":"[var:customerId]","ProductId":"[var:shingle]","WarrantyId":"[var:warranty]",[var:accessoriesObject],[var:miscAccessoriesObject],[var:adjustmentsObject],"AdditionalCost":{[var:plywoodObject],"TearOffLayers":[var:tearOffLayers],"TearOffType":"[var:tearOffType]","NumberOfStories":[var:numberOfFloors]}}
	]]></texttemplate>

  </datasources>

  <!-- !STYLES -->
  <styles>

    <style name="100" width="100%" height="100%"/>
    <style name="testr" background="#ff0000" alpha=".4"/><!-- transparent red -->
    <style name="testg" background="#00ff00" alpha=".4"/><!-- transparent green -->
    <style name="testb" background="#0000ff" alpha=".4"/><!-- transparent blue -->

    <style name="brand" background="#ed1c24"/>
    <style name="lighttext" color="#888888" font="Futura-Medium"/>
    <style name="darktext" color="#343434" font="Futura-Medium"/>
    <style name="button" background="#ed1c24" width="100%" height="100%" color="#ffffff" font="Futura-Medium" alignment="center"/>
    <style name="button-grey" background="#343434" width="100%" height="100%" color="#ffffff" font="Futura-Medium" alignment="center"/>
    <style name="textinput" background="ffffff" cornerradius="2" borderwidth="1" bordercolor="#888888" clip="yes"/>

  </styles>

  <!-- !CLASSES -->
  <classes>

  	<class name="filler">
  		<panel name="filler" width="100%" height="1"></panel>
  	</class>

    <class name="button">
      <panel name="[param:name]" width="100%" height="100%" onclick="touched" onclickup="[param:action]" _value="[param:value]" _accessories="[param:accessories]" _image="[param:image]" _title="[param:title]" _units="[param:units]" _coverage="[param:coverage]" cornerradius="2" clip="yes">
        <text name="button" style="button" size="[param:size]" text="[param:label]"></text>
        <panel name="bg" style="100" background="ffffff" alpha="0"></panel>
      </panel>
    </class>

    <class name="productbutton">
      <panel name="[param:name]" width="100%" height="100%" onclick="touched" onclickup="[param:action]" _index="[param:index]" _rowindex="[param:rowindex]" _value="[param:value]" _accessories="[param:accessories]" _title="[param:title]" _col="[param:col]" cornerradius="2" clip="yes">
        <panel name="red" width="100%" height="100%" style="brand"></panel>
        <text name="button" style="button" size="[param:size]" text="[param:label]" alpha="1"></text>
        <image name="selected" source="images/saved-check-white.png" width="20" height="20" align="center" valign="center" alpha="0"></image>
        <panel name="bg" style="100" background="ffffff" alpha="0"></panel>
      </panel>
    </class>

    <class name="accessorybutton">
      <panel name="[param:name]" width="100%" height="100%" onclick="touched" onclickup="[param:action]" _index="[param:index]" _value="[param:value]" _accessories="[param:accessories]" _title="[param:title]" _category="[param:category]" _units="[param:units]" _coverage="[param:coverage]" cornerradius="2" clip="yes">
        <panel name="red" width="100%" height="100%" style="brand"></panel>
        <text name="button" style="button" size="[param:size]" text="[param:label]" alpha="1"></text>
        <image name="selected" source="images/saved-check-white.png" width="20" height="20" align="center" valign="center" alpha="0"></image>
        <panel name="bg" style="100" background="ffffff" alpha="0"></panel>
      </panel>
    </class>

    <class name="title">
      <panel name="titlebox" width="100%" height="79" padding-left="20" padding-right="20" >
        <text name="title" width="100%" height="60" ypos="10" style="darktext" size="40" alignment="left" text="[param:title]"></text>
        <panel name="divide" width="100%" height="5" valign="bottom" background="#343434"></panel>
      </panel>
    </class>

    <class name="summary-head-title">
      <panel name="titlebox" width="100%" height="79" >
        <text name="title" width="100%" height="60" ypos="10" style="darktext" size="40" alignment="left" text="[param:title]"></text>
        <panel name="divide" width="100%" height="5" valign="bottom" background="#343434"></panel>
      </panel>
    </class>

    <class name="titlebutton">
      <panel name="titlebox" width="100%" height="79" padding-left="20" padding-right="20">
        <text name="title" width="100%" height="60" ypos="10" style="darktext" size="40" alignment="left" text="[param:title]"></text>
        <panel name="create" width="50" height="50" align="right" valign="center">
          <object class="button" name="test" size="60" label="+" action="create" value="[param:action]" />
        </panel>
        <panel name="divide" width="100%" height="5" valign="bottom" background="#343434"></panel>
      </panel>
    </class>

    <class name="sidebar">
      <panel name="[param:label]" width="100%" height="65" onclickup="[param:action]" _form="[param:label]" _alias="[param:alias]">
        <text name="label" width="100%" height="100%" leftinset="20" style="darktext" size="20" alignment="left" text="[param:label]"></text>
        <image name="saved-check" source="images/saved-check.png" width="30" height="30" valign="center" align="right" margin-right="20" alpha="0"></image>
        <text name="required" width="30" height="30" ypos="24" align="right" margin-right="20" color="#ed1c24" font="Helvetica-Bold" size="30" alignment="center" text="*" alpha="[param:required]"></text>
        <panel name="border" width="100%" height="1" valign="bottom" background="#e3e3e3"></panel>
        <image name="arrow" source="images/sidebar-arrow.png" width="20" xpos="101%" valign="center"></image>
      </panel>
    </class>

    <class name="web">
      <panel name="web" alias="WEB" style="100" ypos="101%">
        <panel name="toolbar" alias="TOOLBAR" width="100%" height="50" background="#343434">
          <text name="title" width="40%" height="100%" align="center" color="#ffffff" font="Futura-Medium" size="30" alignment="center" text=""></text>
          <text name="close" width="100" height="100%" xpos="20" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="close" onclickup="closeweb" clickuptarget="CONTAINER"></text>
        </panel>
        <web name="browser" alias="BROWSER" width="100%" height="[eval: [object:WEB.height] - 50]" url=" " ypos="50" pagetofit="yes" bounces="no" feedback="yes"></web>
      </panel>
    </class>

    <class name="state">
      <panel name="state[param:index]" width="100%" height="40">
        <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="[param:name]" _abbr="[param:abbr]" _state="[param:name]" _code="[param:code]" onclickup="setstate"></text>
        <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
      </panel>
    </class>

    <class name="province">
      <panel name="province[param:index]" width="100%" height="40" _abbr="[param:abbr]" _province="[param:name]" onclickup="setprovince">
        <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="[param:name]"></text>
        <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
      </panel>
    </class>

    <class name="state-edit">
      <panel name="state[param:index]" width="100%" height="40" _abbr="[param:abbr]" _state="[param:name]" _code="[param:code]" onclickup="setstate-edit">
        <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="[param:name]"></text>
        <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
      </panel>
    </class>

    <class name="province-edit">
      <panel name="province[param:index]" width="100%" height="40" _abbr="[param:abbr]" _province="[param:name]" onclickup="setprovince-edit">
        <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="[param:name]"></text>
        <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
      </panel>
    </class>

    <class name="signin">
      <!-- !sign in -->
      <panel name="signin" alias="SIGNIN" style="100" background="#e3e3e3" alpha="1">

        <image name="logo" source="images/login-logo.png" width="148" align="center" ypos="134"></image>
        <panel name="column" width="40%" height="50%" align="center" ypos="300">

          <text name="title" width="100%" height="40" style="lighttext" size="30" alignment="left" text="Sign In"></text>

          <panel name="username" alias="USERNAME" width="100%" height="50" ypos="50" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <!--<text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Username"></text>-->
            <textfield name="input" width="100%" height="100%" align="right" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Username" onreturnkeypressed="next" returnkeytype="next" kbtype="emailaddress" autocorrect="no" _next="PASSWORD"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="USERNAME"></panel>
          </panel>

          <panel name="password" alias="PASSWORD" width="100%" height="50" align="center" bottomof="USERNAME" margin-top="20" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <!--<text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Password"></text>-->
            <textfield name="input" width="100%" height="100%" align="right" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Password" onreturnkeypressed="next" returnkeytype="go" _next="none" _action="signin" password="yes"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="PASSWORD"></panel>
          </panel>

          <panel name="signin" width="110" height="50" bottomof="PASSWORD" margin-top="20">
            <object class="button" name="test" size="20" label="Sign In" action="signin" />
          </panel>

          <text name="radiolabel" width="43%" height="50" bottomof="PASSWORD" margin-top="20" align="right" style="lighttext" leftinset="1" size="18" alignment="right" text="Remember Me"></text>

          <panel name="remember" alias="REMEMBER" width="30" height="30" leftof="radiolabel" bottomof="PASSWORD" margin-top="30" background="f3f3f3" cornerradius="15" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="checkon" _action="remember">
             <panel name="check" width="0" height="0" align="center" valign="center" background="#ed1c24" cornerradius="12" alpha="1" ></panel>
          </panel>


          <text name="noaccountlabel" alias="NOACCOUNTLABEL" width="100%" height="30" ypos="70%" style="lighttext" size="20" alignment="center" text="Don't have an account?"></text>
          <panel name="register" width="150" height="50" align="center" bottomof="NOACCOUNTLABEL" margin-top="20">
            <panel name="register" width="100%" height="100%" onclick="touched" onclickup="openregisterview" _value="[param:value]" cornerradius="2" clip="yes">
              <text name="button" style="button-grey" size="20" text="Register"></text>
              <panel name="bg" style="100" background="ffffff" alpha="0"></panel>
            </panel>
          </panel>

        </panel><!-- end of column -->
      </panel><!-- end of sign in -->
    </class>

    <class name="choice">
      <!-- !choice -->
      <panel name="choice" alias="CHOICE" width="100%" height="[eval: [object:CONTAINER.height] - 74]" ypos="74" background="#e3e3e3" alpha="1">
        <panel name="column" width="60%" height="55%" align="center" valign="center">

          <panel name="search-box" alias="SEARCH-BOX" width="100%" height="300" >
            <text name="label" width="100%" height="40" style="lighttext" size="30" alignment="center" text="Search for an existing estimate."></text>
            <panel name="search-lastname" alias="SEARCH-LASTNAME" width="[eval: [object:SEARCH-BOX.width] - 130]" height="50" align="center" bottomof="label" margin-top="20" style="textinput">
              <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
              <textfield name="input" width="100%" height="100%" align="right" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Last Name" onreturnkeypressed="next" returnkeytype="search" _next="none" _action="search" ></textfield>
              <panel name="active" style="100" onclickup="labelactive" _field="SEARCH-LASTNAME"></panel>
            </panel>
            <panel name="search-address" alias="SEARCH-ADDRESS" width="[eval: [object:SEARCH-BOX.width] - 130]" height="50" align="center" bottomof="search-lastname" margin-top="20" style="textinput">
              <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
              <textfield name="input" width="100%" height="100%" align="right" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Address" onreturnkeypressed="next" returnkeytype="search" _next="none" _action="search" ></textfield>
              <panel name="active" style="100" onclickup="labelactive" _field="SEARCH-ADDRESS"></panel>
            </panel>
            <!--<panel name="search-custnumber" alias="SEARCH-CUSTNUMBER" width="[eval: [object:SEARCH-BOX.width] - 130]" height="50" align="center" bottomof="search-address" margin-top="20" style="textinput">
              <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
              <textfield name="input" width="100%" height="100%" align="right" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Customer ID" onreturnkeypressed="next" returnkeytype="search" _next="none" _action="search" ></textfield>
              <panel name="active" style="100" onclickup="labelactive" _field="SEARCH-CUSTNUMBER"></panel>
            </panel>-->

            <panel name="search-btn" width="110" height="50" align="center" bottomof="search-address" margin-top="20">
              <object class="button" name="test" size="20" label="Search" action="search" />
            </panel>
          </panel>

          <panel name="createnew" width="100%" height="150" valign="bottom" >
            <text name="label" width="100%" height="40" style="lighttext" size="30" alignment="center" text="Create a new estimate."></text>

            <panel name="create" width="210" height="50" align="center" bottomof="label" margin-top="20">
              <object class="button" name="test" size="20" label="Start Estimate" action="create" value="newestimate" />
            </panel>
          </panel>

        </panel>
      </panel><!-- end of choice -->
    </class>

    <!-- !search results -->
    <class name="searchresult">
      <panel name="result-item[param:index]" width="100%" height="100">
        <text name="name" width="65%" height="30" xpos="20" ypos="20" style="darktext" size="24" alignment="left" text="[param:lastname], [param:firstname]" ></text>
        <text name="address" width="65%" height="30" xpos="20" bottomof="name" style="darktext" size="20" alignment="left" text="[param:street], [param:city], [param:state] [param:zip]" ></text>
        <panel name="edit-btn" width="100" height="50" ypos="22" align="right" margin-right="20">
          <object class="button" name="test" size="20" label="Edit" action="edit" value="[param:index]" />
        </panel>
        <panel name="view-btn" width="100" height="50" ypos="22" leftof="edit-btn" margin-right="20" >
          <object class="button" name="test" size="20" label="View" action="viewestimate" value="[param:index]" />
        </panel>
        <panel name="divider" width="728" height="5" align="center" valign="bottom" background="#343434"></panel>
      </panel>
    </class>

    <class name="results">
      <panel name="searchresults" alias="SEARCHRESULTS" width="100%" height="100%" ypos="101%" background="#e3e3e3">
        <panel name="searchhead" width="100%" height="74" background="#343434" >
          <text name="label" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="24" alignment="center" text="Searching..."></text>
          <text name="close" width="100" height="100%" color="#ffffff" font="Futura-Medium" size="20" alignment="left" leftinset="20" text="Close" onclickup="closeresults" clickuptarget="CONTAINER"></text>
        </panel>
        <list name="resultlist" width="100%" height="[eval: [object:SEARCHRESULTS.height] - 74]" datasource="getEstimate" ypos="74" orientation="vertical" paginate="no">
			<object class="searchresult" index="[ds:dataSourceIndex]" lastname="[ds:CustomerLastName]" firstname="[ds:CustomerFirstName]" street="[ds:Address1]" city="[ds:City]" zip="[ds:PostalCode]" phone="[ds:PhoneNumber]" state="[ds:CustomerDetails/StateProvince]" />
<!-- 			<object class="searchresult" index="[ds:dataSourceIndex]" lastname="[ds:CustomerLastName]" firstname="[ds:CustomerFirstName]" street="[ds:Address1]" city="[ds:City]" state="[ds:StateProvince]" zip="[ds:PostalCode]" phone="[ds:PhoneNumber]" /> -->
        </list>
      </panel>
    </class>

    <!-- !edit modal -->
    <class name="editpanel">
      <panel name="editpanel" alias="EDITPANEL" width="90%" height="70%" align="center" ypos="5%" background="e3e3e3" borderwidth="2" bordercolor="#343434" clip="yes" >
        <panel name="edithead" width="100%" height="80" background="#343434">
          <text name="title" width="100%" height="100%" leftinset="20" color="#ffffff" font="Futura-Medium" size="30" alignment="left" text="Edit"></text>
          <text name="close" width="80" height="80" align="right" color="#ffffff" font="Helvetica" size="30" alignment="center" text="X" onclickup="close-edit" clickuptarget="CONTAINER"></text>
        </panel>

        <pager name="editpager" alias="EDITPAGER" width="[eval: [object:EDITPANEL.width] - 20]" height="[eval: [object:EDITPANEL.height] - 160]" xpos="20" ypos="80" orientation="vertical" paginate="no" >
          <panel name="1" width="100%" height="80" padding-right="20">
            <text name="label" width="50%" height="100%" color="#343434" font="Futura-Medium" size="24" alignment="left" text="First Name" ></text>
            <panel name="edit-fname" alias="EDIT-FNAME" width="50%" height="50" align="right" valign="center" style="textinput">
              <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
              <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="EDIT-LNAME" text="[param:fname]" _action="null" ></textfield>
              <panel name="active" style="100" onclickup="labelactive" _field="EDIT-FNAME"></panel>
            </panel>
            <panel name="border" width="100%" height="1" valign="bottom" background="#343434"></panel>
          </panel>
          <panel name="2" width="100%" height="80" padding-right="20">
            <text name="label" width="50%" height="100%" color="#343434" font="Futura-Medium" size="24" alignment="left" text="Last Name" ></text>
            <panel name="edit-lname" alias="EDIT-LNAME" width="50%" height="50" align="right" valign="center" style="textinput">
              <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
              <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="EDIT-EMAIL" text="[param:lname]" _action="null" ></textfield>
              <panel name="active" style="100" onclickup="labelactive" _field="EDIT-LNAME"></panel>
            </panel>
            <panel name="border" width="100%" height="1" valign="bottom" background="#343434"></panel>
          </panel>
          <panel name="3" width="100%" height="80" padding-right="20">
            <text name="label" width="50%" height="100%" color="#343434" font="Futura-Medium" size="24" alignment="left" text="Email Address" ></text>
            <panel name="edit-email" alias="EDIT-EMAIL" width="50%" height="50" align="right" valign="center" style="textinput">
              <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
              <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="EDIT-PHONE" text="[param:email]" kbtype="emailaddress" autocorrect="no" _action="null" ></textfield>
              <panel name="active" style="100" onclickup="labelactive" _field="EDIT-EMAIL"></panel>
            </panel>
            <panel name="border" width="100%" height="1" valign="bottom" background="#343434"></panel>
          </panel>
          <panel name="4" width="100%" height="80" padding-right="20">
            <text name="label" width="50%" height="100%" color="#343434" font="Futura-Medium" size="24" alignment="left" text="Phone Number" ></text>
            <panel name="edit-phone" alias="EDIT-PHONE" width="50%" height="50" align="right" valign="center" style="textinput">
              <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
              <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" text="[param:phone]" _action="null" onchange="isNaN"></textfield>
              <panel name="active" style="100" onclickup="labelactive" _field="EDIT-PHONE"></panel>
            </panel>
            <panel name="border" width="100%" height="1" valign="bottom" background="#343434"></panel>
          </panel>
          <panel name="5" width="100%" height="80" padding-right="20">
            <text name="label" width="50%" height="100%" color="#343434" font="Futura-Medium" size="24" alignment="left" text="Country" ></text>
            <panel name="checks" width="50%" height="100%" align="right">
              <panel name="edit-usa" alias="EDIT-USA" width="50" height="50" align="left" valign="center" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="edit-countryus"  >
                <panel name="check" width="40" height="40" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
              </panel>
              <text name="checklabel" width="150" height="50" valign="center" rightof="EDIT-USA" style="darktext" size="20" leftinset="10" alignment="left" text="US"></text>
              <panel name="edit-canada" alias="EDIT-CANADA" width="50" height="50" xpos="120" valign="center" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="edit-countrycan"  >
                <panel name="check" width="0" height="0" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
              </panel>
              <text name="checklabel" width="150" height="50" valign="center" rightof="edit-canada" style="darktext" size="20" leftinset="10" alignment="left" text="Canada"></text>
            </panel>
            <panel name="border" width="100%" height="1" valign="bottom" background="#343434"></panel>
          </panel>
          <panel name="6" width="100%" height="80" padding-right="20">
            <text name="label" width="50%" height="100%" color="#343434" font="Futura-Medium" size="24" alignment="left" text="Street Address" ></text>
            <panel name="edit-street" alias="EDIT-STREET" width="50%" height="50" align="right" valign="center" style="textinput">
              <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
              <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="EDIT-CITY" _action="null" text="[param:address1]" ></textfield>
              <panel name="active" style="100" onclickup="labelactive" _field="EDIT-STREET"></panel>
            </panel>
            <panel name="border" width="100%" height="1" valign="bottom" background="#343434"></panel>
          </panel>
          <panel name="7" width="100%" height="80" padding-right="20">
            <text name="label" width="50%" height="100%" color="#343434" font="Futura-Medium" size="24" alignment="left" text="City" ></text>
            <panel name="edit-city" alias="EDIT-CITY" width="50%" height="50" align="right" valign="center" style="textinput">
              <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
              <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null" text="[param:city]" ></textfield>
              <panel name="active" style="100" onclickup="labelactive" _field="EDIT-CITY"></panel>
            </panel>
            <panel name="border" width="100%" height="1" valign="bottom" background="#343434"></panel>
          </panel>
          <panel name="8" width="100%" height="80" padding-right="20">
            <text name="label" width="50%" height="100%" color="#343434" font="Futura-Medium" size="24" alignment="left" text="State or Province" ></text>
            <panel name="edit-state" alias="EDIT-STATE" width="50%" height="50" align="right" valign="center" style="textinput">
              <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
              <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null" text="[param:state]" ></textfield>
              <panel name="active" style="100" onclickup="edit-state-list" _field="EDIT-STATE"></panel>
            </panel>
            <panel name="border" width="100%" height="1" valign="bottom" background="#343434"></panel>
          </panel>

          <panel name="9" width="100%" height="80" padding-right="20">
            <text name="label" width="50%" height="100%" color="#343434" font="Futura-Medium" size="24" alignment="left" text="Zip or Postal Code" ></text>
            <panel name="edit-zip" alias="EDIT-ZIP" width="50%" height="50" align="right" valign="center" style="textinput">
              <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
              <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null" text="[param:zip]" ></textfield>
              <panel name="active" style="100" onclickup="labelactive" _field="EDIT-ZIP"></panel>
            </panel>
            <panel name="border" width="100%" height="1" valign="bottom" background="#343434"></panel>
          </panel>
        </pager>

        <panel name="modalcurtain" alias="MODALCURTAIN" width="100%" height="100%" alpha="0"></panel>

        <panel name="us-list" alias="US-LIST" width="300" height="300" xpos="50%" ypos="100%" alpha="1" background="e3e3e3" borderwidth="1" bordercolor="#343434">
          <list name="statelist-edit" width="100%" height="100%" datasource="states" orientation="vertical" paginate="no">
            <object class="state-edit" index="[param:dataSourceIndex]" abbr="[param:code]" name="[param:name]"/>
          </list>
        </panel>

        <panel name="can-list" alias="CAN-LIST" width="300" height="300" xpos="50%" ypos="100%" alpha="0" background="e3e3e3" borderwidth="1" bordercolor="#343434">
          <list name="provincelist-edit" width="100%" height="100%" datasource="provinces" orientation="vertical" paginate="no">
            <object class="province-edit" index="[param:dataSourceIndex]" abbr="[param:code]" name="[param:name]" />
          </list>
        </panel>

        <panel name="editfooter" width="100%" height="80" valign="bottom" background="#343434" padding-right="20">
          <panel name="view-btn" width="130" height="50" align="right" valign="center">
            <object class="button" name="test" size="20" label="Update" action="editcustomer" value="" />
          </panel>
        </panel>

      </panel>
    </class>

    <!-- !Roof info classes -->
    <class name="roof area">
      <panel name="roof-area[param:index]" alias="ROOF-AREA[param:index]" width="100%" height="220" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="ROOF AREA [param:index]"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-item" clickuptarget="CONTAINER" _target="ROOF-AREA[param:index]" _indexname="areaindex" _spacername="AREA" _parent="ROOF-AREA" _section="ROOF AREA" _check="Roof Areas">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="length" width="256" height="50" bottomof="subtitle">
          <panel name="rl[param:index]" alias="RL[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Length"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" onshow="saveup" onhide="savedown" _kbactive="RL[param:index]" returnkeytype="next" kbtype="numberpad" _next="RW[param:index]" _action="null" _roof="Roof Areas" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="RL[param:index]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>
        </panel>
        <panel name="width" width="256" height="50" bottomof="length" margin-top="10">
          <panel name="rw[param:index]" alias="RW[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Width"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" onshow="saveup" onhide="savedown" _kbactive="RW[param:index]" returnkeytype="next" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="RW[param:index]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>
        </panel>
        <panel name="slope[param:index]" alias="SLOPE[param:index]" width="226" height="50" align="left" bottomof="width" margin-top="10" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Slope"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" _next="none" _action="null" onchange="roof-change" ></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="SLOPE[param:index]" _drop="ROOF-AREA[param:index]" _droptype="SLOPEDROP[param:index]"></panel>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
        <panel name="drop" width="45%" height="170" bottomof="subtitle" xpos="101%" alpha="0" style="textinput">
          <panel name="slopedrop[param:index]" alias="SLOPEDROP[param:index]" width="100%" height="100%" alpha="0">
            <text name="drophead" width="50%" height="30" style="lighttext" size="18" alignment="center" text="Slope"></text>
            <text name="drophead2" width="50%" height="30" align="right" style="lighttext" size="18" alignment="center" text="Factor"></text>
            <panel name="border" width="100%" height="1" background="#888888" ypos="30"></panel>
            <pager name="factors" width="100%" height="[eval:[object:SLOPEDROP[param:index].height] - 30]" ypos="30" orientation="vertical" paginate="no">
              <panel name="factor1" width="100%" height="40" _slope="3:12" _factor="1.035" _slopeindex="[param:index]" onclickup="setfactor">
                <text name="slope" width="50%" height="100%" style="darktext" size="18" alignment="center" text="3:12"></text>
                <text name="factor" width="50%" height="100%" align="right" style="darktext" size="18" alignment="center" text="1.035"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="factor2" width="100%" height="40" _slope="4:12" _factor="1.055" _slopeindex="[param:index]" onclickup="setfactor">
                <text name="slope" width="50%" height="100%" style="darktext" size="18" alignment="center" text="4:12"></text>
                <text name="factor" width="50%" height="100%" align="right" style="darktext" size="18" alignment="center" text="1.055"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="factor3" width="100%" height="40" _slope="5:12" _factor="1.085" _slopeindex="[param:index]" onclickup="setfactor">
                <text name="slope" width="50%" height="100%" style="darktext" size="18" alignment="center" text="5:12"></text>
                <text name="factor" width="50%" height="100%" align="right" style="darktext" size="18" alignment="center" text="1.085"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="factor4" width="100%" height="40" _slope="6:12" _factor="1.12" _slopeindex="[param:index]" onclickup="setfactor">
                <text name="slope" width="50%" height="100%" style="darktext" size="18" alignment="center" text="6:12"></text>
                <text name="factor" width="50%" height="100%" align="right" style="darktext" size="18" alignment="center" text="1.12"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="factor5" width="100%" height="40" _slope="7:12" _factor="1.16" _slopeindex="[param:index]" onclickup="setfactor">
                <text name="slope" width="50%" height="100%" style="darktext" size="18" alignment="center" text="7:12"></text>
                <text name="factor" width="50%" height="100%" align="right" style="darktext" size="18" alignment="center" text="1.16"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="factor6" width="100%" height="40" _slope="8:12" _factor="1.205" _slopeindex="[param:index]" onclickup="setfactor">
                <text name="slope" width="50%" height="100%" style="darktext" size="18" alignment="center" text="8:12"></text>
                <text name="factor" width="50%" height="100%" align="right" style="darktext" size="18" alignment="center" text="1.205"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="factor7" width="100%" height="40" _slope="9:12" _factor="1.25" _slopeindex="[param:index]" onclickup="setfactor">
                <text name="slope" width="50%" height="100%" style="darktext" size="18" alignment="center" text="9:12"></text>
                <text name="factor" width="50%" height="100%" align="right" style="darktext" size="18" alignment="center" text="1.25"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="factor8" width="100%" height="40" _slope="10:12" _factor="1.305" _slopeindex="[param:index]" onclickup="setfactor">
                <text name="slope" width="50%" height="100%" style="darktext" size="18" alignment="center" text="10:12"></text>
                <text name="factor" width="50%" height="100%" align="right" style="darktext" size="18" alignment="center" text="1.305"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="factor9" width="100%" height="40" _slope="11:12" _factor="1.36" _slopeindex="[param:index]" onclickup="setfactor">
                <text name="slope" width="50%" height="100%" style="darktext" size="18" alignment="center" text="11:12"></text>
                <text name="factor" width="50%" height="100%" align="right" style="darktext" size="18" alignment="center" text="1.36"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="factor10" width="100%" height="40" _slope="12:12" _factor="1.415" _slopeindex="[param:index]" onclickup="setfactor" >
                <text name="slope" width="50%" height="100%" style="darktext" size="18" alignment="center" text="12:12"></text>
                <text name="factor" width="50%" height="100%" align="right" style="darktext" size="18" alignment="center" text="1.415"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
            </pager>
          </panel>
        </panel>
      </panel>
    </class><!-- <object class="roof area" index="1" /> -->

    <class name="inspection">
      <panel name="inspection" alias="INSPECTION" width="100%" height="160">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="EXISTING ROOF INFORMATION"></text>
        <panel name="rooftype" alias="ROOFTYPE" width="226" height="50" align="left" bottomof="subtitle" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Type"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null" onchange="roof-change"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="ROOFTYPE" _drop="INSPECTION" _droptype="ROOFTYPEDROP"></panel>
        </panel>
        <panel name="floors" alias="FLOORS" width="226" height="50" align="left" bottomof="rooftype" margin-top="10" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Floors"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="1 - 3" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null" onchange="roof-change"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="FLOORS" _drop="INSPECTION" _droptype="FLOORSDROP"></panel>
        </panel>
        <!--<panel name="difficulty" alias="DIFFICULTY" width="226" height="50" align="left" bottomof="floors" margin-top="10" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Difficulty"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" _next="none" _action="null"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="DIFFICULTY" _drop="INSPECTION"></panel>
        </panel>-->
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
        <panel name="drop" width="45%" height="110" bottomof="subtitle" xpos="101%" alpha="0" style="textinput">
          <pager name="floorsdrop" alias="FLOORSDROP" width="100%" height="100%" orientation="vertical" paginate="no" alpha="0">
            <panel name="floor1" width="100%" height="40" _floors="1" onclickup="setfloor">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="1"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
            <panel name="floor2" width="100%" height="40" _floors="2" onclickup="setfloor">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="2"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
            <panel name="floor3" width="100%" height="40" _floors="3" onclickup="setfloor">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="3"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
          </pager>

          <panel name="rooftypedrop" alias="ROOFTYPEDROP" width="100%" height="100%" alpha="0">
            <text name="drophead" width="100%" height="30" style="lighttext" size="18" alignment="center" text="Roof Types"></text>
            <panel name="border" width="100%" height="1" background="#888888" ypos="30"></panel>
            <pager name="types" width="100%" height="[eval:[object:ROOFTYPEDROP.height] - 30]" ypos="30" orientation="vertical" paginate="no">
              <panel name="type1" width="100%" height="40" _type="3-Tab" onclickup="setrooftype">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="3-Tab"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="type2" width="100%" height="40" _type="Architectural" onclickup="setrooftype">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Architectural"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="type3" width="100%" height="40" _type="Designer" onclickup="setrooftype">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Designer"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="type4" width="100%" height="40" _type="Slate" onclickup="setrooftype">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Slate"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="type5" width="100%" height="40" _type="Shake" onclickup="setrooftype">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Shake"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="type6" width="100%" height="40" _type="Barrel Tile" onclickup="setrooftype">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Barrel Tile"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
            </pager>
          </panel>
        </panel>
      </panel>
    </class><!-- <object class="inspection" /> -->

    <class name="fascia">
      <panel name="fascia" alias="FASCIA" width="100%" height="220">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="20" alignment="left" text="Existing Fascia Information"></text>
        <panel name="fasciacolor" alias="FASCIACOLOR" width="226" height="50" align="left" bottomof="subtitle" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Facia Color"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" onshow="saveup" onhide="savedown" returnkeytype="next" _next="FASCIASIZE" _action="null"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="FASCIACOLOR"></panel>
        </panel>
        <panel name="fs" width="256" height="50" bottomof="fasciacolor" margin-top="10">
          <panel name="fasciasize" alias="FASCIASIZE" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Fascia Size"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" onshow="saveup" onhide="savedown" returnkeytype="next" _next="none" _action="null"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="FASCIASIZE"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="in"></text>
        </panel>
        <panel name="fasciatype" alias="FASCIATYPE" width="226" height="50" align="left" bottomof="fs" margin-top="10" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Fascia Type"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" _next="none" _action="null"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="FASCIATYPE" _drop="FASCIA"></panel>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
        <panel name="drop" width="45%" height="170" bottomof="subtitle" xpos="101%" alpha="0" style="textinput"></panel>
      </panel>
    </class><!-- <object class="fascia" /> -->

    <class name="waste">
      <panel name="waste" alias="WASTE" width="100%" height="100">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="ESTIMATE"></text>
        <panel name="wp" width="256" height="50" bottomof="subtitle" >
          <panel name="wastepercent" alias="WASTEPERCENT" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Waste"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" onshow="saveup" onhide="savedown" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="WASTEPERCENT"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="%"></text>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="waste" /> -->

    <class name="ridge">
      <panel name="ridge[param:index]" alias="RIDGE[param:index]" width="100%" height="160" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="RIDGE [param:index]"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-item" clickuptarget="CONTAINER" _target="RIDGE[param:index]" _indexname="ridgeindex" _spacername="RIDGE" _parent="RIDGE"  _section="RIDGE" _check="Ridges">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="ridge" width="256" height="50" bottomof="subtitle">
          <panel name="ridgelength[param:index]" alias="RIDGELENGTH[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Length"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" onshow="saveup" onhide="savedown" returnkeytype="next" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="RIDGELENGTH[param:index]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>
        </panel>
        <panel name="ridgevent[param:index]" alias="RIDGEVENT[param:index]" width="50" height="50" align="left" bottomof="ridge" margin-top="10" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="checkonindexed" _action="ridgeradio" _index="[param:index]">
          <panel name="check" width="0" height="0" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
        </panel>
        <text name="checklabel" width="150" height="50" bottomof="ridge" rightof="ridgevent[param:index]" margin-top="10" style="darktext" size="20" leftinset="10" alignment="left" text="Ridge Vent(s)"></text>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="ridge" index="1" /> -->

    <class name="hip">
      <panel name="hip[param:index]" alias="HIP[param:index]" width="100%" height="160" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="HIP [param:index]"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-item" clickuptarget="CONTAINER" _target="HIP[param:index]" _indexname="hipindex" _spacername="HIP" _parent="HIP" _section="HIP" _check="Hips">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="hip" width="256" height="50" bottomof="subtitle">
          <panel name="hiplength[param:index]" alias="HIPLENGTH[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Length"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" onshow="saveup" onhide="savedown" returnkeytype="next" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="HIPLENGTH[param:index]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>
        </panel>
        <panel name="hipvent[param:index]" alias="HIPVENT[param:index]" width="50" height="50" align="left" bottomof="hip" margin-top="10" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="checkonindexed" _action="hipradio" _index="[param:index]">
          <panel name="check" width="0" height="0" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
        </panel>
        <text name="checklabel" width="150" height="50" bottomof="hip" rightof="hipvent[param:index]" margin-top="10" style="darktext" size="20" leftinset="10" alignment="left" text="Hip Vent(s)"></text>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="hip" index="1" /> -->

    <class name="valley">
      <panel name="valley[param:index]" alias="VALLEY[param:index]" width="100%" height="100" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="VALLEY [param:index]"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-item" clickuptarget="CONTAINER" _target="VALLEY[param:index]" _indexname="valleyindex" _spacername="VALLEY" _parent="VALLEY" _section="VALLEY" _check="Valleys">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="valley" width="256" height="50" bottomof="subtitle">
          <panel name="valleylength[param:index]" alias="VALLEYLENGTH[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Length"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" onshow="saveup" onhide="savedown" returnkeytype="next" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="VALLEYLENGTH[param:index]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="valley" index="1" /> -->

    <class name="rake">
      <panel name="rake[param:index]" alias="RAKE[param:index]" width="100%" height="100" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="RAKE [param:index]"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-item" clickuptarget="CONTAINER" _target="RAKE[param:index]" _indexname="rakeindex" _spacername="RAKE" _parent="RAKE" _section="RAKE" _check="Rakes">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="rake" width="256" height="50" bottomof="subtitle">
          <panel name="rakelength[param:index]" alias="RAKELENGTH[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Length"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" onshow="saveup" onhide="savedown" returnkeytype="next" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="RAKELENGTH[param:index]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="rake" index="1" /> -->

    <class name="eave">
      <panel name="eave[param:index]" alias="EAVE[param:index]" width="100%" height="100" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="EAVE [param:index]"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-item" clickuptarget="CONTAINER" _target="EAVE[param:index]" _indexname="eaveindex" _spacername="EAVE" _parent="EAVE" _section="EAVE" _check="Eaves">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="eave" width="256" height="50" bottomof="subtitle">
          <panel name="eavelength[param:index]" alias="EAVELENGTH[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Length"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" onshow="saveup" onhide="savedown" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="EAVELENGTH[param:index]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="eave" index="1" /> -->

    <class name="chimney">
      <panel name="protrusion[param:pindex]" alias="PROTRUSION[param:pindex]" width="100%" height="160" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="CHIMNEY [param:index]"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-chimney-item" clickuptarget="CONTAINER" _target="PROTRUSION[param:pindex]" _indexname="protrusionindex" _spacername="CHIMNEY" _parent="PROTRUSION" _section="CHIMNEY" _protrusiontype="chimneyindex" _protrusiontype-index="[param:index]">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="length" width="256" height="50" bottomof="subtitle">
          <panel name="protrusionlength[param:pindex]" alias="PROTRUSIONLENGTH[param:pindex]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Length"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" onshow="saveup" onhide="savedown" kbtype="numberpad" _next="PROTRUSIONWIDTH[param:pindex]" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="PROTRUSIONLENGTH[param:pindex]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>
        </panel>
        <panel name="width" width="256" height="50" bottomof="length" margin-top="10">
          <panel name="protrusiontwidth[param:pindex]" alias="PROTRUSIONWIDTH[param:pindex]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Width"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" onshow="saveup" onhide="savedown" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="PROTRUSIONWIDTH[param:pindex]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>
        </panel>
        <text name="type[param:pindex]" alias="TYPE[param:pindex]" width="1" height="1" color="#ffffff" font="Helvetica" size="1" alignment="left" text="Chimney" alpha="0"></text>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="chimney" index="1" /> -->

    <class name="skylight">
      <panel name="protrusion[param:pindex]" alias="PROTRUSION[param:pindex]" width="100%" height="160" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="SKYLIGHT [param:index]"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-chimney-item" clickuptarget="CONTAINER" _target="PROTRUSION[param:pindex]" _indexname="protrusionindex" _spacername="CHIMNEY" _parent="PROTRUSION" _section="CHIMNEY" _protrusiontype="skylightindex" _protrusiontype-index="[param:index]">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="length" width="256" height="50" bottomof="subtitle">
          <panel name="protrusionlength[param:pindex]" alias="PROTRUSIONLENGTH[param:pindex]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Length"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" onshow="saveup" onhide="savedown" kbtype="numberpad" _next="PROTRUSIONWIDTH[param:pindex]" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="PROTRUSIONLENGTH[param:pindex]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>
        </panel>
        <panel name="width" width="256" height="50" bottomof="length" margin-top="10">
          <panel name="protrusiontwidth[param:pindex]" alias="PROTRUSIONWIDTH[param:pindex]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Width"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" onshow="saveup" onhide="savedown" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="PROTRUSIONWIDTH[param:pindex]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>
        </panel>
        <text name="type[param:pindex]" alias="TYPE[param:pindex]" width="1" height="1" color="#ffffff" font="Helvetica" size="1" alignment="left" text="Skylight" alpha="0"></text>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="skylight" index="1" /> -->

    <class name="3vent">
      <panel name="vent[param:index]" alias="VENT[param:index]" width="100%" height="100" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="3 INCH PLUMBING VENTS"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-vent" clickuptarget="CONTAINER" _target="VENT[param:index]" _label="3 INCH PLUMBING VENTS" _ventaction="add3vent" _ventactiontarget="3-btn" _indexname="ventindex">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="ventsize[param:index]" alias="VENTSIZE[param:index]" width="0" height="0" alpha="0">
          <text name="input" width="0" height="0" color="#ffffff" font="Helvetica" size="1" alignment="left" text="3"></text>
        </panel>
        <panel name="vent" width="256" height="50" bottomof="subtitle">
          <panel name="ventquantity[param:index]" alias="VENTQUANTITY[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Quantity"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" onshow="saveup" onhide="savedown" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="VENTQUANTITY[param:index]"></panel>
          </panel>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="3vent" /> -->

    <class name="2vent">
      <panel name="vent[param:index]" alias="VENT[param:index]" width="100%" height="100" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="2 INCH PLUMBING VENTS"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-vent" clickuptarget="CONTAINER" _target="VENT[param:index]" _label="2 INCH PLUMBING VENTS" _ventaction="add2vent" _ventactiontarget="2-btn" _indexname="ventindex">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="ventsize[param:index]" alias="VENTSIZE[param:index]" width="0" height="0" alpha="0">
          <text name="input" width="0" height="0" color="#ffffff" font="Helvetica" size="1" alignment="left" text="2"></text>
        </panel>
        <panel name="vent" width="256" height="50" bottomof="subtitle">
          <panel name="ventquantity[param:index]" alias="VENTQUANTITY[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Quantity"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" onshow="saveup" onhide="savedown" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="VENTQUANTITY[param:index]"></panel>
          </panel>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="2vent" /> -->

    <class name="15vent">
      <panel name="vent[param:index]" alias="VENT[param:index]" width="100%" height="100" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="1.5 INCH PLUMBING VENTS"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-vent" clickuptarget="CONTAINER" _target="VENT[param:index]" _label="1.5 INCH PLUMBING VENTS" _ventaction="add15vent" _ventactiontarget="15-btn" _indexname="ventindex">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="ventsize[param:index]" alias="VENTSIZE[param:index]" width="0" height="0" alpha="0">
          <text name="input" width="0" height="0" color="#ffffff" font="Helvetica" size="1" alignment="left" text="1.5"></text>
        </panel>
        <panel name="vent" width="256" height="50" bottomof="subtitle">
          <panel name="ventquantity[param:index]" alias="VENTQUANTITY[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Quantity"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" onshow="saveup" onhide="savedown" kbtype="numberpad" _next="none" _action="null" onchange="roof-isNaN"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="VENTQUANTITY[param:index]"></panel>
          </panel>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="2vent" /> -->

    <class name="customvent">
      <panel name="vent[param:index]" alias="VENT[param:index]" width="100%" height="160" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="CUSTOM VENT [param:index]"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-vent" clickuptarget="CONTAINER" _target="VENT[param:index]" _label="CUSTOM VENT [param:index]" _ventaction="addcustomvent" _ventactiontarget="custom-btn" _indexname="ventindex">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="size" width="256" height="50" bottomof="subtitle">
          <panel name="ventsize[param:index]" alias="VENTSIZE[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Size"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" onshow="saveup" onhide="savedown" kbtype="numberpad" _next="VENTQUANTITY[param:index]" _action="null"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="VENTSIZE[param:index]"></panel>
          </panel>
          <text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="in"></text>
        </panel>
        <panel name="vent" width="256" height="50" bottomof="size" margin-top="10">
          <panel name="ventquantity[param:index]" alias="VENTQUANTITY[param:index]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Quantity"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="VENTQUANTITY[param:index]"></panel>
          </panel>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="customvent" index="1" /> -->

    <class name="photo">
      <panel name="photo[param:index]" alias="PN[param:index]" width="100%" height="215">
        <panel name="imgbox" width="150" height="200" valign="center" clip="yes">
          <image name="rollphoto" asset="[param:photo]" height="100%" contain="yes"></image>
          <image name="cameraphoto" fullpath="[param:photo]" width="100%" align="center" valign="center"></image>
          <panel name="deletebox" width="40" height="40" align="right" onclickup="delete-photo" clickuptarget="CONTAINER" _index="[param:index]" >
            <image name="icon" source="images/delete-white.png" width="22" height="22" align="center" valign="center"></image>
          </panel>
        </panel>
        <panel name="notbox" width="[eval:[object:PN[param:index].width] - 150]" height="200" align="right" valign="center" clip="yes" padding-left="20">
          <text name="note" width="100%" height="fit" style="darktext" size="18" alignment="left" text="[eval: decodeURIComponent('[param:note]') ]"></text>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="photo" index="1" /> -->

    <class name="roof-spacer">
      <panel name="roof-spacer" alias="ROOF-SPACER-[param:name]-[param:index]" width="100%" height="320" >
        <!--<text name="test" width="100%" height="100%" background="0232b2" color="#343434" font="Helvetica" size="20" alignment="center" text="ROOF-SPACER-[param:name]-[param:index]"></text>-->
      </panel>
    </class>

    <!-- !product classes -->
	<class name="product-pager" >
		<pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no" >
		</pager>
	</class>

	<class name="product-family">
		<panel name="category[panel:index]" width="100%" height="100" padding-left="20" padding-right="20">
			<panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
			<text name="cat" width="100%" height="fit" topof="divider" font="Futura-Medium" color="#343434" size="35" alignment="left" text="[param:category]"></text>
		</panel>
	</class>

    <class name="shingles">
      <!--two column-->
      <panel name="[param:index]" width="100%" height="260" padding-left="20" padding-right="20">
          <panel name="col1" width="217" height="100%" >
            <panel name="namebox" width="100%" height="60" padding-bottom="5">
              <text name="name" width="100%" height="fit" valign="bottom" style="darktext" size="20" alignment="left" text="[datasource:getProducts.[param:index].ProductName]"></text>
            </panel>
            <panel name="imgholder" width="108" height="108" bottomof="namebox" background="#000000" clip="yes" >
            	<image name="shingle" height="100%" url="[eval: '[datasource:getProducts.[param:index].ProductFamily]' == 'TruSlate®' ? 'http://162.209.101.177/Content/SlateImages/':'http://www.gaf.com/All_Images/']/[datasource:getProducts.[param:index].Color[0]/Image]?w=108&amp;h=108"></image>
            </panel>
            <text name="desc" width="100" height="fit" bottomof="namebox" align="right" style="darktext" size="12" alignment="left" text="[datasource:getProducts.[param:index].Description]"></text>
            <panel name="shingle-btn" width="108" height="50" bottomof="imgholder" margin-top="10">
              <object class="productbutton" name="test" size="20" label="Select" action="selectshingle" col="1" rowindex="[param:index]" index="[param:index]" value="[param:index]" />
            </panel>
          </panel>
          <panel name="col2" width="217" height="100%" align="right" >
            <panel name="namebox" width="100%" height="60" padding-bottom="5">
              <text name="name" width="100%" height="fit" valign="bottom" style="darktext" size="20" alignment="left" text="[datasource:getProducts.[eval:[param:index]+1].ProductName]"></text>
            </panel>
            <panel name="imgholder" width="108" height="108" bottomof="namebox" background="#000000" clip="yes" >
            	<image name="shingle" height="100%" url="[eval: '[datasource:getProducts.[eval:[param:index]+1].ProductFamily]' == 'TruSlate®' ? 'http://162.209.101.177/Content/SlateImages/':'http://www.gaf.com/All_Images/']/[datasource:getProducts.[eval:[param:index]+1].Color[0]/Image]?w=108&amp;h=108"></image>
            </panel>
            <text name="desc" width="100" height="fit" bottomof="namebox" align="right" style="darktext" size="12" alignment="left" text="[datasource:getProducts.[eval:[param:index]+1].Description]"></text>
            <panel name="shingle-btn" width="108" height="50" bottomof="imgholder" margin-top="10">
              <object class="productbutton" name="test" size="20" label="Select" action="selectshingle" col="2" rowindex="[param:index]" index="[eval:[param:index]+1]" value="[eval:[param:index]+1]" />
            </panel>
          </panel>
        </panel>
    </class>

    <class name="shingle-single">

      <!--one column-->
        <panel name="[param:index]" width="100%" height="260" padding-left="20" padding-right="20">
          <panel name="col1" width="217" height="100%" >
            <panel name="namebox" width="100%" height="60" padding-bottom="5">
              <text name="name" width="100%" height="fit" valign="bottom" style="darktext" size="20" alignment="left" text="[datasource:getProducts.[param:index].ProductName]"></text>
            </panel>
            <panel name="imgholder" width="108" height="108" bottomof="namebox" background="#000000" clip="yes" >
            	<image name="shingle" height="100%" url="[eval: '[datasource:getProducts.[param:index].ProductFamily]' == 'TruSlate®' ? 'http://162.209.101.177/Content/SlateImages/':'http://www.gaf.com/All_Images/']/[datasource:getProducts.[param:index].Color[0]/Image]?w=108&amp;h=108"></image>
            </panel>
            <text name="desc" width="100" height="fit" bottomof="namebox" align="right" style="darktext" size="12" alignment="left" text="[datasource:getProducts.[param:index].Description]"></text>
            <panel name="shingle-btn" width="108" height="50" bottomof="imgholder" margin-top="10">
              <object class="productbutton" name="test" size="20" label="Select" action="selectshingle" col="1" rowindex="[param:index]" index="[param:index]" value="[param:index]" />
            </panel>
          </panel>
<!--           <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel> -->
        </panel>
    </class><!-- <object class="shingles"  /> -->

	<class name="color-pager">
      <pager name="colorpager" alias="COLORPAGER" width="100%" height="100%" orientation="vertical" paginate="no">
      </pager>
	</class>

	<class name="three-colors" >
    <panel name="[param:index]" width="100%" height="320" padding-left="20" padding-right="20">
      <panel name="1" width="33.33%" height="100%" align="left">
        <panel name="marginer" width="200" height="100%" align="left" >
          <panel name="imgholder" width="200" height="200" background="000000" clip="yes" >
            <image name="shingle" height="100%" url="[eval: '[datasource:getProducts.[var:shingleSelected].ProductFamily]' == 'TruSlate®' ? 'http://162.209.101.177/Content/SlateImages/':'http://www.gaf.com/All_Images/']/[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Image]?w=200&amp;h=200"></image>
          </panel>
          <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="16" alignment="left" text="[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Name]"></text>
          <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
            <object class="button" name="test" size="20" label="Select" action="setcolor" value="[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Name]" image="http://www.gaf.com/All_Images/[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Image]" />
          </panel>
        </panel>
      </panel>

      <panel name="2" width="33.33%" height="100%" align="center" >
        <panel name="marginer" width="200" height="100%" align="center">
          <panel name="imgholder" width="200" height="200" background="000000" clip="yes" >
            <image name="shingle" height="100%" url="[eval: '[datasource:getProducts.[var:shingleSelected].ProductFamily]' == 'TruSlate®' ? 'http://162.209.101.177/Content/SlateImages/':'http://www.gaf.com/All_Images/']/[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+1]]/Image]?w=200&amp;h=200"></image>
          </panel>
          <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="fit" maxsize="16" alignment="left" text="[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+1]]/Name]"></text>
          <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
            <object class="button" name="test" size="20" label="Select" action="setcolor" value="[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+1]]/Name]" image="http://www.gaf.com/All_Images/[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+1]]/Image]" />
          </panel>
        </panel>
      </panel>
      <panel name="3" width="33.33%" height="100%" align="right" >
        <panel name="marginer" width="200" height="100%" align="right">
          <panel name="imgholder" width="200" height="200" background="000000" clip="yes" >
            <image name="shingle" height="100%" url="[eval: '[datasource:getProducts.[var:shingleSelected].ProductFamily]' == 'TruSlate®' ? 'http://162.209.101.177/Content/SlateImages/':'http://www.gaf.com/All_Images/']/[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+2]]/Image]?w=200&amp;h=200"></image>
          </panel>
          <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="fit" maxsize="16" alignment="left" text="[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+2]]/Name]"></text>
          <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
            <object class="button" name="test" size="20" label="Select" action="setcolor" value="[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+2]]/Name]" image="http://www.gaf.com/All_Images/[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+2]]/Image]" />
          </panel>
        </panel>
      </panel>
    </panel>
    <!-- <panel name="row3" width="100%" height="300" background="#0000ff"></panel> -->
	</class>

	<class name="two-colors">
    <panel name="[param:index]" width="100%" height="320" padding-left="20" padding-right="20">
      <panel name="1" width="33.33%" height="100%" align="left">
        <panel name="marginer" width="200" height="100%" align="left" >
          <panel name="imgholder" width="200" height="200" background="000000" clip="yes" >
            <image name="shingle" height="100%" url="[eval: '[datasource:getProducts.[var:shingleSelected].ProductFamily]' == 'TruSlate®' ? 'http://162.209.101.177/Content/SlateImages/':'http://www.gaf.com/All_Images/']/[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Image]?w=200&amp;h=200"></image>
          </panel>
          <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="fit" maxsize="16" alignment="left" text="[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Name]"></text>
          <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
            <object class="button" name="test" size="20" label="Select" action="setcolor" value="[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Name]" image="http://www.gaf.com/All_Images/[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Image]" />
          </panel>
        </panel>
      </panel>

      <panel name="2" width="33.33%" height="100%" align="center" >
        <panel name="marginer" width="200" height="100%" align="center">
          <panel name="imgholder" width="200" height="200" background="000000" clip="yes" >
            <image name="shingle" height="100%" url="[eval: '[datasource:getProducts.[var:shingleSelected].ProductFamily]' == 'TruSlate®' ? 'http://162.209.101.177/Content/SlateImages/':'http://www.gaf.com/All_Images/']/[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+1]]/Image]?w=200&amp;h=200"></image>
          </panel>
          <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="fit" maxsize="16" alignment="left" text="[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+1]]/Name]"></text>
          <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
            <object class="button" name="test" size="20" label="Select" action="setcolor" value="[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+1]]/Name]" image="http://www.gaf.com/All_Images/[datasource:getProducts.[var:shingleSelected].Color[[eval:[var:colorCreateCount]+1]]/Image]"/>
          </panel>
        </panel>
      </panel>
    </panel>
	</class>

	<class name="one-color">
    <panel name="[param:index]" width="100%" height="320" padding-left="20" padding-right="20">
      <panel name="1" width="33.33%" height="100%" align="left">
        <panel name="marginer" width="200" height="100%" align="left" >
          <panel name="imgholder" width="200" height="200" background="000000" clip="yes" >
            <image name="shingle" height="100%" url="[eval: '[datasource:getProducts.[var:shingleSelected].ProductFamily]' == 'TruSlate®' ? 'http://162.209.101.177/Content/SlateImages/':'http://www.gaf.com/All_Images/']/[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Image]?w=200&amp;h=200"></image>
          </panel>
          <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="fit" maxsize="16" alignment="left" text="[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Name]"></text>
          <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
            <object class="button" name="test" size="20" label="Select" action="setcolor" value="[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Name]" image="http://www.gaf.com/All_Images/[datasource:getProducts.[var:shingleSelected].Color[[var:colorCreateCount]]/Image]"/>
          </panel>
        </panel>
      </panel>
    </panel>
	</class>

    <class name="warranty">
      <panel name="[param:index]" width="100%" height="71">
        <text name="subtitle" width="410" height="66" font="Futura-Medium" color="#343434" size="fit" maxsize="25" alignment="left" text="[param:title]"></text>
        <!--<text name="bullet1" width="307" height="fit" xpos="20" bottomof="subtitle" style="darktext" size="15" alignment="left" text="Sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."></text>-->
        <panel name="warranty-btn" width="108" height="50" align="right" ypos="8">
          <object class="productbutton" name="[param:index]" size="20" label="Select" action="selectwarranty" index="[param:index]" value="[param:warrantyId]" accessories="[param:accessories]" title="[param:title]"/>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class>

	<class name="accessory-category">
		<panel name="category[panel:index]" width="100%" height="100">
			<panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
			<text name="cat" width="100%" height="fit" topof="divider" font="Futura-Medium" color="#343434" size="35" alignment="left" text="[param:category]"></text>
		</panel>
	</class>

    <class name="accessory">
      <panel name="accessory[param:index]" width="100%" height="71">
        <text name="subtitle" width="[eval: [object:ACCESSORIES-PAGER-BOX.width] - 128]" height="66" font="Futura-Medium" color="#343434" size="fit" maxsize="25" alignment="left" text="[param:title]"></text>
        <!--<text name="bullet1" width="307" height="fit" xpos="20" bottomof="subtitle" style="darktext" size="15" alignment="left" text="Sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."></text>-->
        <panel name="accessory-btn" width="108" height="50" align="right" ypos="8">
          <object class="accessorybutton" name="test" size="20" label="Select" action="selectaccessories" value="[param:index]" units="[param:units]" coverage="[param:coverage]" category="[param:category]" />
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class>

    <class name="accessories">
      <!--two column-->
      <panel name="[param:index]" width="100%" fitheight="yes" padding-left="20" padding-right="20">
        <panel name="accessoriesrow1" width="100%" height="237" >
          <!--<text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="20" alignment="left" text="Shingle Group"></text>-->
          <panel name="col1" width="217" height="100%" >
            <text name="name" width="100%" height="30" style="darktext" size="20" alignment="left" text="[datasource:getAccessories.[param:index].AccessoryName]"></text>
            <panel name="imgholder" width="108" height="138" bottomof="name" background="#000000"></panel>
            <text name="desc" width="100" height="fit" bottomof="name" align="right" style="darktext" size="12" alignment="left" text="[datasource:getAccessories.[param:index].Description]"></text>
            <panel name="accessories-btn" width="108" height="50" bottomof="imgholder" margin-top="10">
              <object class="button" name="test" size="20" label="Select" action="selectaccessories" value="[param:index]" />
            </panel>
          </panel>
          <panel name="col2" width="217" height="100%" align="right" >
            <text name="name" width="100%" height="30" style="darktext" size="20" alignment="left" text="[datasource:getAccessories.[eval:[param:index]+1].AccessoryName]"></text>
            <panel name="imgholder" width="108" height="138" bottomof="name" background="#000000"></panel>
            <text name="desc" width="100" height="fit" bottomof="name" align="right" style="darktext" size="12" alignment="left" text="[datasource:getAccessories.[eval:[param:index]+1].Description]"></text>
            <panel name="accessories-btn" width="108" height="50" bottomof="imgholder" margin-top="10">
              <object class="button" name="test" size="20" label="Select" action="selectaccessories" value="[eval:[param:index]+1]" />
            </panel>
          </panel>
        </panel>
      </panel>
    </class>

      <!--one column-->
	  <class name="[param:index]" >
        <panel name="accessoriesrow2" width="100%" height="243" bottomof="accessoriesrow1" >
          <panel name="col1" width="217" height="100%" >
            <text name="name" width="100%" height="30" style="darktext" size="20" alignment="left" text="[datasource:getAccessories.[param:index].AccessoryName]"></text>
            <panel name="imgholder" width="108" height="138" bottomof="name" background="#000000"></panel>
            <text name="desc" width="100" height="fit" bottomof="name" align="right" style="darktext" size="12" alignment="left" text="[datasource:getAccessories.[param:index].Description]"></text>
            <panel name="accessories-btn" width="108" height="50" bottomof="imgholder" margin-top="10">
              <object class="button" name="test" size="20" label="Select" action="selectaccessories" value="[param:index]" />
            </panel>
          </panel>
          <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
        </panel>
    </class><!-- <object class="accessories"  /> -->

    <!--<class name="options">
      <panel name="optionsgroup1" width="100%" fitheight="yes">
        <panel name="optionsrow1" width="100%" height="237" >
          <panel name="col1" width="217" height="100%" >
            <text name="name" width="100%" height="30" style="darktext" size="20" alignment="left" text="Option Name"></text>
            <panel name="imgholder" width="108" height="138" bottomof="name" background="#000000"></panel>
            <text name="desc" width="100" height="fit" bottomof="name" align="right" style="darktext" size="12" alignment="left" text="Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit sit amet non magna."></text>
            <panel name="options-btn" width="108" height="50" bottomof="imgholder" margin-top="10">
              <object class="button" name="test" size="20" label="Select" action="selectoptions" />
            </panel>
          </panel>
          <panel name="col2" width="217" height="100%" align="right" >
            <text name="name" width="100%" height="30" style="darktext" size="20" alignment="left" text="Option Name"></text>
            <panel name="imgholder" width="108" height="138" bottomof="name" background="#000000"></panel>
            <text name="desc" width="100" height="fit" bottomof="name" align="right" style="darktext" size="12" alignment="left" text="Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit sit amet non magna."></text>
            <panel name="options-btn" width="108" height="50" bottomof="imgholder" margin-top="10">
              <object class="button" name="test" size="20" label="Select" action="selectoptions" />
            </panel>
          </panel>
        </panel>

        <panel name="optionsrow2" width="100%" height="243" bottomof="optionsrow1" >
          <panel name="col1" width="217" height="100%" >
            <text name="name" width="100%" height="30" style="darktext" size="20" alignment="left" text="Option Name"></text>
            <panel name="imgholder" width="108" height="138" bottomof="name" background="#000000"></panel>
            <text name="desc" width="100" height="fit" bottomof="name" align="right" style="darktext" size="12" alignment="left" text="Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit sit amet non magna."></text>
            <panel name="options-btn" width="108" height="50" bottomof="imgholder" margin-top="10">
              <object class="button" name="test" size="20" label="Select" action="selectoptions" />
            </panel>
          </panel>
          <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
        </panel>
      </panel>
    </class>--><!-- <object class="options"  /> -->

    <!-- !services classes -->
    <class name="tearoff">
      <panel name="tearoff" alias="TEAROFF" width="100%" height="195">
        <panel name="tearoffservice" alias="TEAROFFSERVICE" width="50" height="50" align="left" ypos="10" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="checkon" _action="tearoff">
          <panel name="check" width="0" height="0" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
        </panel>
        <text name="checklabel" width="150" height="50" ypos="10" rightof="tearoffservice" style="darktext" size="20" leftinset="10" alignment="left" text="Tear Off Service"></text>
        <panel name="layers" alias="LAYERS" width="226" height="50" align="left" bottomof="tearoffservice" margin-top="10" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Layers"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" text="0" onreturnkeypressed="next" _next="none" _action="null" onchange="tearoff-go"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="LAYERS" _drop="TEAROFF" _droptype="LAYERSDROP"></panel>
        </panel>
        <panel name="type" alias="TYPE" width="226" height="50" align="left" bottomof="layers" margin-top="10" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Type"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" _next="none" _action="null" onchange="tearoff-go"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="TYPE" _drop="TEAROFF" _droptype="TEAROFFTYPEDROP"></panel>
        </panel>
        <panel name="tearoff-mask" alias="TEAROFF-MASK" width="100%" height="120" bottomof="TEAROFFSERVICE" alpha="1" onclickup="tearoff-mask-off">
          <panel name="bg" width="100%" height="100%" background="#e3e3e3" alpha=".5"></panel>
        </panel>
        <panel name="tearoff-block" alias="TEAROFF-BLOCK" width="100" height="60" ypos="5" alpha="0" onclickup="warranty-message"></panel>
        <!--<panel name="difficulty" alias="DIFFICULTY" width="226" height="50" align="left" bottomof="type" margin-top="10" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Difficulty"></text>
          <textfield name="input" text="test" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" _next="none" _action="null"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="DIFFICULTY" _drop="TEAROFF"></panel>
        </panel>-->
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
        <panel name="drop" width="45%" height="110" xpos="101%" ypos="70" alpha="0" style="textinput">
          <pager name="layersdrop" alias="LAYERSDROP" width="100%" height="100%" orientation="vertical" paginate="no" alpha="0">
            <!--<panel name="layer0" width="100%" height="40" _layers="0" onclickup="setlayers">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="0"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>-->
            <panel name="layer1" width="100%" height="40" _layers="1" onclickup="setlayers">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="1"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
            <panel name="layer2" width="100%" height="40" _layers="2" onclickup="setlayers">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="2"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
            <panel name="layer3" width="100%" height="40" _layers="3" onclickup="setlayers">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="3"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
          </pager>
          <pager name="tearofftypedrop" alias="TEAROFFTYPEDROP" width="100%" height="100%" orientation="vertical" paginate="no" alpha="0">
            <panel name="type1" width="100%" height="40" _material="Asphalt" onclickup="setmaterial">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Asphalt"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
            <panel name="type2" width="100%" height="40" _material="Slate" onclickup="setmaterial">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Slate"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
            <panel name="type3" width="100%" height="40" _material="Barrell" onclickup="setmaterial">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Barrell"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
            <panel name="type4" width="100%" height="40" _material="Concrete" onclickup="setmaterial">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Concrete"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
            <panel name="type5" width="100%" height="40" _material="Wood" onclickup="setmaterial">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Wood"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
            <panel name="type6" width="100%" height="40" _material="Metal" onclickup="setmaterial">
              <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Metal"></text>
              <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
            </panel>
          </pager>
        </panel>
      </panel>
    </class><!-- <object class="tearoff" /> -->

    <class name="assetprotection">
      <panel name="assetprotection" alias="ASSETPROTECTION" width="100%" height="315">
        <panel name="landscaping" alias="LANDSCAPING" width="50" height="50" align="left" ypos="10" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="checkon" _action="landscaping">
          <panel name="check" width="0" height="0" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
        </panel>
        <text name="checklabel" width="150" height="50" ypos="10" rightof="landscaping" style="darktext" size="20" leftinset="10" alignment="left" text="Landscaping"></text>
        <panel name="landscapePrice" alias="LANDSCAPEPRICE" width="226" height="50" ypos="10" align="right" style="textinput" alpha="0">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Cost"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" onshow="service-saveup" onhide="service-savedown" _next="none" _action="null" onchange="isNaN"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="LANDSCAPEPRICE"></panel>
        </panel>

        <panel name="hardscaping" alias="HARDSCAPING" width="50" height="50" align="left" bottomof="landscaping" margin-top="10" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="checkon" _action="hardscaping">
          <panel name="check" width="0" height="0" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
        </panel>
        <text name="checklabel" width="150" height="50" bottomof="landscaping" margin-top="10" rightof="hardscaping" style="darktext" size="20" leftinset="10" alignment="left" text="Hardscaping"></text>
        <panel name="hardscapePrice" alias="HARDSCAPEPRICE" width="226" height="50" bottomof="landscaping" margin-top="10" align="right" style="textinput" alpha="0">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Cost"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" onshow="service-saveup" onhide="service-savedown" _next="none" _action="null" onchange="isNaN"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="HARDSCAPEPRICE"></panel>
        </panel>

        <panel name="hvac" alias="HVAC" width="50" height="50" align="left" bottomof="hardscaping" margin-top="10" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="checkon" _action="hvac">
          <panel name="check" width="0" height="0" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
        </panel>
        <text name="checklabel" width="150" height="50" bottomof="hardscaping" margin-top="10" rightof="hvac" style="darktext" size="20" leftinset="10" alignment="left" text="HVAC"></text>
        <panel name="hvacPrice" alias="HVACPRICE" width="226" height="50" bottomof="hardscaping" margin-top="10" align="right" style="textinput" alpha="0">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Cost"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" onshow="service-saveup" onhide="service-savedown" _next="none" _action="null" onchange="isNaN"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="HVACPRICE"></panel>
        </panel>

        <panel name="pool" alias="POOL" width="50" height="50" align="left" bottomof="hvac" margin-top="10" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="checkon" _action="pool">
          <panel name="check" width="0" height="0" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
        </panel>
        <text name="checklabel" width="150" height="50" bottomof="hvac" margin-top="10" rightof="pool" style="darktext" size="20" leftinset="10" alignment="left" text="Pool"></text>
        <panel name="poolPrice" alias="POOLPRICE" width="226" height="50" bottomof="hvac" margin-top="10" align="right" style="textinput" alpha="0">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Cost"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" onshow="service-saveup" onhide="service-savedown" _next="none" _action="null" onchange="isNaN"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="POOLPRICE"></panel>
        </panel>

        <panel name="misc" alias="MISC" width="50" height="50" align="left" bottomof="pool" margin-top="10" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="checkon" _action="misc">
          <panel name="check" width="0" height="0" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
        </panel>
        <text name="checklabel" width="150" height="50" bottomof="pool" margin-top="10" rightof="misc" style="darktext" size="20" leftinset="10" alignment="left" text="Misc"></text>
        <panel name="miscPrice" alias="MISCPRICE" width="226" height="50" bottomof="pool" margin-top="10" align="right" style="textinput" alpha="0">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Cost"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" onshow="service-saveup" onhide="service-savedown" _next="none" _action="null" onchange="isNaN"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="MISCPRICE"></panel>
        </panel>

        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="assetprotection" /> -->

    <class name="12cdx">
      <panel name="plywood[param:index]" alias="PLYWOOD[param:index]" width="100%" height="160" padding-right="20" >
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="1/2 INCH CDX"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="plywood-delete-item" clickuptarget="CONTAINER" _target="PLYWOOD[param:index]" _indexname="plywoodindex" _spacername="PLYWOOD" _parent="PLYWOOD"  _section="PLYWOOD" _reset="add12cdx" _resettarget="12cdx">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="plywoodtype[param:index]" alias="PLYWOODTYPE[param:index]" width="226" height="50" align="left" bottomof="subtitle" style="textinput" alpha="0">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Type"></text>
          <textfield name="hidden" alpha="0" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" text="12CDX" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null"></textfield>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="PLYWOODTYPE" _drop="PLYWOOD" _droptype="PLYWOODTYPE-DROP"></panel>
        </panel>
        <panel name="measurement[param:index]" alias="MEASUREMENT[param:index]" width="226" height="50" align="left" bottomof="subtitle" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Measure by"></text>
          <textfield name="hidden" alpha="0" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="MEASUREMENT[param:index]" _drop="PLYWOOD[param:index]" _droptype="MEASUREMENT-DROP[param:index]"></panel>
        </panel>
        <panel name="quantity" alias="QUANTITY[param:index]" width="226" height="50" bottomof="measurement[param:index]" margin-top="10" align="left" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Quantity"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" onshow="service-saveup" onhide="service-savedown" _next="none" _action="null" onchange="isNaN"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="QUANTITY[param:index]"></panel>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
        <panel name="drop" width="45%" height="110" bottomof="subtitle" xpos="101%" alpha="0" style="textinput">
          <panel name="measurement-drop" alias="MEASUREMENT-DROP[param:index]" width="100%" height="100%" alpha="0">
            <text name="drophead" width="100%" height="30" style="lighttext" size="18" alignment="center" text="MEASUREMENT CHOICES"></text>
            <panel name="border" width="100%" height="1" background="#888888" ypos="30"></panel>
            <pager name="measurements" width="100%" height="[eval:[object:ROOFTYPEDROP.height] - 30]" ypos="30" orientation="vertical" paginate="no">
              <panel name="measure1" width="100%" height="40" _measure="BySheet" _label="Per Sheet" _index="[param:index]" onclickup="setmeasurement">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Per Sheet"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="measure2" width="100%" height="40" _measure="Linear" _label="Linear ft" _index="[param:index]" onclickup="setmeasurement">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Linear ft"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
            </pager>
          </panel>
        </panel>
      </panel>
    </class><!-- <object class="plywood" /> -->

    <class name="58cdx">
      <panel name="plywood[param:index]" alias="PLYWOOD[param:index]" width="100%" height="160" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="5/8 INCH CDX"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="plywood-delete-item" clickuptarget="CONTAINER" _target="PLYWOOD[param:index]" _indexname="plywoodindex" _spacername="PLYWOOD" _parent="PLYWOOD"  _section="PLYWOOD" _reset="add58cdx" _resettarget="58cdx">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="plywoodtype[param:index]" alias="PLYWOODTYPE[param:index]" width="226" height="50" align="left" bottomof="subtitle" style="textinput" alpha="0">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Type"></text>
          <textfield name="hidden" alpha="0" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" text="58CDX" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null"></textfield>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="PLYWOODTYPE" _drop="PLYWOOD" _droptype="PLYWOODTYPE-DROP"></panel>
        </panel>
        <panel name="measurement[param:index]" alias="MEASUREMENT[param:index]" width="226" height="50" align="left" bottomof="subtitle" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Measure by"></text>
          <textfield name="hidden" alpha="0" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="MEASUREMENT[param:index]" _drop="PLYWOOD[param:index]" _droptype="MEASUREMENT-DROP[param:index]"></panel>
        </panel>
        <panel name="quantity[param:index]" alias="QUANTITY[param:index]" width="226" height="50" bottomof="measurement[param:index]" margin-top="10" align="left" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Quantity"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" onshow="service-saveup" onhide="service-savedown" _next="none" _action="null" onchange="isNaN"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="QUANTITY[param:index]"></panel>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
        <panel name="drop" width="45%" height="110" bottomof="subtitle" xpos="101%" alpha="0" style="textinput">
          <panel name="measurement-drop" alias="MEASUREMENT-DROP[param:index]" width="100%" height="100%" alpha="0">
            <text name="drophead" width="100%" height="30" style="lighttext" size="18" alignment="center" text="MEASUREMENT CHOICES"></text>
            <panel name="border" width="100%" height="1" background="#888888" ypos="30"></panel>
            <pager name="measurements" width="100%" height="[eval:[object:ROOFTYPEDROP.height] - 30]" ypos="30" orientation="vertical" paginate="no">
              <panel name="measure1" width="100%" height="40" _measure="BySheet" _label="Per Sheet" _index="[param:index]" onclickup="setmeasurement">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Per Sheet"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="measure2" width="100%" height="40" _measure="Linear" _label="Linear ft" _index="[param:index]" onclickup="setmeasurement">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Linear ft"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
            </pager>
          </panel>
        </panel>
      </panel>
    </class><!-- <object class="plywood" /> -->

    <class name="12osb">
      <panel name="plywood[param:index]" alias="PLYWOOD[param:index]" width="100%" height="160" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="1/2 INCH OSB"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="plywood-delete-item" clickuptarget="CONTAINER" _target="PLYWOOD[param:index]" _indexname="plywoodindex" _spacername="PLYWOOD" _parent="PLYWOOD"  _section="PLYWOOD" _reset="add12osb" _resettarget="12osb">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="plywoodtype[param:index]" alias="PLYWOODTYPE[param:index]" width="226" height="50" align="left" bottomof="subtitle" style="textinput" alpha="0">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Type"></text>
          <textfield name="hidden" alpha="0" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" text="12OSB" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null"></textfield>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="PLYWOODTYPE" _drop="PLYWOOD" _droptype="PLYWOODTYPE-DROP"></panel>
        </panel>
        <panel name="measurement[param:index]" alias="MEASUREMENT[param:index]" width="226" height="50" align="left" bottomof="subtitle" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Measure by"></text>
          <textfield name="hidden" alpha="0" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="MEASUREMENT[param:index]" _drop="PLYWOOD[param:index]" _droptype="MEASUREMENT-DROP[param:index]"></panel>
        </panel>
        <panel name="quantity[param:index]" alias="QUANTITY[param:index]" width="226" height="50" bottomof="measurement[param:index]" margin-top="10" align="left" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Quantity"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" onshow="service-saveup" onhide="service-savedown" _next="none" _action="null" onchange="isNaN"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="QUANTITY[param:index]"></panel>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
        <panel name="drop" width="45%" height="110" bottomof="subtitle" xpos="101%" alpha="0" style="textinput">
          <panel name="measurement-drop" alias="MEASUREMENT-DROP[param:index]" width="100%" height="100%" alpha="0">
            <text name="drophead" width="100%" height="30" style="lighttext" size="18" alignment="center" text="MEASUREMENT CHOICES"></text>
            <panel name="border" width="100%" height="1" background="#888888" ypos="30"></panel>
            <pager name="measurements" width="100%" height="[eval:[object:ROOFTYPEDROP.height] - 30]" ypos="30" orientation="vertical" paginate="no">
              <panel name="measure1" width="100%" height="40" _measure="BySheet" _label="Per Sheet" _index="[param:index]" onclickup="setmeasurement">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Per Sheet"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="measure2" width="100%" height="40" _measure="Linear" _label="Linear ft" _index="[param:index]" onclickup="setmeasurement">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Linear ft"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
            </pager>
          </panel>
        </panel>
      </panel>
    </class><!-- <object class="plywood" /> -->

    <class name="58osb">
      <panel name="plywood[param:index]" alias="PLYWOOD[param:index]" width="100%" height="160" padding-right="20">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="5/8 INCH OSB"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="plywood-delete-item" clickuptarget="CONTAINER" _target="PLYWOOD[param:index]" _indexname="plywoodindex" _spacername="PLYWOOD" _parent="PLYWOOD" _section="PLYWOOD" _reset="add58osb" _resettarget="58osb">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <panel name="plywoodtype[param:index]" alias="PLYWOODTYPE[param:index]" width="226" height="50" align="left" bottomof="subtitle" style="textinput" alpha="0">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Type"></text>
          <textfield name="hidden" alpha="0" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" text="58OSB" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null"></textfield>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="PLYWOODTYPE" _drop="PLYWOOD" _droptype="PLYWOODTYPE-DROP"></panel>
        </panel>
        <panel name="measurement[param:index]" alias="MEASUREMENT[param:index]" width="226" height="50" align="left" bottomof="subtitle" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Measure by"></text>
          <textfield name="hidden" alpha="0" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
          <panel name="active" style="100" onclickup="dropon" _field="MEASUREMENT[param:index]" _drop="PLYWOOD[param:index]" _droptype="MEASUREMENT-DROP[param:index]"></panel>
        </panel>
        <panel name="quantity[param:index]" alias="QUANTITY[param:index]" width="226" height="50" bottomof="measurement[param:index]" margin-top="10" align="left" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Quantity"></text>
          <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" onshow="service-saveup" onhide="service-savedown" _next="none" _action="null" onchange="isNaN"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="QUANTITY[param:index]"></panel>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
        <panel name="drop" width="45%" height="110" bottomof="subtitle" xpos="101%" alpha="0" style="textinput">
          <panel name="measurement-drop" alias="MEASUREMENT-DROP[param:index]" width="100%" height="100%" alpha="0">
            <text name="drophead" width="100%" height="30" style="lighttext" size="18" alignment="center" text="MEASUREMENT CHOICES"></text>
            <panel name="border" width="100%" height="1" background="#888888" ypos="30"></panel>
            <pager name="measurements" width="100%" height="[eval:[object:ROOFTYPEDROP.height] - 30]" ypos="30" orientation="vertical" paginate="no">
              <panel name="measure1" width="100%" height="40" _measure="BySheet" _label="Per Sheet" _index="[param:index]" onclickup="setmeasurement">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Per Sheet"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
              <panel name="measure2" width="100%" height="40" _measure="Linear" _label="Linear ft" _index="[param:index]" onclickup="setmeasurement">
                <text name="name" width="100%" height="100%" style="darktext" size="18" alignment="center" text="Linear ft"></text>
                <panel name="border" width="100%" height="1" valign="bottom" background="#888888"></panel>
              </panel>
            </pager>
          </panel>
        </panel>
      </panel>
    </class><!-- <object class="plywood" /> -->

    <!-- !adjustments classes -->
    <class name="discount">
      <panel name="adjustment[param:aindex]" alias="ADJUSTMENT[param:aindex]" width="100%" height="237">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="DISCOUNT [param:index]"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-adjustment-item" clickuptarget="CONTAINER" _target="ADJUSTMENT[param:aindex]" _indexname="adjustmentindex" _spacername="ADJUST" _parent="ADJUSTMENT" _section="ADJUSTMENTS" _protrusiontype="discountindex" _protrusiontype-index="[param:index]">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <!--
        <panel name="dollars-[param:aindex]" alias="DOLLARS-[param:aindex]" width="50" height="50" align="left" bottomof="subtitle" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="dollars" _index="[param:aindex]" _type="ADJUSTMENT[param:aindex]" >
          <panel name="check" width="35" height="35" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
        </panel>
        <text name="checklabel-dollar" width="150" height="50" bottomof="subtitle" rightof="dollars-[param:aindex]" style="darktext" size="20" leftinset="10" alignment="left" text="$"></text>


        <panel name="percent-[param:aindex]" alias="PERCENT-[param:aindex]" width="50" height="50" xpos="100" bottomof="subtitle" background="f3f3f3" cornerradius="2" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="percent" _index="[param:aindex]" _type="ADJUSTMENT[param:aindex]" >
          <panel name="check" width="40" height="40" align="center" valign="center" background="#888888" cornerradius="20" alpha="0" ></panel>
        </panel>
        <text name="checklabel-percent" width="150" height="50" bottomof="subtitle" rightof="percent-[param:aindex]" style="darktext" size="20" leftinset="10" alignment="left" text="%"></text>
-->

        <panel name="adjustment" width="256" height="50" bottomof="subtitle" margin-top="10">
          <panel name="adjustmentamount[param:aindex]" alias="ADJUSTMENTAMOUNT[param:aindex]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Amount"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="ADJUSTMENTAMOUNTNOTES[param:aindex]" kbtype="numberpad" _next="none" _action="null"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="ADJUSTMENTAMOUNT[param:aindex]"></panel>
          </panel>
          <!--<text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>-->
        </panel>

        <panel name="adjustmentnotes[param:aindex]" alias="ADJUSTMENTAMOUNTNOTES[param:aindex]" width="100%" height="115" bottomof="adjustment" margin-top="10" align="left" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <textfield name="input" width="100%" height="100%" align="left" leftinset="20" style="darktext" size="20" alignment="left" valignment="center" placeholder="Notes" onreturnkeypressed="next" _next="none" _action="null" multiline="yes"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="ADJUSTMENTAMOUNTNOTES"></panel>
        </panel>

        <text name="adjusttype[param:aindex]" alias="ADJUSTTYPE[param:aindex]" width="0" height="0" color="#ffffff" font="Helvetica" size="1" alignment="left" text="Discount"></text>

        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="discount" index="1" />-->

    <class name="additionalcost">
      <panel name="adjustment[param:aindex]" alias="ADJUSTMENT[param:aindex]" width="100%" height="237">
        <text name="subtitle" width="100%" height="35" font="Futura-Medium" color="#343434" size="15" alignment="left" text="ADDITIONAL COST [param:index]"></text>
        <panel name="deletebox" width="60" height="35" align="right" onclickup="delete-adjustment-item" clickuptarget="CONTAINER" _target="ADJUSTMENT[param:aindex]" _indexname="adjustmentindex" _spacername="ADJUST" _parent="ADJUSTMENT" _section="ADJUSTMENTS" _adjustmenttype="costindex" _adjustmenttype-index="[param:index]">
          <image name="icon" source="images/delete.png" width="20" height="20" align="center" valign="center"></image>
        </panel>
        <!--
        <panel name="dollars-[param:aindex]" alias="DOLLARS-[param:aindex]" width="50" height="50" align="left" bottomof="subtitle" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="dollars" _index="[param:aindex]" _type="ADJUSTMENT[param:aindex]" >
          <panel name="check" width="35" height="35" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
        </panel>
        <text name="checklabel-dollar" width="150" height="50" bottomof="subtitle" rightof="dollars-[param:aindex]" style="darktext" size="20" leftinset="10" alignment="left" text="$"></text>


        <panel name="percent-[param:aindex]" alias="PERCENT-[param:aindex]" width="50" height="50" xpos="100" bottomof="subtitle" background="f3f3f3" cornerradius="2" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="percent" _index="[param:aindex]" _type="ADJUSTMENT[param:aindex]" >
          <panel name="check" width="40" height="40" align="center" valign="center" background="#888888" cornerradius="20" alpha="0" ></panel>
        </panel>
        <text name="checklabel-percent" width="150" height="50" bottomof="subtitle" rightof="percent-[param:aindex]" style="darktext" size="20" leftinset="10" alignment="left" text="%"></text>
-->

        <panel name="adjustment" width="256" height="50" bottomof="subtitle" margin-top="10">
          <panel name="adjustmentamount[param:aindex]" alias="ADJUSTMENTAMOUNT[param:aindex]" width="226" height="50" align="left" style="textinput">
            <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
            <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Amount"></text>
            <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="ADJUSTMENTAMOUNTNOTES[param:aindex]" kbtype="numberpad" _next="none" _action="null"></textfield>
            <panel name="active" style="100" onclickup="labelactive" _field="ADJUSTMENTAMOUNT[param:aindex]"></panel>
          </panel>
          <!--<text name="measure" width="30" height="100%" align="right" style="darktext" size="20" alignment="center" text="ft"></text>-->
        </panel>

        <panel name="adjustmentnotes[param:aindex]" alias="ADJUSTMENTAMOUNTNOTES[param:aindex]" width="100%" height="115" bottomof="adjustment" margin-top="10" align="left" style="textinput">
          <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
          <textfield name="input" width="100%" height="100%" align="left" leftinset="20" style="darktext" size="20" alignment="left" valignment="center" placeholder="Notes" onreturnkeypressed="next" _next="none" _action="null" multiline="yes"></textfield>
          <panel name="active" style="100" onclickup="labelactive" _field="ADJUSTMENTAMOUNTNOTES"></panel>
        </panel>

        <text name="adjusttype[param:aindex]" alias="ADJUSTTYPE[param:aindex]" width="0" height="0" color="#ffffff" font="Helvetica" size="1" alignment="left" text="Additional Cost"></text>

        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class><!-- <object class="additionalcost" index="1" /> -->

    <!-- !Summary classes -->
    <class name="summary-pager">
      <pager name="summary-pager" alias="SUMMARY-PAGER" width="100%" height="100%" orientation="vertical" paginate="no"></pager>
    </class>

    <class name="summary-cust">
      <panel name="summary-customer" alias="SUMMARY-CUSTOMER" width="100%" height="148" padding-right="20">
        <text name="subtitle" width="100%" height="40" font="Futura-Medium" color="#343434" size="15" alignment="left" text="CUSTOMER INFO"></text>
        <panel name="col1" width="33.33%" height="93" bottomof="subtitle">
          <text name="cust1-name" width="100%" height="35" style="darktext" size="20" alignment="left" text="[param:cust1name]"></text>
          <text name="cust1-phone" width="100%" height="30" bottomof="cust1-name" style="darktext" size="15" alignment="left" text="[param:cust1phone]"></text>
          <text name="cust1-email" width="100%" height="30" bottomof="cust1-phone" style="darktext" size="15" alignment="left" text="[param:cust1email]"></text>
        </panel>
        <panel name="col2" width="33.33%" height="93" rightof="col1" bottomof="subtitle" >
          <text name="cust2-name" width="100%" height="35" style="darktext" size="20" alignment="left" text="[param:cust2name]"></text>
          <text name="cust2-phone" width="100%" height="30" bottomof="cust2-name" style="darktext" size="15" alignment="left" text="[param:cust2phone]"></text>
          <text name="cust2-email" width="100%" height="30" bottomof="cust2-phone" style="darktext" size="15" alignment="left" text="[param:cust2email]"></text>
        </panel>
        <panel name="col3" width="33.33%" height="93" rightof="col2" bottomof="subtitle">
          <text name="label" width="100%" height="35" style="darktext" size="20" alignment="left" text="Property Address"></text>
          <text name="address1" width="100%" height="30" bottomof="label" style="darktext" size="15" alignment="left" text="[param:street]"></text>
          <text name="address2" width="100%" height="30" bottomof="address1" style="darktext" size="15" alignment="left" text="[param:city], [param:state] [param:zip]"></text>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class> <!-- <object class="summary-cust" cust1name="" cust1phone="" cust1email="" cust2name="" cust2phone="" cust2email="" street="" city="" state="" zip="" /> -->

    <class name="summary-roof">
      <panel name="summary-roof" alias="SUMMARY-ROOF" width="100%" height="193" padding-right="20">
        <text name="subtitle" width="100%" height="40" font="Futura-Medium" color="#343434" size="15" alignment="left" text="ROOF INFO"></text>
        <panel name="col1" width="50%" height="108" bottomof="subtitle">
          <text name="roof-area" width="100%" height="35" style="darktext" size="20" alignment="left" text="Total Area: [param:area]"></text>
          <text name="roof-squares" width="100%" height="35" bottomof="roof-area" style="darktext" size="20" alignment="left" text="Squares Needed: [param:squares]"></text>
          <text name="roof-ridges" width="100%" height="35" bottomof="roof-squares" style="darktext" size="20" alignment="left" text="Ridges: [param:ridges]"></text>
          <text name="roof-hips" width="100%" height="35" bottomof="roof-ridges" style="darktext" size="20" alignment="left" text="Hips: [param:hips]"></text>
        </panel>
        <panel name="col2" width="50%" height="108" rightof="col1" bottomof="subtitle" >
          <text name="roof-rake" width="100%" height="35" style="darktext" size="20" alignment="left" text="Rake: [param:rakes]"></text>
          <text name="roof-eaves" width="100%" height="35" bottomof="roof-rake" style="darktext" size="20" alignment="left" text="Eaves: [param:eaves]"></text>
          <text name="roof-valleys" width="100%" height="35" bottomof="roof-eaves" style="darktext" size="20" alignment="left" text="Valleys: [param:valleys]"></text>
        </panel>
        <!--<panel name="col3" width="33.33%" height="108" rightof="col2" bottomof="subtitle">
          <text name="roof-valleys" width="100%" height="35" style="darktext" size="20" alignment="left" text="Valleys: [param:valleys]"></text>
        </panel>-->
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class> <!-- <object class="summary-roof" area="" squares="" ridges="" hips="" rakes="" eaves="" valleys="" />-->

    <class name="summary-products">
      <panel name="summary-products" alias="SUMMARY-PRODUCTS" width="100%" height="210" padding-right="20">
        <text name="subtitle" width="100%" height="40" font="Futura-Medium" color="#343434" size="15" alignment="left" text="SHINGLES"></text>
        <text name="subtitle2" width="50%" height="40" xpos="50%" font="Futura-Medium" color="#343434" size="15" alignment="left" text="WARRANTY"></text>
        <panel name="col1" width="50%" height="150" ypos="45">
          <panel name="shingletile" width="150" height="100%" background="#000000">
            <image name="swatch" url="[param:swatch]?w=300&amp;h=300" width="100%"></image>
          </panel>
          <text name="shingle-color" width="200" height="fit" xpos="160" style="darktext" size="20" alignment="left" text="[param:color]"></text>
        </panel>
        <panel name="col2" width="50%" height="150" ypos="45" xpos="50%">
          <text name="warranty" width="100%" height="fit" style="darktext" size="20" alignment="left" text="[param:warranty]"></text>
        </panel>
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel> <!--<object class="summary-products" swatch="" name="" color="" warranty=""  />-->
    </class>

    <!-- !summary accessories -->
    <class name="summary-accessory-title">
      <text name="summary-accessory-title" alias="SUMMARY-ACCESSORY-TITLE" width="100%" height="40" padding-right="20" font="Futura-Medium" color="#343434" size="15" alignment="left" text="ACCESSORIES"></text>
    </class>

    <class name="summary-accessory-subtitle">
      <text name="summary-accessory-subtitle[param:index]" alias="SUMMARY-ACCESSORY-SUBTITLE[param:index]" width="100%" height="30" padding-right="20" style="darktext" size="20" alignment="left" text="[param:subtitle]"></text>
    </class>

    <class name="summary-accessory-item">
      <panel name="summary-accessory-item[param:index]" alias="SUMMARY-ACCESSORY-ITEM[param:index]" width="100%" height="30" padding-left="20">
        <text name="label" width="100%" height="100%" color="#343434" font="Futura-Medium" size="18" alignment="left" text="[param:label]"></text>
        <text name="count" width="100" height="100%" xpos="60%" color="#343434" font="Futura-Medium" size="18" alignment="right" text="[param:count]"></text>
      </panel>
    </class>

    <class name="accessorydivide">
      <panel name="dividebox" alias="DIVIDEBOX" width="100%" height="15" padding-right="20">
        <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
      </panel>
    </class>

    <class name="summary-services">
      <panel name="summary-services" alias="SUMMARY-SERVICES" width="100%" height="192" padding-right="20">
        <text name="subtitle" width="100%" height="40" font="Futura-Medium" color="#343434" size="15" alignment="left" text="SERVICES"></text>
        <panel name="col1" width="50%" height="90" ypos="45">
          <text name="tearoff-label" width="100%" height="30" style="darktext" size="20" alignment="left" text="Tear Off"></text>
          <text name="layers" width="100%" height="20" bottomof="tearoff-label" size="15" alignment="left" text="Layers: [param:layers]"></text>
          <text name="type" width="100%" height="20" bottomof="layers" size="15" alignment="left" text="Type: [param:type]"></text>
          <!--<text name="difficulty" width="100%" height="20" bottomof="type" size="15" alignment="left" text="Difficulty: Hard"></text>-->
        </panel>
        <panel name="col2" width="50%" height="90" ypos="45" xpos="50%">
          <text name="assetprotection" width="100%" height="fit" style="darktext" size="20" alignment="left" text="Asset Protection"></text>
          <text name="landscape" width="100%" height="20" bottomof="assetprotection" size="15" alignment="left" text="Landscaping: [param:landscape]"></text>
          <text name="hardscape" width="100%" height="20" bottomof="landscape" size="15" alignment="left" text="Hardscaping: [param:hardscape]"></text>
          <text name="hvac" width="100%" height="20" bottomof="hardscape" size="15" alignment="left" text="HVAC: [param:hvac]"></text>
          <text name="pool" width="100%" height="20" bottomof="hvac" size="15" alignment="left" text="Pool: [param:pool]"></text>
          <text name="misc" width="100%" height="20" bottomof="pool" size="15" alignment="left" text="Misc: [param:misc]"></text>
        </panel>
      </panel>
    </class> <!--<object class="summary-services" layers="" type="" landscape="" hardscape="" hvac="" pool="" misc="" />-->

    <!-- !camera classes -->
    <class name="camera-view">
      <camera name="view" alias="CAMERA-VIEW" width="100%" height="100%" outputfile="dump/capture[var:camerafile].png" oncapture="output" />
    </class>
    <class name="camera">
        <panel name="camera" alias="CAMERA" width="100%" height="100%" clip="yes">
            <panel name="camera-container" alias="CAMERA-CONTAINER" width="100%" height="100%">
                <object class="camera-view" face="back" />
            </panel>
            <panel name="toolbar" alias="CAMERA-TOOLBAR" width="100%" height="64" background="#343434" translucent="yes" ypos="-70">
                <panel name="wrapper" width="100%" height="100%" valign="bottom" clip="yes">
                    <panel name="capture-cancel" width="100" height="100%" padding-left="15" alpha="1" onclickup="capture-cancel" clickuptarget="CONTAINER" _type="">
                        <text name="label" height="100%" width="100%" font="Futura-Medium" size="18" alignment="left" color="#ffffff" text="Retake" />
                    </panel>
                    <panel name="capture-submit" width="100" height="100%" padding-right="15" alpha="1" align="right" onclickup="capture-submit" clickuptarget="CONTAINER" _type="">
                        <text name="label" height="100%" width="100%" font="Futura-Medium" size="18" alignment="right" color="#ffffff" text="Save" />
                    </panel>
                </panel>
            </panel>
            <panel name="controlCenter" alias="CAMERA-CONTROLCENTER" width="100%" height="100" align="center" valign="bottom">
                <panel name="wrapper" width="100%" height="100%" valign="center" padding-right="20" padding-left="20">
                    <panel name="dismiss" width="55" height="55" align="left" valign="center" onclickup="cancelcamera" clickuptarget="CONTAINER">
                        <image name="icon" source="graphics/icon.dismiss.white.png" align="left" valign="center" shadowradius="1" shadowxoffset="1" shadowyoffset="0" shadowopacity=".7" ignoretouches="yes" />
                    </panel>
                </panel>
                <panel name="snap" width="74" height="74" background="ffffff" cornerradius="37" align="center" valign="center" onclickup="snap-photo" onclick="snap-down" clickuptarget="CONTAINER">
                    <panel name="inner" width="60" height="60" cornerradius="30" background="ed1c24" align="center" valign="center" borderwidth="3" bordercolor="#252525" />
                </panel>
            </panel>
        </panel>
    </class>

    <class name="capture-preview">
        <panel name="capture-preview" alias="CAPTURE-PREVIEW" height="100%" width="100%" clip="yes" >
          <image fullpath="[param:source]" width="100%" align="center" valign="center"/>
        </panel>
    </class>

    <class name="camera-roll-row">
        <panel width="100%" height="150">
            <panel name="1" width="20%" height="100%" clip="yes">
                <image name="img" width="100%" height="100%" maxresolution="100" url="[param:url1]" assetthumb="[param:url1]" _url="[param:url1]" onclickup="select-photo" clickuptarget="CONTAINER" />
            </panel>
            <panel name="2" width="20%" height="100%" clip="yes" rightof="1">
                <image name="img" width="100%" height="100%" maxresolution="100" url="[param:url2]" assetthumb="[param:url2]" _url="[param:url2]" onclickup="select-photo" clickuptarget="CONTAINER" />
            </panel>
            <panel name="3" width="20%" height="100%" clip="yes" rightof="2">
                <image name="img" width="100%" height="100%" maxresolution="100" url="[param:url3]" assetthumb="[param:url3]" _url="[param:url3]" onclickup="select-photo" clickuptarget="CONTAINER" />
            </panel>
            <panel name="4" width="20%" height="100%" clip="yes" rightof="3">
                <image name="img" width="100%" height="100%" maxresolution="100" url="[param:url4]" assetthumb="[param:url4]" _url="[param:url4]" onclickup="select-photo" clickuptarget="CONTAINER" />
            </panel>
            <panel name="5" width="20%" height="100%" clip="yes" rightof="4">
                <image name="img" width="100%" height="100%" maxresolution="100" url="[param:url5]" assetthumb="[param:url5]" _url="[param:url5]" onclickup="select-photo" clickuptarget="CONTAINER" />
            </panel>
        </panel>
    </class>

    <class name="camera-roll">
        <panel name="camera-roll" alias="CAMERA-ROLL" width="100%" height="100%" >
            <list name="roll" datasource="camera-roll" width="100%" height="100%" step="5" paginate="no" orientation="vertical" align="center">
                <object class="camera-roll-row" row="[datasource:dataSourceIndex]" url1="[datasource:camera-roll.[param:dataSourceIndex].url]" url2="[datasource:camera-roll.[eval:[param:dataSourceIndex] + 1].url]" url3="[datasource:camera-roll.[eval:[param:dataSourceIndex] + 2].url]" url4="[datasource:camera-roll.[eval:[param:dataSourceIndex] + 3].url]" url5="[datasource:camera-roll.[eval:[param:dataSourceIndex] + 4].url]"/>
            </list>
        </panel>
    </class>

    <class name="rollphoto">
      <image name="thephoto" alias="THEPHOTO" asset="" height="100%" align="center" ></image>
    </class>

    <class name="cameraphoto">
      <panel name="container" height="100%" width="100%" clip="yes">
        <image name="thephoto" alias="THEPHOTO" fullpath="[param:photo]" width="100%" align="center" valign="center"></image>
      </panel>
    </class>

    <class name="addnote">
      <panel name="addnote" alias="ADDNOTE" width="100%" height="100%" ypos="101%" background="#e3e3e3">
        <panel name="toolbar" width="100%" height="74" background="#343434">
          <text name="title" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="20" alignment="center" text="Add a Note"></text>
          <text name="save" width="100" height="100%" align="right" color="#ffffff" font="Futura-Medium" size="18" alignment="center" text="Save" onclickup="savenote" clickuptarget="CONTAINER" ></text>
          <text name="cancel" width="100" height="100%" color="#ffffff" font="Futura-Medium" size="18" alignment="center" text="Cancel" onclickup="cancelnote" clickuptarget="CONTAINER" ></text>
        </panel>
        <panel name="photolanding" alias="PHOTOLANDING" width="300" height="400" ypos="90" align="center"></panel>
        <panel name="notewrap" width="80%" height="230" align="center" bottomof="PHOTOLANDING" margin-top="20" padding="10" background="ffffff" cornerradius="2" borderwidth="1" bordercolor="#343434">
          <textfield name="thenote" alias="THENOTE" width="100%" height="100%" font="Futura-Medium" size="20" color="#343434" alignment="left" valignment="top" multiline="yes" placeholder="Your Note Here."></textfield>
        </panel>
      </panel>
    </class>
    <class name="container">
  	<!-- !CONTAINER EDIT HERE -->
    <panel name="container" alias="CONTAINER" style="100" background="#e3e3e3">

      <!-- !customer -->
      <panel name="customer" alias="CUSTOMER" width="100%" height="[eval: [object:CONTAINER.height] - 127]" ypos="127" alpha="1">
        <panel name="inner" style="100" >
          <object class="title" title="New Customer Set Up" />
          <pager name="scroller" width="100%" height="[eval: [object:CUSTOMER.height] - 79]" orientation="vertical" bottomof="titlebox" paginate="no" padding-left="20" padding-right="20">
            <panel name="customer1" width="100%" height="160">
              <text name="subtitle" width="100%" height="35" style="darktext" size="20" alignment="left" text="Customer 1"></text>
              <panel name="col1" width="50%" height="100%" padding-right="10" bottomof="subtitle">
                <panel name="cust1-fname" alias="CUST1-FNAME" width="100%" height="50" align="left" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="First Name" onreturnkeypressed="next" returnkeytype="next" _next="CUST1-LNAME" _action="null"></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="CUST1-FNAME"></panel>
                </panel>
                <panel name="cust1-email" alias="CUST1-EMAIL" width="100%" height="50" align="left" bottomof="CUST1-FNAME" margin-top="10" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Email" onreturnkeypressed="next" returnkeytype="next" _next="CUST1-PHONE" _action="null" kbtype="emailaddress" autocorrect="no" ></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="CUST1-EMAIL"></panel>
                </panel>
              </panel>
              <panel name="col2" width="50%" height="100%" padding-left="10" align="right" bottomof="subtitle">
                <panel name="cust1-lname" alias="CUST1-LNAME" width="100%" height="50" align="right" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Last Name" onreturnkeypressed="next" returnkeytype="next" _next="CUST1-EMAIL" _action="null" ></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="CUST1-LNAME"></panel>
                </panel>
                <panel name="cust1-phone" alias="CUST1-PHONE" width="100%" height="50" align="right" bottomof="CUST1-LNAME" margin-top="10" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Phone" onreturnkeypressed="next" returnkeytype="next" _next="CUST2-FNAME" kbtype="numberpad" _action="null" kytype="numberpad" ></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="CUST1-PHONE"></panel>
                </panel>
              </panel>
              <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
            </panel>

            <panel name="customer2" width="100%" height="160">
              <text name="subtitle" width="100%" height="35" style="darktext" size="20" alignment="left" text="Customer 2"></text>
              <panel name="col1" width="50%" height="100%" padding-right="10" bottomof="subtitle">
                <panel name="cust2-fname" alias="CUST2-FNAME" width="100%" height="50" align="left" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="First Name" onreturnkeypressed="next" returnkeytype="next" _next="CUST2-LNAME" _action="null"></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="CUST2-FNAME"></panel>
                </panel>
                <panel name="cust2-email" alias="CUST2-EMAIL" width="100%" height="50" align="left" bottomof="CUST2-FNAME" margin-top="10" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Email" onreturnkeypressed="next" returnkeytype="next" _next="CUST2-PHONE" _action="null" kbtype="emailaddress" autocorrect="no" ></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="CUST2-EMAIL"></panel>
                </panel>
              </panel>
              <panel name="col2" width="50%" height="100%" padding-left="10" align="right" bottomof="subtitle">
                <panel name="cust2-lname" alias="CUST2-LNAME" width="100%" height="50" align="right" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Last Name" onreturnkeypressed="next" returnkeytype="next" _next="CUST2-EMAIL" _action="null" ></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="CUST2-LNAME"></panel>
                </panel>
                <panel name="cust2-phone" alias="CUST2-PHONE" width="100%" height="50" align="right" bottomof="CUST1-LNAME" margin-top="10" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Phone" onreturnkeypressed="next" returnkeytype="next" _next="STREET" _action="null" kbtype="numberpad" ></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="CUST2-PHONE"></panel>
                </panel>
              </panel>
              <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
            </panel>

            <panel name="address" alias="ADDRESS" width="100%" height="280">
              <text name="subtitle" width="100%" height="35" style="darktext" size="20" alignment="left" text="Property Address"></text>
              <!--<panel name="country" alias="COUNTRY" width="230" height="50" bottomof="subtitle" align="left" style="textinput">
                <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Country" onreturnkeypressed="next" _next="STREET" _action="null"></textfield>
                <panel name="active" style="100" onclickup="labelactive" _field="COUNTRY"></panel>
              </panel>-->
              <panel name="usa" alias="USA" width="50" height="50" align="left" bottomof="subtitle" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="countryus"  >
                <panel name="check" width="40" height="40" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
              </panel>
              <text name="checklabel" width="150" height="50" bottomof="subtitle" rightof="USA" style="darktext" size="20" leftinset="10" alignment="left" text="US"></text>
              <panel name="canada" alias="CANADA" width="50" height="50" xpos="120" bottomof="subtitle" background="f3f3f3" cornerradius="25" borderwidth="1" bordercolor="#888888" clip="yes" onclickup="countrycan"  >
                <panel name="check" width="0" height="0" align="center" valign="center" background="#ed1c24" cornerradius="20" alpha="1" ></panel>
              </panel>
              <text name="checklabel" width="150" height="50" bottomof="subtitle" rightof="canada" style="darktext" size="20" leftinset="10" alignment="left" text="Canada"></text>
              <panel name="col2" width="50%" height="110" padding-right="10" align="left" bottomof="USA" margin-top="10">
                <panel name="street" alias="STREET" width="100%" height="50" align="left" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Street" onreturnkeypressed="next" returnkeytype="next" _next="CITY" _action="null" ></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="STREET"></panel>
                </panel>
                <panel name="city" alias="CITY" width="100%" height="50" align="left" bottomof="STREET" margin-top="10" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="City" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null" kytype="numberpad" ></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="CITY"></panel>
                </panel>
              </panel>
              <panel name="us" alias="US" width="66%" height="50" bottomof="col2" margin-top="10">
                <panel name="state" alias="STATE" width="230" height="50" align="left" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="State" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null"></textfield>
                  <panel name="active" style="100" onclickup="dropon" _field="STATE" _drop="ADDRESS" _droptype="STATESLIST"></panel>
                </panel>
                <panel name="zip" alias="ZIP" width="230" height="50" align="right" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" characterlimit="5" placeholder="ZIP" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="ZIP"></panel>
                </panel>
              </panel>
              <panel name="can" alias="CAN" width="66%" height="50" bottomof="col2" margin-top="10" alpha="0">
                <panel name="province" alias="PROVINCE" width="230" height="50" align="left" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="Province" onreturnkeypressed="next" returnkeytype="next" _next="none" _action="null"></textfield>
                  <panel name="active" style="100" onclickup="dropon" _field="PROVINCE" _drop="ADDRESS" _droptype="PROVINCESLIST"></panel>
                </panel>
                <panel name="postal" alias="POSTAL" width="230" height="50" align="right" style="textinput">
                  <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                  <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" characterlimit="6" placeholder="Postal Code" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
                  <panel name="active" style="100" onclickup="labelactive" _field="POSTAL"></panel>
                </panel>
              </panel>
              <panel name="drop" width="230" height="230" bottomof="subtitle" xpos="101%" alpha="0" style="textinput">
                <panel name="stateslist" alias="STATESLIST" width="100%" height="100%" alpha="0">
                  <text name="drophead" width="100%" height="30" style="lighttext" size="18" alignment="center" text="States"></text>
                  <panel name="border" width="100%" height="1" background="#888888" ypos="30"></panel>
                  <list name="statelist" width="100%" height="200" ypos="30" datasource="states" orientation="vertical" paginate="no">
                    <object class="state" index="[param:dataSourceIndex]" abbr="[param:code]" name="[param:name]"/>
                  </list>
                </panel>
                <panel name="provinceslist" alias="PROVINCESLIST" width="100%" height="100%" alpha="0">
                  <text name="drophead" width="100%" height="30" style="lighttext" size="18" alignment="center" text="Provinces"></text>
                  <panel name="border" width="100%" height="1" background="#888888" ypos="30"></panel>
                  <list name="provincelist" width="100%" height="200" ypos="30" datasource="provinces" orientation="vertical" paginate="no">
                    <object class="province" index="[param:dataSourceIndex]" abbr="[param:code]" name="[param:name]" />
                  </list>
                </panel>
              </panel>
              <panel name="divider" width="100%" height="1" valign="bottom" background="#343434"></panel>
            </panel>

            <panel name="bottom" width="100%" height="209">
              <text name="subtitle" width="100%" height="35" style="darktext" size="20" alignment="left" text="Notes"></text>
              <panel name="notes" alias="NOTES" width="100%" height="114" bottomof="subtitle" align="left" style="textinput">
                <panel name="bg" style="100" background="f3f3f3" alhpa="1"></panel>
                <textfield name="input" width="100%" height="100%" align="left" leftinset="10" style="darktext" size="20" alignment="left" valignment="center" placeholder="" onreturnkeypressed="next" _next="none" _action="null" multiline="yes"></textfield>
                <panel name="active" style="100" onclickup="labelactive" _field="NOTES"></panel>
              </panel>
              <panel name="search-btn" width="110" height="50" align="right" bottomof="NOTES" margin-top="10">
                <object class="button" name="test" size="20" label="Save" action="saveCustomer" />
              </panel>
            </panel>

            <panel name="spacer" width="100%" height="270"></panel>

          </pager>
        </panel>
      </panel>

      <!-- !roof info -->
      <panel name="roof" alias="ROOF" width="100%" height="[eval: [object:CONTAINER.height] - 127]" ypos="127" alpha="0">

        <panel name="roof-sidebar" width="256" height="100%" background="#bfbfbf">
          <pager name="roof-sidebar-pager" alias="ROOF-SIDEBAR-PAGER" style="100" orientation="vertical" paginate="no">
            <object class="sidebar" alias="INSPECTION" label="Inspection" action="sidebar-roof" required="1" />
            <!--<object class="sidebar" alias="FASCIA" label="Fascia" action="sidebar-roof" />-->
            <object class="sidebar" alias="ROOF AREA" label="Roof Areas" action="sidebar-roof" required="1" />
            <object class="sidebar" alias="WASTE" label="Waste" action="sidebar-roof" required="0" />
            <object class="sidebar" alias="RIDGE" label="Ridges" action="sidebar-roof" required="0" />
            <object class="sidebar" alias="HIP" label="Hips" action="sidebar-roof" required="0" />
            <object class="sidebar" alias="VALLEY" label="Valleys" action="sidebar-roof" required="0" />
            <object class="sidebar" alias="RAKE" label="Rakes" action="sidebar-roof" required="0" />
            <object class="sidebar" alias="EAVE" label="Eaves" action="sidebar-roof" required="0" />
            <object class="sidebar" alias="CHIMNEY" label="Chimney &amp; Skylights" action="sidebar-roof" required="0" />
            <object class="sidebar" alias="VENT" label="Plumbing Vents" action="sidebar-roof" required="0" />
            <object class="sidebar" alias="PHOTO" label="Photos" action="sidebar-roof" required="0" />
          </pager>
          <panel name="roof-sidebar-blocker" alias="ROOF-SIDEBAR-BLOCKER" style="100" xpos="-101%"></panel>
        </panel>

        <panel name="roof-Inspection" alias="ROOF-INSPECTION" width="512" height="100%" align="right" alpha="0">
          <object class="title" title="Inspection" />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-INSPECTION.height] - 146]" ypos="79" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no" padding-left="20" padding-right="20">
              <object class="inspection" />
            </pager>
          </panel>
        </panel>

        <panel name="roof-Fascia" alias="ROOF-FASCIA" width="512" height="100%" align="right" alpha="0">
          <object class="title" title="Fascia"  />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-FASCIA.height] - 146]" ypos="79" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no" padding-left="20" padding-right="20">
              <object class="fascia" />
            </pager>
          </panel>
        </panel>

        <panel name="roof-Roof Area" alias="ROOF-ROOF AREA" width="512" height="100%" align="right" alpha="0" >
          <object class="titlebutton" title="Roof Areas" action="addarea" />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-ROOF AREA.height] - 146]" ypos="79" align="right" padding-left="20">
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no" >
              <!--<object class="roof area" index="1" />-->
            </pager>
          </panel>
        </panel>

        <panel name="roof-Waste" alias="ROOF-WASTE" width="512" height="100%" align="right" alpha="0">
          <object class="title" title="Waste"  />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-WASTE.height] - 146]" ypos="79" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no" padding-left="20" padding-right="20">
              <object class="waste" />
            </pager>
          </panel>
        </panel>

        <panel name="roof-Ridge" alias="ROOF-RIDGE" width="512" height="100%" align="right" alpha="0">
          <object class="titlebutton" title="Ridges" action="addridge" />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-RIDGE.height] - 146]" ypos="79" align="right" padding-left="20" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no">
              <!--<object class="ridge" index="1" />-->
            </pager>
          </panel>
        </panel>

        <panel name="roof-Hip" alias="ROOF-HIP" width="512" height="100%" align="right" alpha="0">
          <object class="titlebutton" title="Hips" action="addhip" />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-HIP.height] - 146]" ypos="79" align="right" padding-left="20" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no">
              <!--<object class="hip" index="1" />-->
            </pager>
          </panel>
        </panel>

        <panel name="roof-Valley" alias="ROOF-VALLEY" width="512" height="100%" align="right" alpha="0">
          <object class="titlebutton" title="Valley" action="addvalley" />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-VALLEY.height] - 146]" ypos="79" align="right" padding-left="20" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no">
              <!--<object class="valley" index="1" />-->
            </pager>
          </panel>
        </panel>

        <panel name="roof-Rake" alias="ROOF-RAKE" width="512" height="100%" align="right" alpha="0">
          <object class="titlebutton" title="Rakes" action="addrake" />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-RAKE.height] - 146]" ypos="79" align="right" padding-left="20" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no">
              <!--<object class="rake" index="1" />-->
            </pager>
          </panel>
        </panel>

        <panel name="roof-Eave" alias="ROOF-EAVE" width="512" height="100%" align="right" alpha="0">
          <object class="titlebutton" title="Eaves" action="addeave" />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-EAVE.height] - 146]" ypos="79" align="right" padding-left="20" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no">
              <!--<object class="eave" index="1" />-->
            </pager>
          </panel>
        </panel>

        <panel name="roof-Chimney" alias="ROOF-CHIMNEY" width="512" height="100%" align="right" alpha="0">
          <object class="titlebutton" title="Chimneys &amp; Skylights" action="addprotrusion" />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-CHIMNEY.height] - 146]" ypos="79" align="right" padding-left="20" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no">
              <!--<object class="chimney" index="1" />
              <object class="skylight" index="1" />-->
            </pager>
          </panel>
        </panel>

        <panel name="roof-vent" alias="ROOF-VENT" width="512" height="100%" align="right" alpha="0">
          <object class="titlebutton" title="Plumbing Vents" action="addvent" />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-VENT.height] - 146]" ypos="79" align="right" padding-left="20" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no">
              <!--<object class="3vent" />
              <object class="2vent" />
              <object class="15vent" />
              <object class="customvent" index="1" />-->
            </pager>
          </panel>
        </panel>

        <panel name="roof-Photo" alias="ROOF-PHOTO" width="512" height="100%" align="right" alpha="0">
          <object class="titlebutton" title="Photos &amp; Notes" action="addphoto" />
          <panel name="roofpagerbox" width="100%" height="[eval: [object:ROOF-PHOTO.height] - 146]" ypos="79" align="right" padding-left="20" >
            <list name="pager" datasource="photosdb-list" width="100%" height="100%" orientation="vertical" paginate="no">
              <object class="photo" index="[param:ID]" photo="[param:PHOTO]" note="[param:NOTE]" origin="[param:ORIGIN]" />
            </list>
          </panel>
        </panel>

        <panel name="roof-save-modal" alias="ROOF-SAVE-MODAL" width="100%" height="100%" align="right" alpha="0">
          <panel name="modal" width="200" height="120" align="center" ypos="35%" shadowradius="60" shadowxoffset="1" shadowyoffset="1" shadowopacity=".1" >
            <panel name="bg" width="100%" height="100%" background="#ffffff" alpha="1" cornerradius="10" borderwidth="1" bordercolor="#e3e3e3"></panel>
            <text name="saving" width="100%" height="40" ypos="10" color="##343434" font="Futura-Medium" size="24" alignment="center" text="Saving"></text>
            <wait name="wait" width="100%" height="70" ypos="50" color="#343434"></wait>
          </panel>
        </panel>

        <panel name="bottombar" alias="BOTTOMBAR" width="100%" height="67" valign="bottom" background="#343434" padding-right="20">
          <panel name="estimate" width="100" height="50" align="right" valign="center" >
            <object class="button" name="test" size="20" label="Save" action="save-roof" />
          </panel>
        </panel>

      </panel><!-- end of roof info -->

      <!-- !products -->
      <panel name="products" alias="PRODUCTS" width="100%" height="[eval: [object:CONTAINER.height] - 127]" ypos="127" alpha="0">
        <panel name="products-sidebar" width="256" height="100%" background="#bfbfbf">
          <pager name="products-sidebar-pager" alias="PRODUCTS-SIDEBAR-PAGER" style="100" orientation="vertical" paginate="no">
            <object class="sidebar" alias="SHINGLES" label="Shingles" action="sidebar-products" required="0" />
            <object class="sidebar" alias="WARRANTY" label="Warranty" action="sidebar-products" required="0" />
            <object class="sidebar" alias="ACCESSORIES" label="Accessories" action="sidebar-products" required="0" />
            <!--<object class="sidebar" alias="OPTIONS" label="Options" action="sidebar-products" />-->
          </pager>
          <panel name="products-step-blocker" alias="PRODUCTS-STEP-BLOCKER" width="100%" height="130" ypos="65" ></panel>
          <panel name="products-sidebar-blocker" alias="PRODUCTS-SIDEBAR-BLOCKER" style="100" xpos="-101%"></panel>
        </panel>

        <panel name="products-Shingle" alias="PRODUCTS-SHINGLES" width="512" height="100%" align="right" padding-bottom="20" alpha="0">
          <object class="title" title="Shingles"  />
          <panel name="productpagerbox" alias="PRODUCT-PAGER-BOX" width="100%" height="[eval: [object:PRODUCTS-SHINGLES.height] - 79]" ypos="79" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no" padding-left="20" padding-right="20" >
            </pager>
          </panel>
        </panel>

        <panel name="products-Warranty" alias="PRODUCTS-WARRANTY" width="512" height="100%" align="right" alpha="0">
          <object class="title" title="Select a Warranty"  />
          <panel name="warrantypagerbox" alias="WARRANTY-PAGER-BOX" width="100%" height="[eval: [object:PRODUCTS-WARRANTY.height] - 79]" ypos="79" >
            <list name="pager" width="100%" height="100%" datasource="getWarranties" orientation="vertical" paginate="no" padding-left="20" padding-right="20" >
              <object class="warranty" index="[ds:dataSourceIndex]" title="[ds:WarrantyName]" warrantyId="[ds:WarrantyId]" accessories="[ds:GAFAccessoriesRequired]"  />
            </list>
          </panel>
        </panel>

        <panel name="products-Accessories" alias="PRODUCTS-ACCESSORIES" width="512" height="100%" align="right" alpha="0">
          <object class="title" title="Accessories"  />
          <panel name="productpagerbox" alias="ACCESSORIES-PAGER-BOX" width="100%" height="[eval: [object:PRODUCTS-ACCESSORIES.height] - 79]" ypos="79" >
            <list name="pager" width="100%" datasource="getAccessories" height="100%" orientation="vertical" paginate="no" padding-left="20" padding-right="20" >
              <object class="accessory-category" index="[ds:dataSourceIndex]" category="[ds:AccessoryCategory]" lhs="[eval: ('[ds:dataSourceIndex]' == '1') || ('[datasource:getAccessories.[eval:[ds:dataSourceIndex]-1].AccessoryCategory]' != '[datasource:getAccessories.[ds:dataSourceIndex].AccessoryCategory]')]" operator="e" rhs="true" />
<!-- 			<object class="accessory-category" index="[ds:dataSourceIndex]" category="[ds:AccessoryCategory]" lhs="[eval: '[ds:dataSourceIndex]' == '1' || '[ds:AccessoryCategory]' != '[datasource:getAccessories.[eval:[ds:dataSourceIndex]-1].AccessoryCategory]]'" operator="e" rhs="true" /> -->
              <object class="accessory" index="[ds:dataSourceIndex]" title="[ds:AccessoryName]" units="[ds:UnitOfMeasure]" coverage="[ds:CoveragePerUnit]" category="[ds:AccessoryCategory]" />
            </list>
          </panel>
        </panel>

        <!--<panel name="products-Options" alias="PRODUCTS-OPTIONS" width="512" height="100%" align="right" padding-left="20" padding-right="20" alpha="0">
          <object class="title" title="Options"  />
          <panel name="productpagerbox" width="100%" height="[eval: [object:PRODUCTS-OPTIONS.height] - 79]" ypos="79" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no">
              <object class="options"  />
            </pager>
          </panel>
        </panel>-->
      </panel>

      <!-- !services -->
      <panel name="services" alias="SERVICES" width="100%" height="[eval: [object:CONTAINER.height] - 127]" ypos="127" alpha="0">
        <panel name="services-sidebar" width="256" height="100%" background="#bfbfbf">
          <pager name="services-sidebar-pager" alias="SERVICES-SIDEBAR-PAGER" style="100" orientation="vertical" paginate="no">
            <object class="sidebar" alias="TEAROFF" label="Tear Off" action="sidebar-services" required="0" />
            <object class="sidebar" alias="ASSETPROTECTION" label="Asset Protection" action="sidebar-services" required="0" />
            <object class="sidebar" alias="PLYWOOD" label="Plywood Sheathing" action="sidebar-services" required="0" />
          </pager>
          <panel name="services-sidebar-blocker" alias="SERVICES-SIDEBAR-BLOCKER" style="100" xpos="-101%"></panel>
        </panel>

        <panel name="services-Tear Off" alias="SERVICES-TEAROFF" width="512" height="100%" align="right" alpha="0">
          <object class="title" title="Tear Off"  />
          <panel name="servicespagerbox" width="100%" height="[eval: [object:SERVICES-TEAROFF.height] - 79]" ypos="79" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no" padding-left="20" padding-right="20" >
              <object class="tearoff" />
            </pager>
          </panel>
        </panel>

        <panel name="services-Asset Protection" alias="SERVICES-ASSETPROTECTION" width="512" height="100%" align="right" alpha="0">
          <object class="title" title="Asset Protection"  />
          <panel name="servicespagerbox" width="100%" height="[eval: [object:SERVICES-ASSETPROTECTION.height] - 79]" ypos="79" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no" padding-left="20" padding-right="20" >
              <object class="assetprotection" />
            </pager>
          </panel>
        </panel>

        <panel name="services-Plywood Sheathing" alias="SERVICES-PLYWOOD" width="512" height="100%" align="right" alpha="0">
          <object class="titlebutton" title="Plywood Sheathing" action="addplywood" />
          <panel name="servicespagerbox" width="100%" height="[eval: [object:SERVICES-PLYWOOD.height] - 79]" ypos="79" align="right" padding-left="20" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no" >
              <!--<object class="plywood" />-->
            </pager>
          </panel>
        </panel>

        <panel name="services-bottombar" alias="SERVICES-BOTTOMBAR" width="100%" height="67" valign="bottom" background="#343434" padding-right="20">
          <panel name="estimate" width="100" height="50" align="right" valign="center" >
            <object class="button" name="test" size="20" label="Save" action="save-fake-service" />
          </panel>
        </panel>
      </panel>

      <!-- !adjustments -->
      <panel name="adjustments" alias="ADJUSTMENTS" width="100%" height="[eval: [object:CONTAINER.height] - 127]" ypos="127" alpha="0">
        <panel name="adjustmentsbox" alias="ADJUSTMENTSBOX" width="100%" height="100%" align="right" alpha="1">
          <object class="titlebutton" title="Adjustments" action="addadjustment"  />
          <panel name="adjustmentspagerbox" width="100%" height="[eval: [object:ADJUSTMENTS.height] - 99]" ypos="79" >
            <pager name="pager" width="100%" height="100%" orientation="vertical" paginate="no" padding-left="20" padding-right="20" >
              <!--<object class="discount" index="1" />
              <object class="additionalcost" index="2" />-->
            </pager>
          </panel>
        </panel>
      </panel>

      <!-- !summary -->
      <panel name="summary" alias="SUMMARY" width="100%" height="[eval: [object:CONTAINER.height] - 127]" ypos="127" alpha="0">
        <panel name="summarybox" alias="SUMMARYBOX" width="100%" height="100%" align="right" alpha="1" padding-left="20">
          <panel name="titlebox" width="100%" height="79" padding-right="20">
            <object class="summary-head-title" title="Summary"  />
          </panel>
          <panel name="summarypagerbox" alias="SUMMARYPAGERBOX" width="100%" height="[eval: [object:SUMMARY.height] - 146]" ypos="79" >
            <pager name="summary-pager" alias="SUMMARY-PAGER" width="100%" height="100%" orientation="vertical" paginate="no">

            </pager>
          </panel>
        </panel>
        <panel name="bottombar" width="100%" height="67" valign="bottom" background="#343434" padding-right="20">
          <panel name="estimate" width="190" height="50" align="right" valign="center" >
            <object class="button" name="test" size="20" label="Create Estimate" action="estimate" />
          </panel>
        </panel>
      </panel>

      <!-- !top level nav -->
      <pager name="nav" alias="NAV" width="100%" height="53" ypos="74" alpha="1" background="#343434" orientation="horizontal" paginate="no">
        <panel name="nav-customer" alias="NAV-CUSTOMER" width="128" height="100%" onclickup="nav" _this="CUSTOMER">
          <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="18" alignment="center" text="Customer" leftinset="20">
            <panel name="step" width="20" height="20" cornerradius="10" background="#ed1c24" valign="center" xpos="8">
              <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="10" alignment="center" text="1"></text>
            </panel>
          </text>
          <text name="closed" width="100%" height="100%" color="#b0afaf" font="Futura-Medium" size="20" alignment="center" text="Customer" alpha="0"></text>
          <panel name="sel" width="100%" height="6" style="brand" valign="bottom"></panel>
        </panel>

        <panel name="nav-roof" alias="NAV-ROOF" width="123" height="100%" onclickup="nav" _this="ROOF">
          <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="18" alignment="center" text="Roof Info" leftinset="20">
            <panel name="step" width="20" height="20" cornerradius="10" background="#666666" valign="center" xpos="8">
              <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="10" alignment="center" text="2"></text>
            </panel>
          </text>
          <text name="closed" width="100%" height="100%" color="#b0afaf" font="Futura-Medium" size="20" alignment="center" text="Roof Info" alpha="0"></text>
          <panel name="sel" width="100%" height="3" style="brand" ypos="101%"></panel>
        </panel>

        <panel name="nav-products" alias="NAV-PRODUCTS" width="123" height="100%" onclickup="nav" _this="PRODUCTS">
          <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="18" alignment="center" text="Products" leftinset="20">
            <panel name="step" width="20" height="20" cornerradius="10" background="#666666" valign="center" xpos="8">
              <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="10" alignment="center" text="3"></text>
            </panel>
          </text>
          <text name="closed" width="100%" height="100%" color="#b0afaf" font="Futura-Medium" size="20" alignment="center" text="Products" alpha="0"></text>
          <panel name="sel" width="100%" height="3" style="brand" ypos="101%"></panel>
        </panel>

        <panel name="nav-services" alias="NAV-SERVICES" width="118" height="100%" onclickup="nav" _this="SERVICES">
          <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="18" alignment="center" text="Services" leftinset="20">
            <panel name="step" width="20" height="20" cornerradius="10" background="#666666" valign="center" xpos="8">
              <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="10" alignment="center" text="4"></text>
            </panel>
          </text>
          <text name="closed" width="100%" height="100%" color="#b0afaf" font="Futura-Medium" size="20" alignment="center" text="Services" alpha="0"></text>
          <panel name="sel" width="100%" height="3" style="brand" ypos="101%"></panel>
        </panel>

        <panel name="nav-adjustments" alias="NAV-ADJUSTMENTS" width="153" height="100%" onclickup="nav" _this="ADJUSTMENTS">
          <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="18" alignment="center" text="Adjustments" leftinset="20">
            <panel name="step" width="20" height="20" cornerradius="10" background="#666666" valign="center" xpos="8">
              <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="10" alignment="center" text="5"></text>
            </panel>
          </text>
          <text name="closed" width="100%" height="100%" color="#b0afaf" font="Futura-Medium" size="20" alignment="center" text="Adjustments" alpha="0"></text>
          <panel name="sel" width="100%" height="3" style="brand" ypos="101%"></panel>
        </panel>

        <panel name="nav-summary" alias="NAV-SUMMARY" width="123" height="100%" onclickup="nav" _this="SUMMARY">
          <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="18" alignment="center" text="Summary" leftinset="20">
            <panel name="step" width="20" height="20" cornerradius="10" background="#666666" valign="center" xpos="8">
              <text name="open" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="10" alignment="center" text="6"></text>
            </panel>
          </text>
          <text name="closed" width="100%" height="100%" color="#b0afaf" font="Futura-Medium" size="20" alignment="center" text="Summary" alpha="0"></text>
          <panel name="sel" width="100%" height="3" style="brand" ypos="101%"></panel>
        </panel>
      </pager>
      <panel name="step-navblock" alias="STEP-NAVBLOCK" width="100%" height="53" ypos="74" xpos="128" onclickup="null" ></panel>
      <panel name="navblock" alias="NAVBLOCK" width="100%" height="53" ypos="74" xpos="101%" onclickup="null"></panel>

      <!-- !camera roll -->
      <panel name="cameraroll" alias="CAMERAROLL" width="100%" height="100%" ypos="101%" background="#e3e3e3">
        <panel name="toolbar" width="100%" height="60" background="#343434">
          <text name="close" width="100" height="100%" xpos="20" color="#ffffff" font="Futura-Medium" size="18" alignment="left" text="close" onclickup="closeroll"></text>
        </panel>
        <wait name="wait" width="100%" height="964" valign="bottom" alpha="0" color="#ed1c24"/>
        <panel name="camera-list" width="100%" height="964" valign="bottom"></panel>
      </panel>

      <panel name="camerabox" alias="CAMERABOX" width="100%" height="100%" ypos="101%" background="#e3e3e3">

      </panel>

    </panel>
    </class>

	<class name="pdf">
	  <panel name="pdf-container" alias="PDF-CONTAINER" width="100%" height="100%" ypos="101%" background="#ff0000" >
      <panel name="toolbar" width="100%" height="74" background="#343434">
        <text name="title" width="100%" height="100%" color="#ffffff" font="Futura-Medium" size="24" alignment="center" text="Your Estimate"></text>
        <text name="save" width="100" height="100%" align="right" color="#ffffff" font="Avenir-Medium" size="15" alignment="center" text="SEND" onclickup="sendestimate" clickuptarget="CONTAINER" ></text>
        <text name="cancel" width="100" height="100%" color="#ffffff" font="Avenir-Medium" size="15" alignment="center" text="CLOSE" onclickup="closepdf" clickuptarget="CONTAINER" ></text>
      </panel>
      <panel name="pdf" width="100%" height="950" valign="bottom" >
        <pdf name="estimate" source="estimate.pdf" height="100%" width="100%" spreads="no" covertile="yes" tile="yes" orientation="vertical"></pdf>
      </panel>
	  </panel>
	</class>

  </classes>

  <!-- !MAIN ############ -->
  <main>
    <panel name="main" alias="MAIN" width="100%" height="100%" alpha="1" background="#e3e3e3">
  		<object class="container" />
  	</panel>
    <!-- end of container -->

    <!-- !curtain -->
    <panel name="curtain" alias="CURTAIN" style="100" alpha="0" onclickup="curtainaction" >
      <panel name="color" style="100" background="#ffffff" alpha="0"></panel>

      <panel name="profilemenu" alias="PROFILEMENU" width="200" height="100" xpos="548" ypos="70" background="ed1c24" alpha="0" cornerradius="2">
        <text name="logout" width="100%" height="50" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="Log Out" onclickup="logout"></text>
        <text name="additional-btn" width="100%" height="50" valign="bottom" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="Close Estimate" onclickup="cancel-est"></text>
        <panel name="divide" width="100%" height="1" valign="center" background="ffffff" alpha=".7"></panel>
      </panel>

      <panel name="adjustmenu" alias="ADJUSTMENU" width="200" height="100" xpos="548" ypos="200" style="brand" alpha="0" cornerradius="2">
        <text name="discount-btn" width="100%" height="50" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="Discount" onclickup="adddiscount"></text>
        <text name="additional-btn" width="100%" height="50" valign="bottom" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="Additional Cost" onclickup="addcost"></text>
        <panel name="divide" width="100%" height="1" valign="center" background="ffffff" alpha=".7"></panel>
      </panel>

      <panel name="protrusionmenu" alias="PROTRUSIONMENU" width="200" height="100" xpos="548" ypos="200" style="brand" alpha="0" cornerradius="2">
        <text name="chimney-btn" width="100%" height="50" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="Chimney" onclickup="addchimney"></text>
        <text name="skylight-btn" width="100%" height="50" valign="bottom" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="Skylight" onclickup="addskylight"></text>
        <panel name="divide" width="100%" height="1" valign="center" background="ffffff" alpha=".7"></panel>
      </panel>

      <panel name="ventmenu" alias="VENTMENU" width="200" height="150" xpos="548" ypos="200" style="brand" alpha="0" cornerradius="2">
        <text name="3-btn" width="100%" height="50" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="3 Inch Vent" onclickup="add3vent"></text>
        <text name="2-btn" width="100%" height="50" bottomof="3-btn" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="2 Inch Vent" onclickup="add2vent"></text>
        <text name="15-btn" width="100%" height="50" bottomof="2-btn" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="1.5 Inch Vent" onclickup="add15vent"></text>
<!--         <text name="custom-btn" width="100%" height="50" bottomof="15-btn" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="Custom Vent" onclickup="addcustomvent"></text> -->
        <panel name="divide" width="100%" height="1" bottomof="3-btn" background="ffffff" alpha=".7"></panel>
        <panel name="divide" width="100%" height="1" bottomof="2-btn" background="ffffff" alpha=".7"></panel>
<!--         <panel name="divide" width="100%" height="1" bottomof="15-btn" background="ffffff" alpha=".7"></panel> -->
      </panel>

      <panel name="plywoodmenu" alias="PLYWOODMENU" width="200" height="200" xpos="548" ypos="200" style="brand" alpha="0" cornerradius="2">
        <text name="12cdx" width="100%" height="50" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="1/2 Inch CDX" onclickup="add12cdx"></text>
        <text name="58cdx" width="100%" height="50" bottomof="12cdx" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="5/8 Inch CDX" onclickup="add58cdx"></text>
        <text name="12osb" width="100%" height="50" bottomof="58cdx" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="1/2 Inch OSB" onclickup="add12osb"></text>
        <text name="58osb" width="100%" height="50" bottomof="12osb" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="5/8 Inch OSB" onclickup="add58osb"></text>
        <panel name="divide" width="100%" height="1" bottomof="12cdx" background="ffffff" alpha=".7"></panel>
        <panel name="divide" width="100%" height="1" bottomof="58cdx" background="ffffff" alpha=".7"></panel>
        <panel name="divide" width="100%" height="1" bottomof="12osb" background="ffffff" alpha=".7"></panel>
      </panel>

      <panel name="cameramenu" alias="CAMERAMENU" width="200" height="100" xpos="548" ypos="200" style="brand" alpha="0" cornerradius="2">
        <text name="roll-btn" width="100%" height="50" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="Camera Roll" onclickup="addroll"></text>
        <text name="camera-btn" width="100%" height="50" valign="bottom" leftinset="10" color="#ffffff" font="Futura-Medium" size="20" alignment="left" text="Take a Photo" onclickup="addcamera"></text>
        <panel name="divide" width="100%" height="1" valign="center" background="ffffff" alpha=".7"></panel>
      </panel>

      <panel name="shinglecolor" alias="SHINGLECOLOR" width="90%" height="70%" alpha="0" align="center" ypos="18%" background="#e3e3e3" onclickup="colordismiss" borderwidth="2" bordercolor="#343434" shadowradius="3" shadowxoffset="0" shadowyoffset="0" shadowopacity=".3">
        <text name="label" width="100%" height="80" leftinset="20" background="#343434" color="#ffffff" font="Futura-Medium" size="40" alignment="left" text="Select a Color"></text>
        <text name="shingle" width="100%" height="60" bottomof="label" style="darktext" leftinset="20" size="30" alignment="left" text="Slateline"></text>
        <panel name="inner" width="100%" height="[eval: [object:SHINGLECOLOR.height] - 150]" ypos="150" >
          <pager name="colorpager" alias="COLORPAGER" width="100%" height="100%" orientation="vertical" paginate="no" padding-right="20" padding-bottom="20" >
            <panel name="row1" width="100%" height="320">
              <panel name="1" width="33.33%" height="100%" align="left">
                <panel name="marginer" width="200" height="100%" align="left" >
                  <panel name="imgholder" width="200" height="200" background="000000"></panel>
                  <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="20" alignment="left" text="red"></text>
                  <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
                    <object class="button" name="test" size="20" label="Select" action="setcolor" value="red" />
                  </panel>
                </panel>
              </panel>
              <panel name="2" width="33.33%" height="100%" align="center" >
                <panel name="marginer" width="200" height="100%" align="center">
                  <panel name="imgholder" width="200" height="200" background="000000"></panel>
                  <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="20" alignment="left" text="blue"></text>
                  <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
                    <object class="button" name="test" size="20" label="Select" action="setcolor" value="blue" />
                  </panel>
                </panel>
              </panel>
              <panel name="3" width="33.33%" height="100%" align="right" >
                <panel name="marginer" width="200" height="100%" align="right">
                  <panel name="imgholder" width="200" height="200" background="000000"></panel>
                  <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="20" alignment="left" text="green"></text>
                  <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
                    <object class="button" name="test" size="20" label="Select" action="setcolor" value="green" />
                  </panel>
                </panel>
              </panel>
            </panel>
            <panel name="row2" width="100%" height="320" >
              <panel name="1" width="33.33%" height="100%" align="left">
                <panel name="marginer" width="200" height="100%" align="left" >
                  <panel name="imgholder" width="200" height="200" background="000000"></panel>
                  <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="20" alignment="left" text="purple"></text>
                  <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
                    <object class="button" name="test" size="20" label="Select" action="setcolor" value="purple" />
                  </panel>
                </panel>
              </panel>

              <panel name="2" width="33.33%" height="100%" align="center" >
                <panel name="marginer" width="200" height="100%" align="center">
                  <panel name="imgholder" width="200" height="200" background="000000"></panel>
                  <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="20" alignment="left" text="yellow"></text>
                  <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
                    <object class="button" name="test" size="20" label="Select" action="setcolor" value="yellow" />
                  </panel>
                </panel>
              </panel>
              <panel name="3" width="33.33%" height="100%" align="right" >
                <panel name="marginer" width="200" height="100%" align="right">
                  <panel name="imgholder" width="200" height="200" background="000000"></panel>
                  <text name="colorlabel" width="100%" height="40" bottomof="imgholder" style="darktext" size="20" alignment="left" text="orange"></text>
                  <panel name="search-btn" width="200" height="50" align="right" bottomof="colorlabel">
                    <object class="button" name="test" size="20" label="Select" action="setcolor" value="orange" />
                  </panel>
                </panel>
              </panel>
            </panel>
            <!-- <panel name="row3" width="100%" height="300" background="#0000ff"></panel> -->
          </pager>
        </panel>
      </panel>

      <panel name="accessorylist" alias="ACCESSORYLIST" width="60%" height="44%" alpha="0" align="center" ypos="18%" background="#e3e3e3" onclickup="accessorydismiss" borderwidth="2" bordercolor="#343434" shadowradius="3" shadowxoffset="0" shadowyoffset="0" shadowopacity=".3">
        <text name="label" width="100%" height="80" leftinset="20" background="#343434" color="#ffffff" font="Futura-Medium" size="40" alignment="left" text="Select an Accessory"></text>
        <text name="accessorytype" width="100%" height="60" bottomof="label" style="darktext" leftinset="20" size="30" alignment="left" text="Ventilation"></text>
        <panel name="inner" width="100%" height="[eval: [object:ACCESSORYLIST.height] - 150]" ypos="150" padding-left="20" padding-right="20" padding-bottom="20" >
          <pager name="accessorytypepager" alias="ACCESSORYTYPEPAGER" width="100%" height="100%" orientation="vertical" paginate="no" >
            <panel name="acessory1" width="100%" fitheight="yes" >
              <text name="item" width="100%" height="fit" style="darktext" size="25" alignment="left" text="Example product"></text>
              <text name="description" width="100%" height="fit" bottomof="item" style="darktext" size="20" alignment="left" text="Maecenas sed diam eget risus varius blandit sit amet non magna. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit."></text>
              <panel name="accessory-units-meta" alias="ACCESSORY-UNITS-META" width="100%" height="50" bottomof="description">
                <text name="unitequals" alias="UNITEQUALS" width="50%" height="50" color="#343434" font="Futura-Medium" size="20" alignment="left" text=" "></text>
                <text name="unitmeasure" alias="UNITMEASURE" width="50%" height="50" align="right" color="#343434" font="Futura-Medium" size="20" alignment="right" text=" "></text>
              </panel>
              <!--<text name="accessory-autoquantity" alias="ACCESSORY-AUTOQUANTITY" width="180" height="50" bottomof="ACCESSORY-UNITS-META" style="darktext" size="20" alignment="left" text="testing"></text>-->
              <panel name="accessoryquantity" alias="ACCESSORYQUANTITY" width="180" height="50" style="textinput" bottomof="ACCESSORY-UNITS-META"  >
                <panel name="bg" style="100" background="f3f3f3" alpha="1"></panel>
                <text name="label" width="90%" height="100%" xpos="10" style="lighttext" size="20" alignment="left" text="Quantity"></text>
                <textfield name="input" width="100%" height="100%" align="left" rightinset="10" style="darktext" size="20" alignment="right" valignment="center" placeholder="" onreturnkeypressed="next" returnkeytype="next" kbtype="numberpad" _next="none" _action="null"></textfield>
                <panel name="active" style="100" onclickup="labelactive" _field="ACCESSORYQUANTITY"></panel>
              </panel>
              <text name="accessory-unit" alias="ACCESSORY-UNIT" width="100" height="50" bottomof="ACCESSORY-UNITS-META" rightof="ACCESSORYQUANTITY" leftinset="10" color="#343434" font="Futura-Medium" size="20" alignment="left" text="Units"></text>
              <panel name="create" width="110" height="50" align="right" bottomof="ACCESSORY-UNITS-META">
                <object class="button" name="test" size="20" label="Select" action="selectaccessory-save" value="product id" />
              </panel>
            </panel>
          </pager>
        </panel>
      </panel>

    </panel>

    <panel name="ac-sel-modal" alias="AC-SEL-MODAL" width="100%" height="100%" align="right" alpha="0">
      <panel name="modal" width="200" height="120" align="center" ypos="35%" shadowradius="60" shadowxoffset="1" shadowyoffset="1" shadowopacity=".1" >
        <panel name="bg" width="100%" height="100%" background="#ffffff" alpha="1" cornerradius="10" borderwidth="1" bordercolor="#e3e3e3"></panel>
        <text name="message" width="100%" height="100%" color="##343434" font="Futura-Medium" size="24" alignment="center" text="Accessory Selected"></text>
        <!--<wait name="wait" width="100%" height="70" ypos="50" color="#343434"></wait>-->
      </panel>
    </panel>

    <panel name="header" alias="HEADER" width="100%" height="74" padding-right="10" alpha="1" background="#bfbfbf">
      <image name="logo" source="images/logo.png" height="48" xpos="10" valign="center"></image>
      <panel name="profile" width="50%" height="100%" align="right" >
        <!--<image name="avatar" source="images/avatar.png" width="36" align="left" valign="center"></image>-->
        <panel name="logout" width="50" height="100%" align="right" onclickup="usermenu" >
          <image name="logout" source="graphics/icon.signout.png" align="center" valign="center"></image>
        </panel>
        <text name="welcome" width="100%" height="fit" xpos="46" ypos="15" leftof="logout" margin-right="10" color="#343434" font="Futura-MediumItalic" size="15" alignment="right" text="Signed in as" alpha=".7"></text>
        <text name="username" width="100%" height="fit" xpos="46" bottomof="welcome" margin-top="3" leftof="logout" margin-right="10" color="#343434" font="Futura-Medium" size="17" alignment="right" text="User"></text>
      </panel>
    </panel>

    <panel name="registerbox" alias="REGISTERBOX" width="100%" height="100%" alpha="0"></panel>

    <panel name="splash" alias="SPLASH" width="100%" height="100%">
	    <image name="image" source="graphics/splash.png"></image>
    </panel>

	  <panel name="upload-curtain" alias="UPLOAD-CURTAIN" width="100%" height="100%" alpha="0" >
	  	<panel name="bg" width="100%" height="100%" background="#000000" alpha=".5" ></panel>
	  	<wait name="wait" width="100%" height="100%"></wait>
	  	<text name="photo-progress" width="100%" height="fit" ypos="600" color="#ffffff" font="Futura-MediumItalic" size="24" alignment="center" text="Uploading Photo NUMBER..."></text>
	  </panel>

  </main>

  <!-- !ACTIONS ########### -->
  <actions>

    <action name="oninit" oninit="yes">
		  <assign property="var:search" value="" />
		  <assign property="var:loaded" value="no" />
		  <assign property="var:accessoryCount" value="0" />
      <assign property="var:tearoff" value="no" />
      <assign property="var:landscaping" value="no" />
      <assign property="var:hardscaping" value="no" />
      <assign property="var:hvac" value="no" />
      <assign property="var:pool" value="no" />
      <assign property="var:misc" value="no" />
      <assign property="var:waste" value="0" />
      <assign property="var:navstep-areas" value="no" />
      <assign property="var:navstep-inspect" value="no" />
      <create class="signin" target="CONTAINER" />
      <assign property="var:country" value="US" />
      <assign property="var:prevfield" value="0" />
      <assign property="var:nav" value="CUSTOMER" />
      <if lhs="[preferences:remember]" operator="e" rhs="yes">
        <assign property="var:username" value="[preferences:username]" />
        <assign property="var:password" value="[preferences:password]" />
        <assign property="object:HEADER/profile/username.text" value="[preferences:username]" />
        <assign property="datasource:login.postContent" value="[template:login.content]" />
        <assign property="datasource:login.source" value="https://162.209.101.177/api/AuthenticateUser" />
        <alpha value="1" time=".1" target="REMEMBER/check" />
        <set onclickup="checkoff" target="REMEMER" />
		<else>
			<alpha value="0" time=".2" target="SPLASH" />
		</else>
      </if>
      <if lhs="[preferences:remember]" operator="e" rhs="">
        <assign property="preferences:remember" value="no" />
      </if>
    </action>

    <action name="onresume" onresume="yes">

    </action>

    <!-- !button actions -->
    <action name="touched">
      <alpha value=".4" time=".1" target="bg" />
    </action>

    <action name="released">
      <alpha value="0" time=".2" target="bg" />
    </action>

    <!-- !textfield actions -->
    <action name="labelactive">
      <alpha value="0" time=".1" target="../bg" />
      <alpha value="0" target="../active" />
      <keyboard visible="yes" target="_field/input" />
      <assign property="var:currentfield" value="_field" />
      <if lhs="[var:currentfield]" operator="ne" rhs="[var:prevfield]">
        <play action="labelinactive" />
      </if>
    </action>

    <action name="labelinactive">
      <sync>
        <alpha value="1" time=".2" target="[var:prevfield]/bg" />
        <alpha value="1" target="[var:prevfield]/active" />
        <assign property="var:prevfield" value="[var:currentfield]" />
      </sync>
    </action>

    <action name="next">
      <alpha value="1" time=".2" target="../bg" />
      <alpha value="1" target="../active" />
      <if lhs="_next" operator="e" rhs="none">
        <sync>
          <keyboard visible="no" />
          <play action="_action" />
        </sync>

        <else>
          <alpha value="0" time=".1" target="_next/bg" />
          <alpha value="0" target="_next/active" />
          <keyboard visible="yes" target="_next//input" />
          <assign property="var:currentfield" value="_next" />
        </else>
      </if>
      <if lhs="_next" operator="e" rhs="STREET">
        <scroll page="3" target="CUSTOMER/inner/scroller" />
      </if>
    </action>

    <action name="kb-active">
      <assign property="var:kbactive" value="_kbactive" />
    </action>

    <action name="saveup">
      <translate ypos="566" time=".25" curve="easeout" target="BOTTOMBAR" />
    </action>

    <action name="savedown">
      <translate valign="bottom" time=".25" curve="linear" target="BOTTOMBAR" />
      <!--<alert message="save down" />-->
    </action>

    <action name="service-saveup">
      <translate ypos="566" time=".25" curve="easeout" target="SERVICES-BOTTOMBAR" />
      <assign property="var:kbactive" value="_kbactive" />
      <!--<alert message="save up" />-->
    </action>

    <action name="service-savedown">
      <translate valign="bottom" time=".25" curve="linear" target="SERVICES-BOTTOMBAR" />
      <!--<alert message="save down" />-->
    </action>

    <action name="kb-hide">
      <sync>
        <if lhs="[var:kbactive]" operator="ne" rhs="null">
          <keyboard visible="no" target="[var:kbactive]" />
          <assign property="var:kbactive" value="null" />
          <!--<alert message="kb hide" />-->
        </if>
      </sync>
    </action>

    <!-- !radio actions -->
    <action name="checkon">
      <scale width="[eval: ('_action' == 'remember' ? '24' : '40')]" height="[eval: ('_action' == 'remember' ? '24' : '40')]" align="center" valign="center" time=".1" alpha="1" target="check" />
      <set onclickup="checkoff" />
      <play action="_action" _value="yes" />
    </action>

    <action name="checkoff">
      <scale width="0" height="0" align="center" valign="center" time=".1" alpha="0" target="check" />
      <set onclickup="checkon" />
      <play action="_action" _value="no" />
    </action>

    <action name="tearoff-mask-off">
      <alpha value="0" time=".1" target="TEAROFF-MASK" />
      <scale width="[eval: ('_action' == 'remember' ? '24' : '40')]" height="[eval: ('_action' == 'remember' ? '24' : '40')]" align="center" valign="center" time=".1" alpha="1" target="TEAROFFSERVICE/check" />
      <set onclickup="checkoff" target="TEAROFFSERVICE" />
      <play action="tearoff" _value="yes" />
    </action>

    <action name="checkonindexed">
      <scale width="40" height="40" align="center" valign="center" time=".1" alpha="1" target="check" />
      <set onclickup="checkoffindexed" />
      <play action="_action" _value="yes" _index="_index" />
    </action>

    <action name="checkoffindexed">
      <scale width="0" height="0" align="center" valign="center" time=".1" alpha="0" target="check" />
      <set onclickup="checkonindexed" />
      <play action="_action" _value="no" _index="_index" />
    </action>

    <action name="dollars">
      <scale width="0" height="0" align="center" valign="center" time=".1" alpha="0" target="_type/percent-_index/check" />
      <scale width="40" height="40" align="center" valign="center" time=".1" alpha="1" target="_type/dollars-_index/check" />
      <assign property="var:units-_index" value="dollars" />
    </action>

    <action name="percent">
      <scale width="40" height="40" align="center" valign="center" time=".1" alpha="1" target="_type/percent-_index/check" />
      <scale width="0" height="0" align="center" valign="center" time=".1" alpha="0" target="_type/dollars-_index/check" />
      <assign property="var:units-_index" value="percent" />
    </action>

    <action name="countryus">
        <scale width="0" height="0" align="center" valign="center" time=".1" alpha="0" target="CANADA/check" />
        <scale width="40" height="40" align="center" valign="center" time=".1" alpha="1" target="USA/check" />
        <alpha value="0" time=".1" target="CAN" />
        <alpha value="1" time=".1" target="US" />
        <assign property="var:country" value="US" />
    </action>

    <action name="countrycan">
        <scale width="40" height="40" align="center" valign="center" time=".1" alpha="1" target="CANADA/check" />
        <scale width="0" height="0" align="center" valign="center" time=".1" alpha="0" target="USA/check" />
        <alpha value="0" time=".1" target="US" />
        <alpha value="1" time=".1" target="CAN" />
        <assign property="var:country" value="Canada" />
    </action>

    <action name="edit-countryus">
        <scale width="0" height="0" align="center" valign="center" time=".1" alpha="0" target="EDIT-CANADA/check" />
        <scale width="40" height="40" align="center" valign="center" time=".1" alpha="1" target="EDIT-USA/check" />
        <alpha value="0" time=".1" target="CAN-LIST" />
        <alpha value="1" time=".1" target="US-LIST" />
        <assign property="var:edit-country" value="US" />
    </action>

    <action name="edit-countrycan">
        <scale width="40" height="40" align="center" valign="center" time=".1" alpha="1" target="EDIT-CANADA/check" />
        <scale width="0" height="0" align="center" valign="center" time=".1" alpha="0" target="EDIT-USA/check" />
        <alpha value="0" time=".1" target="US-LIST" />
        <alpha value="1" time=".1" target="CAN-LIST" />
        <assign property="var:edit-country" value="Canada" />
    </action>

    <action name="ridgeradio">
      <assign property="var:ridgevent-_index" value="_value" />
      <!--<alert message="[var:ridgevent-_index] _index" />-->
    </action>

    <action name="hipradio">
      <assign property="var:hipvent-_index" value="_value" />
      <!--<alert message="[var:hipvent-_index] _index" />-->
    </action>

    <!-- !web browser -->
    <action name="openweb">
      <sync>
        <create class="web" target="REGISTERBOX" />
        <alpha value="1" target="REGISTERBOX" />
        <assign property="object:BROWSER.url" value="_value" />
        <assign property="object:TOOLBAR/title.text" value="_title" />
        <translate ypos="0" time=".3" curve="easeout" target="WEB" />
      </sync>
    </action>

    <action name="closeweb">
      <sync>
        <alpha value="0" target="REGISTERBOX" />
        <translate ypos="101%" time=".3" curve="easout" target="WEB" />
        <delete target="WEB" />
      </sync>
    </action>

    <!-- !register actions -->
    <action name="openregisterview">
      <sync>
        <play action="released" />
        <play action="openweb" _value="http://162.209.101.177" _title="Register" />
      </sync>
    </action>

    <!-- !sign in actions -->
    <action name="signin">
      <play action="released" />
      <if lhs="[object:USERNAME/input.text]" operator="ne" rhs="">
        <if lhs="[object:PASSWORD/input.text]" operator="ne" rhs="">
          <alpha value="0" time=".15" target="SIGNIN/column" />
          <translate valign="center" time=".25" target="SIGNIN/logo" />
          <sync>
            <assign property="var:username" value="[object:USERNAME/input.text]" />
            <assign property="var:password" value="[object:PASSWORD/input.text]" />
            <assign property="datasource:login.postContent" value="[template:login.content]" />
            <assign property="datasource:login.source" value="https://162.209.101.177/api/AuthenticateUser" />
            <keyboard visible="no" target="USERNAME/input"/>
            <keyboard visible="no" target="PASSWORD/input"/>
<!--
            <alpha value="0" time=".3" target="SIGNIN" />
            <create class="choice" target="CONTAINER" />
            <alpha value="1" time=".2" target="CHOICE" />
-->
          </sync>
          <else>
            <alert message="Please enter a password" />
          </else>
        </if>
        <else>
          <alert message="Please enter a username" />
        </else>
      </if>
    </action>

    <action name="signin-complete" datasource="login" datasourceevent="querycomplete">
      <alpha value="0" time=".2" target="SPLASH" />
      <if lhs="[datasource:login.1.ResponseCode]" operator="e" rhs="100">
        <assign property="preferences:username" value="[var:username]" />
        <assign property="preferences:password" value="[var:password]" />
        <assign property="preferences:token" value="[datasource:login.1.Token]" />
        <assign property="preferences:contractorId" value="[datasource:login.1.ContractorId]" />
        <assign property="preferences:contractorType" value="[datasource:login.1.ContractorType]" />
        <assign property="preferences:trueSlate" value="[datasource:login.1.TrueSlate]" />
        <assign property="httpheader:token-contractorid.Token" value="[preferences:token]" />
        <assign property="httpheader:token-contractorid.ContractorId" value="[preferences:contractorId]" />
        <assign property="object:HEADER/profile/username.text" value="[preferences:username]" />
        <sync>
          <alpha value="0" time="0" target="SIGNIN/column" />
          <translate ypos="101%" time=".25" target="SIGNIN/logo" />
          <create class="choice" target="CONTAINER" />
          <alpha value="1" time=".3" target="CHOICE" />
          <alpha value="0" time=".3" target="SIGNIN" />
        </sync>
        <!--<alert message="you have signed in username:[preferences:username] password:[preferences:password] remembered:[preferences:remember]" /> -->
        <else>
          <sync>
        	  <alert message="Invalid username and/or password. Please check your credentials and try again.  If you have not yet created an account, tap the Register button to do so." />
            <translate ypos="134" time=".25" target="SIGNIN/logo" />
            <alpha value="1" time=".15" target="SIGNIN/column" />
          </sync>
        </else>
        <assign property="var:loaded" value="yes" />
      </if>
    </action>

    <action name="login-error" datasource="login" datasourceevent="datasourceerror" >
		  <alert title="Network Error" message="There was a problem connecting to the server.  Please check your network connection and try again." />
		  <alpha value="0" time=".3" target="UPLOAD-CURTAIN" />
    </action>

    <action name="remember">
      <assign property="preferences:remember" value="_value" />
    </action>

    <action name="tearoff">
      <sync>
        <assign property="var:tearoff" value="[eval: ('[var:tearoff]' == 'no' ? 'yes' : 'no')]" />
        <if lhs="[var:tearoff]" operator="e" rhs="yes">
          <alpha value="0" time=".1" target="TEAROFF-MASK" />
          <else>
            <alpha value="1" time=".1" target="TEAROFF-MASK" />
            <assign property="object:LAYERS/input.text" value="0" />
            <assign property="object:TYPE/input.text" value="" />
          </else>
        </if>
      </sync>
    </action>

    <action name="tearoff-on">
      <sync>
        <assign property="var:tearoff" value="yes" />
        <scale width="[eval: ('_action' == 'remember' ? '24' : '40')]" height="[eval: ('_action' == 'remember' ? '24' : '40')]" align="center" valign="center" time=".1" alpha="1" target="TEAROFFSERVICE/check" />
        <alpha value="0" time=".1" target="TEAROFF-MASK" />
      </sync>
    </action>

    <action name="tearoff-off">
      <sync>
        <if lhs="var:tearoff" operator="e" rhs="yes">
          <assign property="var:tearoff" value="no" />
          <scale width="0" height="0" align="center" valign="center" time=".1" alpha="0" target="check" />
          <alpha value="1" time=".1" target="TEAROFF-MASK" />
          <assign property="object:LAYERS/input.text" value="0" />
          <assign property="object:TYPE/input.text" value="" />
        </if>
      </sync>
    </action>

    <action name="landscaping">
      <sync>
        <assign property="var:landscaping" value="[eval: ('[var:landscaping]' == 'no' ? 'yes' : 'no')]" />
        <alpha value="[eval: ('[var:landscaping]' == 'no' ? '0' : '1')]" time=".25" target="LANDSCAPEPRICE" />
        <keyboard visible="yes" target="LANDSCAPEPRICE/input" />
        <if lhs="[var:landscaping]" operator="e" rhs="no">
          <assign property="object:LANDSCAPEPRICE/input.text" value="" />
          <keyboard visible="no" target="LANDSCAPEPRICE/input" />
        </if>
      </sync>
    </action>

    <action name="hardscaping">
      <sync>
        <assign property="var:hardscaping" value="[eval: ('[var:hardscaping]' == 'no' ? 'yes' : 'no')]" />
        <alpha value="[eval: ('[var:hardscaping]' == 'no' ? '0' : '1')]" time=".25" target="HARDSCAPEPRICE" />
        <keyboard visible="yes" target="HARDSCAPEPRICE/input" />
        <if lhs="[var:hardscaping]" operator="e" rhs="no">
          <assign property="object:HARDSCAPEPRICE/input.text" value="" />
          <keyboard visible="no" target="HARDSCAPEPRICE/input" />
        </if>
      </sync>
    </action>

    <action name="hvac">
      <sync>
        <assign property="var:hvac" value="[eval: ('[var:hvac]' == 'no' ? 'yes' : 'no')]" />
        <alpha value="[eval: ('[var:hvac]' == 'no' ? '0' : '1')]" time=".25" target="HVACPRICE" />
        <keyboard visible="yes" target="HVACPRICE/input" />
        <if lhs="[var:hvac]" operator="e" rhs="no">
          <assign property="object:HVACPRICE/input.text" value="" />
          <keyboard visible="no" target="HVACPRICE/input" />
        </if>
      </sync>
    </action>

    <action name="pool">
      <sync>
        <assign property="var:pool" value="[eval: ('[var:pool]' == 'no' ? 'yes' : 'no')]" />
        <alpha value="[eval: ('[var:pool]' == 'no' ? '0' : '1')]" time=".25" target="POOLPRICE" />
        <keyboard visible="yes" target="POOLPRICE/input" />
        <if lhs="[var:pool]" operator="e" rhs="no">
          <assign property="object:POOLPRICE/input.text" value="" />
          <keyboard visible="no" target="POOLPRICE/input" />
        </if>
      </sync>
    </action>

    <action name="misc">
      <sync>
        <assign property="var:misc" value="[eval: ('[var:misc]' == 'no' ? 'yes' : 'no')]" />
        <alpha value="[eval: ('[var:misc]' == 'no' ? '0' : '1')]" time=".25" target="MISCPRICE" />
        <keyboard visible="yes" target="MISCPRICE/input" />
        <if lhs="[var:misc]" operator="e" rhs="no">
          <assign property="object:MISCPRICE/input.text" value="" />
          <keyboard visible="no" target="MISCPRICE/input" />
        </if>
      </sync>
    </action>

    <!-- !search actions -->
    <action name="search">
      <sync>
		  <assign property="var:search" value="on" />
        <play action="released" />
        <assign encoding="url" property="var:searchLastName" value="[object:SEARCH-LASTNAME/input.text]" />
        <assign encoding="url" property="var:searchAddress" value="[object:SEARCH-ADDRESS/input.text]" />
        <keyboard visible="no" target="SEARCH-LASTNAME/input" />
        <keyboard visible="no" target="SEARCH-ADDRESS/input" />
        <create class="results" target="CONTAINER" />
        <alpha value="0" time=".2" target="HEADER" />
        <translate ypos="0" time=".25" curve="easeout" target="SEARCHRESULTS" />
        <!-- <alert message="get-estimate preferences:token is [preferences:token] preferences:contractorId is [preferences:contractorId] url is https://162.209.101.177/api/GetCustomerEstimate?customerLastName=[var:lastName]&amp;address1=[var:address1]&amp;city=[var:city]&amp;stateProvince=[var:state]&amp;postalCode=[var:postalCode]&amp;country=[var:country]" /> -->
        <if lhs="[eval: ('[object:SEARCH-LASTNAME/input.text]' != '' ) &amp;&amp; ('[object:SEARCH-ADDRESS/input.text]' != '')]" operator="e" rhs="true">
<!--         <alert message="search by both" /> -->
          <assign property="datasource:getEstimate.source" value="https://162.209.101.177/api/GetCustomerEstimate?CustomerLastName=[var:searchLastName]&amp;address1=[var:searchAddress]" />
		  <assign property="var:searchquery" value="https://162.209.101.177/api/GetCustomerEstimate?CustomerLastName=[var:searchLastName]&amp;address1=[var:searchAddress]" />
        </if>
        <if lhs="[eval: ('[object:SEARCH-LASTNAME/input.text]' != '' ) &amp;&amp; ('[object:SEARCH-ADDRESS/input.text]' == '')]" operator="e" rhs="true">
<!--         <alert message="search by last name" /> -->
          <assign property="datasource:getEstimate.source" value="https://162.209.101.177/api/GetCustomerEstimate?CustomerLastName=[var:searchLastName]" />
		  <assign property="var:searchquery" value="https://162.209.101.177/api/GetCustomerEstimate?CustomerLastName=[var:searchLastName]" />
        </if>
        <if lhs="[eval: ('[object:SEARCH-LASTNAME/input.text]' == '' ) &amp;&amp; ('[object:SEARCH-ADDRESS/input.text]' != '')]" operator="e" rhs="true">
<!--         <alert message="search by address" /> -->
          <assign property="datasource:getEstimate.source" value="https://162.209.101.177/api/GetCustomerEstimate?Address1=[var:searchAddress]" />
		  <assign property="var:searchquery" value="https://162.209.101.177/api/GetCustomerEstimate?Address1=[var:searchAddress]" />
		</if>
      </sync>
    </action>

    <action name="get-estimate-complete" datasource="getEstimate" datasourceevent="querycomplete" >
		  <assign property="object:SEARCHRESULTS/searchhead/label.text" value="Search Results" />
      <assign property="object:SEARCH-LASTNAME/input.text" value="" />
      <assign property="object:SEARCH-ADDRESS/input.text" value="" />
    </action>

    <action name="get-estimate-error" datasource="getEstimate" datasourceevent="datasourceerror" >
		  <alert title="Network Error" message="There was a problem connecting to the server.  Please check your network connection and try again." />
		  <alpha value="0" time=".3" target="UPLOAD-CURTAIN" />
    </action>

    <action name="closeresults">
      <sync>
		  <assign property="var:search" value="" />
        <translate ypos="101%" time=".25" curve="easeout" target="SEARCHRESULTS" />
        <delete target="SEARCHRESULTS" />
        <alpha value="1" time=".2" target="HEADER" />
      </sync>
    </action>

    <action name="viewestimate">
      <play action="released" />
      <if lhs="[datasource:getEstimate._value.EstimatePdf]" operator="ne" rhs="">
        <alpha value="1" time=".2" target="UPLOAD-CURTAIN" />
        <assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="Retrieving Estimate..." />
          <assign property="var:customerId" value="[datasource:getEstimate._value.CustomerId]" />
          <assign property="var:customerIndex" value="_value" />
        <play action="download-pdf" />
        <else>
          <alert message="No estimate found for this user." />
        </else>
      </if>
    </action>

    <action name="edit">
      <play action="released" />
      <!-- <create class="editpanel" target="CONTAINER" />  -->
      <assign property="datasource:states.source" value="res://states.xml" />
      <assign property="datasource:provinces.source" value="res://provinces.xml" />
      <assign property="var:edit-customerId" value="[datasource:getEstimate._value.CustomerId]" />
      <create class="editpanel" fname="[datasource:getEstimate._value.CustomerFirstName]" lname="[datasource:getEstimate._value.CustomerLastName]" address1="[datasource:getEstimate._value.Address1]" city="[datasource:getEstimate._value.City]" state="[datasource:getEstimate._value.StateProvince]" zip="[datasource:getEstimate._value.PostalCode]" phone="[datasource:getEstimate._value.PhoneNumber]" email="[datasource:getEstimate._value.Email]"  target="CONTAINER" />
      <if lhs="[datasource:getEstimate._value.Country]" operator="ne" rhs="US">
        <play action="edit-countrycan" />
        <else>
          <assign property="var:edit-country" value="US" />
        </else>
      </if>
      <!-- <alert message="index is _value, CustomerId is [datasource:getEstimate._value.CustomerId]" /> -->
    </action>

    <action name="editcustomer" >
		  <play action="released" />
		  <assign property="var:edit-fname"    value="[object:EDIT-FNAME/input.text]" />
		  <assign property="var:edit-lname"    value="[object:EDIT-LNAME/input.text]" />
		  <assign property="var:edit-email"    value="[object:EDIT-EMAIL/input.text]" />
		  <assign property="var:edit-phone"    value="[object:EDIT-PHONE/input.text]" />
		  <assign property="var:edit-address1" value="[object:EDIT-STREET/input.text]" />
		  <assign property="var:edit-city"     value="[object:EDIT-CITY/input.text]" />
		  <assign property="var:edit-state"    value="[object:EDIT-STATE/input.text]" />
		  <assign property="var:edit-zip" value="[object:EDIT-ZIP/input.text]" />
      <!-- 		<alert message="object object:EDIT-STREET/input.text is [object:EDIT-STREET/input.text] var:edit-address1 is [var:edit-address1]" /> -->
		  <assign property="datasource:editCustomer.postContent" value="[template:editCustomer.content]" />
		  <assign property="datasource:editCustomer.source" value="https://162.209.101.177/api/EditCustomer" />
      <!-- 		<alert message="postContent is [template:editCustomer.content]" /> -->
      <!-- 		<email subject="edit customer post content" body="[template:editCustomer.content]" toaddress="mlong@rarewire.com" /> -->
    </action>

    <action name="edit-complete" datasource="editCustomer" datasourceevent="querycomplete" >
		  <alert title="Success" message="Customer Record Updated" />
		  <alpha value="0" target="UPLOAD-CURTAIN" />
		  <if lhs="[var:customerCreated]" operator="ne" rhs="yes">
	          <assign property="datasource:getEstimate.source" value="[var:searchquery]" />
		  	<play action="close-edit" />
		  </if>
    </action>

    <!-- !Edit modal actions -->
    <action name="close-edit">
      <sync>
        <alpha value="0" time=".25" target="EDITPANEL" />
        <delete target="EDITPANEL" />
      </sync>
    </action>

    <action name="edit-state-list">
      <sync>
        <if lhs="[var:edit-country]" operator="e" rhs="US">
          <alpha value="1" target="MODALCURTAIN" />
          <translate ypos="340" time=".25" curve="easeout" target="US-LIST" />
        </if>
        <if lhs="[var:edit-country]" operator="e" rhs="Canada">
          <alpha value="1" target="MODALCURTAIN" />
          <translate ypos="340" time=".25" curve="easeout" target="CAN-LIST" />
        </if>
      </sync>
    </action>

    <action name="hideeditcurtain">
      <sync>
        <alpha value="0" target="MODALCURTAIN" />
      </sync>
    </action>

    <!-- ! create actions -->
    <action name="create">
      <sync>
        <play action="released" />
        <play action="_value" />
      </sync>
    </action>

    <action name="newestimate">
		  <sync>
		    <play action="resetSummaryVars"/>
		    <play action="resetRoofIndices" />
		    <play action="resetAccessoryVars" />
			  <assign property="datasource:accessoriesdb-delete.query" value="DELETE FROM ACCESSORIES;" />
			  <assign property="datasource:photosdb-delete.query" value="DELETE FROM PHOTOS;" />
			  <assign property="datasource:photosdb-list.query" value="SELECT * FROM PHOTOS;" />
        <alpha value="0" time=".25" target="CHOICE" />
        <assign property="datasource:states.source" value="res://states.xml" />
        <assign property="datasource:provinces.source" value="res://provinces.xml" />
        <assign property="var:loaded" value="yes" />
      </sync>
    </action>

    <action name="addarea">
      <sync>
        <assign property="var:areaindex" value="[eval: [var:areaindex] + 1]" />
        <assign property="var:areaindex2" value="[var:areaindex]" />
        <create class="roof area" index="[var:areaindex]" target="ROOF-ROOF AREA/roofpagerbox/pager" />
        <!--<alert message="[var:areaindex]" />-->
        <if lhs="[var:areaindex]" operator="gt" rhs="1">
          <delete target="ROOF-SPACER-AREA-[eval: [var:areaindex] - 1]" />
          <create class="roof-spacer" index="[var:areaindex]" name="AREA" target="ROOF-ROOF AREA/roofpagerbox/pager" />
          <assign property="var:AREAspacerindex" value="[var:areaindex]" />
          <alpha value="0" time=".1" target="ROOF-AREA[eval: [var:areaindex] - 1]/deletebox" />
        </if>
        <keyboard visible="yes" target="RL[var:areaindex]/input" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Roof Areas/saved-check" />
        <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Roof Areas/required" />
      </sync>
    </action>

    <action name="addridge">
      <sync>
        <assign property="var:ridgeindex" value="[eval: [var:ridgeindex] + 1]" />
        <create class="ridge" index="[var:ridgeindex]" target="ROOF-RIDGE/roofpagerbox/pager" />
        <assign property="var:ridgevent-[var:ridgeindex]" value="no" />
        <if lhs="[var:ridgeindex]" operator="gt" rhs="1">
          <delete target="ROOF-SPACER-RIDGE-[eval: [var:ridgeindex] - 1]" />
          <create class="roof-spacer" index="[var:ridgeindex]" name="RIDGE" target="ROOF-RIDGE/roofpagerbox/pager" />
          <assign property="var:RIDGEspacerindex" value="[var:ridgeindex]" />
          <alpha value="0" time=".1" target="RIDGE[eval: [var:ridgeindex] - 1]/deletebox" />
        </if>
        <keyboard visible="yes" target="RIDGELENGTH[var:ridgeindex]/input" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Ridges/saved-check" />
      </sync>
    </action>

    <action name="addhip">
      <sync>
        <assign property="var:hipindex" value="[eval: [var:hipindex] + 1]" />
        <create class="hip" index="[var:hipindex]" target="ROOF-HIP/roofpagerbox/pager" />
        <if lhs="[var:hipindex]" operator="gt" rhs="1">
          <delete target="ROOF-SPACER-HIP-[eval: [var:hipindex] - 1]" />
          <create class="roof-spacer" index="[var:hipindex]" name="HIP" target="ROOF-HIP/roofpagerbox/pager" />
          <alpha value="0" time=".1" target="HIP[eval: [var:hipindex] - 1]/deletebox" />
        </if>
        <keyboard visible="yes" target="HIPLENGTH[var:hipindex]/input" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Hips/saved-check" />
      </sync>
    </action>

    <action name="addvalley">
      <sync>
        <assign property="var:valleyindex" value="[eval: [var:valleyindex] + 1]" />
        <create class="valley" index="[var:valleyindex]" target="ROOF-VALLEY/roofpagerbox/pager" />
        <if lhs="[var:valleyindex]" operator="gt" rhs="1">
          <delete target="ROOF-SPACER-VALLEY-[eval: [var:valleyindex] - 1]" />
          <create class="roof-spacer" index="[var:valleyindex]" name="VALLEY" target="ROOF-VALLEY/roofpagerbox/pager" />
          <alpha value="0" time=".1" target="VALLEY[eval: [var:valleyindex] - 1]/deletebox" />
        </if>
        <keyboard visible="yes" target="VALLEYLENGTH[var:valleyindex]/input" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Valleys/saved-check" />
      </sync>
    </action>

    <action name="addrake">
      <sync>
        <assign property="var:rakeindex" value="[eval: [var:rakeindex] + 1]" />
        <create class="rake" index="[var:rakeindex]" target="ROOF-RAKE/roofpagerbox/pager" />
        <if lhs="[var:rakeindex]" operator="gt" rhs="1">
          <delete target="ROOF-SPACER-RAKE-[eval: [var:rakeindex] - 1]" />
          <create class="roof-spacer" index="[var:rakeindex]" name="RAKE" target="ROOF-RAKE/roofpagerbox/pager" />
          <alpha value="0" time=".1" target="RAKE[eval: [var:rakeindex] - 1]/deletebox" />
        </if>
        <keyboard visible="yes" target="RAKELENGTH[var:rakeindex]/input" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Rakes/saved-check" />
      </sync>
    </action>

    <action name="addeave">
      <sync>
        <assign property="var:eaveindex" value="[eval: [var:eaveindex] + 1]" />
        <create class="eave" index="[var:eaveindex]" target="ROOF-EAVE/roofpagerbox/pager" />
        <if lhs="[var:eaveindex]" operator="gt" rhs="1">
          <delete target="ROOF-SPACER-EAVE-[eval: [var:eaveindex] - 1]" />
          <create class="roof-spacer" index="[var:eaveindex]" name="EAVE" target="ROOF-EAVE/roofpagerbox/pager" />
          <alpha value="0" time=".1" target="EAVE[eval: [var:eaveindex] - 1]/deletebox" />
        </if>
        <keyboard visible="yes" target="EAVELENGTH[var:eaveindex]/input" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Eaves/saved-check" />
      </sync>
    </action>

    <!-- !header drop down -->
    <action name="profiledrop">
      <play action="clearcurtain" />
      <alpha value="1" time=".25" target="PROFILEMENU" />
      <assign property="var:curtainaction" value="hideprofilemenu" />
    </action>

    <action name="hideprofilemenu">
      <sync>
        <alpha value="0" time=".25" target="PROFILEMENU" />
        <play action="hideclearcurtain" />
        <assign property="var:curtainaction" value="null" />
      </sync>
    </action>

    <!-- !chimney and skylights -->
    <action name="addprotrusion">
      <play action="clearcurtain" />
      <alpha value="1" time=".25" target="PROTRUSIONMENU" />
      <assign property="var:curtainaction" value="hideprotrusion" />
    </action>

    <action name="hideprotrusion">
      <sync>
        <alpha value="0" time=".25" target="PROTRUSIONMENU" />
        <play action="hideclearcurtain" />
        <assign property="var:curtainaction" value="null" />
      </sync>
    </action>

    <action name="addchimney">
      <sync>
        <alpha value="0" time=".25" target="PROTRUSIONMENU" />
        <play action="hideclearcurtain" />
      </sync>
      <sync>
        <assign property="var:chimneyindex" value="[eval: [var:chimneyindex] + 1]" />
        <assign property="var:protrusionindex" value="[eval: [var:protrusionindex] + 1]" />
        <create class="chimney" index="[var:chimneyindex]" pindex="[var:protrusionindex]" target="ROOF-CHIMNEY/roofpagerbox/pager" />
        <if lhs="[var:protrusionindex]" operator="gt" rhs="1">
          <delete target="ROOF-SPACER-CHIMNEY-[eval: [var:protrusionindex] - 1]" />
          <create class="roof-spacer" index="[var:protrusionindex]" name="CHIMNEY" target="ROOF-CHIMNEY/roofpagerbox/pager" />
          <alpha value="0" time=".1" target="PROTRUSION[eval: [var:protrusionindex] - 1]/deletebox" />
        </if>
        <keyboard visible="yes" target="PROTRUSIONLENGTH[var:protrusionindex]/input" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Chimney &amp; Skylights/saved-check" />
      </sync>
    </action>

    <action name="addskylight">
      <sync>
        <alpha value="0" time=".25" target="PROTRUSIONMENU" />
        <play action="hideclearcurtain" />
      </sync>
      <sync>
        <assign property="var:skylightindex" value="[eval: [var:skylightindex] + 1]" />
        <assign property="var:protrusionindex" value="[eval: [var:protrusionindex] + 1]" />
        <create class="skylight" index="[var:skylightindex]" pindex="[var:protrusionindex]" target="ROOF-CHIMNEY/roofpagerbox/pager" />
        <if lhs="[var:protrusionindex]" operator="gt" rhs="1">
          <delete target="ROOF-SPACER-CHIMNEY-[eval: [var:protrusionindex] - 1]" />
          <create class="roof-spacer" index="[var:protrusionindex]" name="CHIMNEY" target="ROOF-CHIMNEY/roofpagerbox/pager" />
          <alpha value="0" time=".1" target="PROTRUSION[eval: [var:protrusionindex] - 1]/deletebox" />
        </if>
        <keyboard visible="yes" target="PROTRUSIONLENGTH[var:protrusionindex]/input" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Chimney &amp; Skylights/saved-check" />
      </sync>
    </action>

    <!-- !plumbing vents -->
    <action name="addvent">
      <play action="clearcurtain" />
      <alpha value="1" time=".25" target="VENTMENU" />
      <assign property="var:curtainaction" value="hidevent" />
    </action>

    <action name="hidevent">
      <sync>
        <alpha value="0" time=".25" target="VENTMENU" />
        <play action="hideclearcurtain" />
        <assign property="var:curtainaction" value="null" />
      </sync>
    </action>

    <action name="add3vent">
      <sync>
        <alpha value="0" time=".25" target="VENT" />
        <set onclickup="null" target="VENTMENU/3-btn" />
        <assign property="var:ventindex" value="[eval: [var:ventindex] + 1]" />
        <create class="3vent" index="[var:ventindex]" target="ROOF-VENT/roofpagerbox/pager" />
        <play action="hidevent" />
        <alpha value="0" time=".1" target="VENT[eval: [var:ventindex] - 1]/deletebox" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Plumbing Vents/saved-check" />
        <keyboard visible="yes" target="VENTQUANTITY[var:ventindex]/input" />
      </sync>
    </action>

    <action name="add2vent">
      <sync>
        <alpha value="0" time=".25" target="VENTMENU" />
        <set onclickup="null" target="VENTMENU/2-btn" />
        <assign property="var:ventindex" value="[eval: [var:ventindex] + 1]" />
        <create class="2vent" index="[var:ventindex]" target="ROOF-VENT/roofpagerbox/pager" />
        <play action="hidevent" />
        <alpha value="0" time=".1" target="VENT[eval: [var:ventindex] - 1]/deletebox" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Plumbing Vents/saved-check" />
        <keyboard visible="yes" target="VENTQUANTITY[var:ventindex]/input" />
      </sync>
    </action>

    <action name="add15vent">
      <sync>
        <alpha value="0" time=".25" target="VENTMENU" />
        <set onclickup="null" target="VENTMENU/15-btn" />
        <assign property="var:ventindex" value="[eval: [var:ventindex] + 1]" />
        <create class="15vent" index="[var:ventindex]" target="ROOF-VENT/roofpagerbox/pager" />
        <play action="hidevent" />
        <alpha value="0" time=".1" target="VENT[eval: [var:ventindex] - 1]/deletebox" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Plumbing Vents/saved-check" />
        <keyboard visible="yes" target="VENTQUANTITY[var:ventindex]/input" />
      </sync>
    </action>

    <action name="addcustomvent">
      <sync>
        <alpha value="0" time=".25" target="VENTMENU" />
        <assign property="var:ventindex" value="[eval: [var:ventindex] + 1]" />
        <create class="customvent" index="[var:ventindex]" target="ROOF-VENT/roofpagerbox/pager" />
        <play action="hidevent" />
        <alpha value="0" time=".1" target="VENT[eval: [var:ventindex] - 1]/deletebox" />
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Plumbing Vents/saved-check" />
      </sync>
    </action>

    <!-- !add photo -->
    <action name="addphoto">
      <play action="clearcurtain" />
      <alpha value="1" time=".25" target="CAMERAMENU" />
      <assign property="var:curtainaction" value="hidephoto" />
    </action>

    <action name="hidephoto">
      <sync>
        <alpha value="0" time=".25" target="CAMERAMENU" />
        <play action="hideclearcurtain" />
        <assign property="var:curtainaction" value="null" />
      </sync>
    </action>

    <action name="addroll">
      <sync>
        <assign property="var:photoActive" value="1" />
        <alpha value="0" time=".25" target="CAMERAMENU" />
        <translate ypos="0" time=".25" curve="easeout" target="CAMERAROLL" />
        <create class="camera-roll" target="CAMERAROLL/camera-list" />
        <alpha value="1" time=".1" target="CAMERAROLL/wait" />
        <assign property="datasource:camera-roll.source" value="asd" />
        <play action="hideclearcurtain" />
        <assign property="var:photolocation" value="roll" />
        <alpha value="0" target="HEADER" />
      </sync>
    </action>

    <action name="roll-queryComplete" datasource="camera-roll">
      <alpha value="0" time=".1" target="CAMERAROLL/wait" />
    </action>

    <action name="addcamera">
      <sync>
        <assign property="var:camerafile" value="[system:uuid]" />
        <create class="camera" target="CAMERABOX" />
        <alpha value="0" time=".25" target="CAMERAMENU" />
        <translate ypos="0" time=".25" curve="easeout" target="CAMERABOX" />
        <play action="hideclearcurtain" />
        <alpha value="0" target="HEADER" />
      </sync>
    </action>

    <action name="closeroll">
      <sync>
        <translate ypos="101%" time=".25" curve="easeout" target="CAMERAROLL" />
        <delete target="CAMERA-ROLL" />
        <alpha value="1" target="HEADER" />
      </sync>
    </action>

    <action name="select-photo">
      <sync>
        <assign property="var:photo-url" value="_url" />
<!--         <alert title="Hi, I'm photo..." message="[var:photo-url]" /> -->
        <translate ypos="101%" time=".25" curve="easeout" target="CAMERAROLL" />
        <delete target="CAMERA-ROLL" />
        <play action="addnote" />
      </sync>
    </action>

    <action name="addnote">
      <sync>
        <create class="addnote" target="CONTAINER" />
        <if lhs="[var:photolocation]" operator="e" rhs="roll">
          <create class="rollphoto" target="PHOTOLANDING" />
          <assign property="object:THEPHOTO.asset" value="[var:photo-url]" />
<!--           <alert message="roll" /> -->
        </if>
        <if lhs="[var:photolocation]" operator="e" rhs="camera">
          <create class="cameraphoto" target="PHOTOLANDING" photo="[var:photo-url]" />
          <!--<assign property="object:THEPHOTO.fullpath" value="" />-->
          <!-- <alert message="camera" /> -->
        </if>
        <translate ypos="0" time=".25" curve="easeout" target="ADDNOTE" />
        <keyboard visible="yes" target="THENOTE" />
      </sync>
    </action>

    <action name="savenote">
      <sync>
        <assign property="var:thenote" encoding="url" value="[object:THENOTE.text]" />
        <play action="db-that-photo" />
        <translate ypos="101%" time=".25" curve="easeout" target="ADDNOTE" />
        <delete target="ADDNOTE" />
        <alpha value="1" target="HEADER" />
      </sync>
    </action>

    <action name="db-that-photo">
      <!-- <alert message="[var:thenote]" /> -->
      <assign property="datasource:photosdb.query" value="INSERT INTO PHOTOS (PHOTO, NOTE) values ('[var:photo-url]', '[var:thenote]')" />
    </action>

    <action name="cancelnote">
      <sync>
        <translate ypos="101%" time=".25" curve="easeout" target="ADDNOTE" />
        <delete target="ADDNOTE" />
		<alpha value="1" target="HEADER" />
      </sync>
    </action>

    <action name="photo-db-save-confirm" datasource="photosdb">
      <if lhs="[var:photoActive]" operator="==" rhs="1">
        <assign property="datasource:photosdb-list.query" value="SELECT * FROM PHOTOS;" />
        <!-- <alert message="photo saved to db" /> -->
        <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Photos/saved-check" />
      </if>
    </action>

    <action name="photo-db-redraw" datasource="photosdb-list">
		<alpha value="1" target="HEADER" />
      <if lhs="[var:photoActive]" operator="==" rhs="1">
        <!-- <alert title="You have this many photos in the db!" message="[datasource:photosdb-list.dataSourceResultCount]" /> -->
        <assign property="var:photoActive" value="0" />
      </if>
    </action>

    <action name="cancelcamera">
      <sync>
        <translate ypos="101%" time=".25" curve="easeout" target="CAMERABOX" />
        <delete target="CAMERA" />
      </sync>
    </action>

    <action name="snap-down">
      <assign property="object:inner.background" value="#252525" />
    </action>

    <action name="snap-photo">
      <sync>
        <event type="captureStillImage" target="CAMERA-VIEW" />
        <assign property="object:CAMERA-CONTROLCENTER/snap/inner.background" value="#ed1c24" />
      </sync>
    </action>

    <action name="output">
      <translate ypos="100%" time=".15" target="CAMERA-CONTROLCENTER" />
      <sync>
        <create class="capture-preview" source="[object:CAMERA-VIEW.photo]" target="CAMERA-CONTAINER" />
        <translate ypos="0" time=".15" target="CAMERA-TOOLBAR" />
      </sync>
    </action>

    <action name="capture-cancel">
      <translate ypos="-70" time=".15" target="CAMERA-TOOLBAR" />
      <sync>
        <!-- <create class="camera-view" face="back" target="CAMERA-CONTAINER" /> -->
        <translate valign="bottom" time=".15" target="CAMERA-CONTROLCENTER" />
        <delete target="CAPTURE-PREVIEW" />
      </sync>
    </action>

    <action name="capture-submit">
      <sync>
        <assign property="var:photoActive" value="1" />
        <assign property="var:photo-url" value="[object:CAMERA-VIEW.photo]" />
        <capture toalbum="GAF" target="CAPTURE-PREVIEW" />
        <assign property="var:photolocation" value="camera" />
        <play action="addnote" />
        <translate ypos="101%" time=".25" curve="easeout" target="CAMERABOX" />
        <delete target="CAMERA" />
        <!-- <alert message="[var:photo-url]" /> -->
        <!--<play action="db-that-photo" />-->
      </sync>
    </action>

    <!-- !add plywood sheathing -->
    <action name="addplywood">
      <play action="clearcurtain" />
      <alpha value="1" time=".25" target="PLYWOODMENU" />
      <assign property="var:curtainaction" value="hideplywood" />
    </action>

    <action name="hideplywood">
      <sync>
        <alpha value="0" time=".25" target="PLYWOODMENU" />
        <play action="hideclearcurtain" />
        <assign property="var:curtainaction" value="null" />
      </sync>
    </action>

    <action name="add12cdx">
      <sync>
        <assign property="var:plywoodindex" value="[eval: [var:plywoodindex] + 1]" />
        <create class="12cdx" target="SERVICES-PLYWOOD/servicespagerbox/pager" index="[var:plywoodindex]" />
        <set onclickup="null" target="PLYWOODMENU/12cdx" />
        <play action="plywooddeletebutton" />
        <play action="hideplywood" />
      </sync>
    </action>

    <action name="add58cdx">
      <sync>
        <assign property="var:plywoodindex" value="[eval: [var:plywoodindex] + 1]" />
        <create class="58cdx" target="SERVICES-PLYWOOD/servicespagerbox/pager" index="[var:plywoodindex]" />
        <set onclickup="null" target="PLYWOODMENU/58cdx" />
        <play action="plywooddeletebutton" />
        <play action="hideplywood" />
      </sync>
    </action>

    <action name="add12osb">
      <sync>
        <assign property="var:plywoodindex" value="[eval: [var:plywoodindex] + 1]" />
        <create class="12osb" target="SERVICES-PLYWOOD/servicespagerbox/pager" index="[var:plywoodindex]" />
        <set onclickup="null" target="PLYWOODMENU/12osb" />
        <play action="plywooddeletebutton" />
        <play action="hideplywood" />
      </sync>
    </action>

    <action name="add58osb">
      <sync>
        <assign property="var:plywoodindex" value="[eval: [var:plywoodindex] + 1]" />
        <create class="58osb" target="SERVICES-PLYWOOD/servicespagerbox/pager" index="[var:plywoodindex]" />
        <set onclickup="null" target="PLYWOODMENU/58osb" />
        <play action="plywooddeletebutton" />
        <play action="hideplywood" />
      </sync>
    </action>

    <action name="plywooddeletebutton">
      <sync>
        <if lhs="[var:plywoodindex]" operator="gt" rhs="1">
          <delete target="ROOF-SPACER-PLYWOOD-[eval: [var:plywoodindex] - 1]" />
          <create class="roof-spacer" index="[var:plywoodindex]" name="PLYWOOD" target="SERVICES-PLYWOOD/servicespagerbox/pager" />
          <assign property="var:PLYWOODspacerindex" value="[var:plywoodindex]" />
          <alpha value="0" time=".1" target="PLYWOOD[eval: [var:plywoodindex] - 1]/deletebox" />
        </if>
        <alpha value="0" time=".1" target="SERVICES-SIDEBAR-PAGER/Plywood Sheathing/saved-check" />
      </sync>
    </action>

    <!-- !add adjustments -->
    <action name="addadjustment">
      <play action="clearcurtain" />
      <alpha value="1" time=".25" target="ADJUSTMENU" />
      <assign property="var:curtainaction" value="hideadjustment" />
    </action>

    <action name="hideadjustment">
      <sync>
        <alpha value="0" time=".25" target="ADJUSTMENU" />
        <play action="hideclearcurtain" />
        <assign property="var:curtainaction" value="null" />
      </sync>
    </action>

    <action name="adddiscount">
      <sync>
	  	<assign property="var:adjustment" value="discount" />
        <alpha value="0" time=".25" target="ADJUSTMENU" />
        <assign property="var:discountindex" value="[eval: [var:discountindex] + 1]" />
        <assign property="var:adjustmentindex" value="[eval: [var:adjustmentindex] + 1]" />
        <create class="discount" index="[var:discountindex]" aindex="[var:adjustmentindex]" target="ADJUSTMENTSBOX/adjustmentspagerbox/pager" />
        <assign property="var:units-[var:adjustmentindex]" value="dollars" />
        <play action="hideclearcurtain" />
        <keyboard visible="yes" target="ADJUSTMENTAMOUNT[var:adjustmentindex]/input" />
        <if lhs="[var:adjustmentindex]" operator="gt" rhs="1">
          <delete target="ROOF-SPACER-ADJUST-[eval: [var:adjustmentindex] - 1]" />
          <create class="roof-spacer" index="[var:adjustmentindex]" name="ADJUST" target="ADJUSTMENTSBOX/adjustmentspagerbox/pager" />
          <alpha value="0" time=".1" target="ADJUSTMENT[eval: [var:adjustmentindex] - 1]/deletebox" />
        </if>
      </sync>
    </action>

    <action name="addcost">
      <sync>
	  	<assign property="var:adjustment" value="cost" />
        <alpha value="0" time=".25" target="ADJUSTMENU" />
        <assign property="var:costindex" value="[eval: [var:costindex] + 1]" />
        <assign property="var:adjustmentindex" value="[eval: [var:adjustmentindex] + 1]" />
        <create class="additionalcost" index="[var:costindex]" aindex="[var:adjustmentindex]" target="ADJUSTMENTSBOX/adjustmentspagerbox/pager" />
        <assign property="var:units-[var:adjustmentindex]" value="dollars" />
        <play action="hideclearcurtain" />
        <keyboard visible="yes" target="ADJUSTMENTAMOUNT[var:adjustmentindex]/input" />
        <if lhs="[var:adjustmentindex]" operator="gt" rhs="1">
          <delete target="ROOF-SPACER-ADJUST-[eval: [var:adjustmentindex] - 1]" />
          <create class="roof-spacer" index="[var:adjustmentindex]" name="ADJUST" target="ADJUSTMENTSBOX/adjustmentspagerbox/pager" />
          <alpha value="0" time=".1" target="ADJUSTMENT[eval: [var:adjustmentindex] - 1]/deletebox" />
        </if>
      </sync>
    </action>

     <!-- !NAV actions -->
    <action name="nav">
      <sync>
        <translate ypos="101%" time=".1" curve="linear" target="NAV-[var:nav]/sel" />
        <assign property="object:NAV-[var:nav]/open/step.background" value="#666666" />
        <translate valign="bottom" time=".1" curve="linear" target="sel" />
        <assign property="object:open/step.background" value="#ed1c24" />
        <keyboard visible="no" />
      </sync>
      <sync>
        <play action="saved[var:nav]" />
        <translate xpos="0" curve="linear" target="NAVBLOCK" />
        <alpha value="0" time=".2" target="[var:nav]" />
        <!--<alert title="this" message="_this" />-->
        <alpha value="1" time=".2" target="_this" />
        <assign property="var:nav" value="_this" />
        <translate xpos="101%" curve="linear" target="NAVBLOCK" />
        <if lhs="[var:navwas]" operator="e" rhs="ROOF">
          <!-- <play action="[var:roof]" />-->
          <assign property="var:summaryarea" value="0" />
          <assign property="var:totalarea" value="0" />
          <assign property="var:totalareaTemp" value="0" />
          <assign property="var:squarestotalTemp" value="0" />
          <assign property="var:squarestotal" value="0" />
          <if lhs="[var:hipstotal]" operator="e" rhs="">
            <assign property="var:hipstotal" value="0" />
          </if>
          <if lhs="[var:valleystotal]" operator="e" rhs="">
            <assign property="var:valleystotal" value="0" />
          </if>
          <if lhs="[var:rakestotal]" operator="e" rhs="">
            <assign property="var:rakestotal" value="0" />
          </if>
          <if lhs="[var:eavestotal]" operator="e" rhs="">
            <assign property="var:eavestotal" value="0" />
          </if>
          <assign property="var:leakbarrier" value="[eval: [var:hipstotal] + [var:valleystotal] + [var:rakestotal] + [var:eavestotal]]" />
          <assign property="var:starterstrips" value="[eval: [var:rakestotal] + [var:eavestotal]]" />
          <assign property="var:wasteAdjust" value="[eval: [var:waste] / 100 + 1 ]" />
          <loop lhs="[var:summaryarea]" operator="lt" rhs="[var:areaindex]">
            <assign property="var:summaryarea" value="[eval: [var:summaryarea] + 1]" />
            <assign property="var:totalareaTemp" value="[eval: [var:totalareaTemp] + [var:area[var:summaryarea]total] ]" />
            <assign property="var:totalwithWaste" value="[eval: [var:totalareaTemp] * [var:wasteAdjust]]" />
            <assign property="var:totalarea" value="[eval: Math.ceil([var:totalwithWaste]) ]" />
            <!--<alert title="total area" message="[var:totalwithWaste]" />-->
          </loop>
          <if lhs="[var:totalarea]" operator="e" rhs="">
            <assign property="var:squarestotal" value="N/A" />
            <else>
              <assign property="var:squarestotalTemp" value="[eval: [var:totalarea] / 100 ]" />
              <assign property="var:squarestotal" value="[eval: Math.ceil([var:squarestotalTemp])]" />
              <!--<alert title="squares" message="[var:squarestotal]" />-->
            </else>
          </if>
          <!--<alert title="Squares" message="[var:squarestotal]" />-->
        </if>
        <if lhs="_this" operator="e" rhs="PRODUCTS">
          <if lhs="[var:product]" operator="e" rhs="">
            <assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="Retrieving Products..." />
            <alpha value="1" time=".3" target="UPLOAD-CURTAIN" />
            <assign property="datasource:getProducts.source" value="https://162.209.101.177/api/GetProducts?AppSource=1" />
          </if>
        </if>
        <if lhs="_this" operator="e" rhs="SERVICES">
<!-- 			<alert message="var:accessoryCount is [var:accessoryCount], var:accessories is [var:accessories]" /> -->
          <if lhs="[var:services]" operator="e" rhs="">
            <if lhs="[var:accessoryCount]" operator="gte" rhs="[var:accessories]">
	            <play action="sidebar-services" _alias="TEAROFF" _form="Tear Off" />
	            <else>
	              <alert message="You must select [eval:[var:accessories]-[var:accessoryCount]] more accessories before proceeding" />
	            </else>
	          </if>
          </if>
        </if>
        <if lhs="_this" operator="e" rhs="SUMMARY">
          <if lhs="[var:accessoryCount]" operator="gte" rhs="[var:accessories]">
          <play action="summarycalc" />
          <play action="adjustments-save" />
          <create class="summary-cust" target="SUMMARY-PAGER" cust1name="[datasource:customersdb-list.1.FNAME] [datasource:customersdb-list.1.LNAME]" cust1phone="[datasource:customersdb-list.1.PHONE]" cust1email="[datasource:customersdb-list.1.EMAIL]" cust2name="[datasource:customersdb-list.1.FNAME2] [datasource:customersdb-list.1.LNAME2]" cust2phone="[datasource:customersdb-list.1.PHONE2]" cust2email="[datasource:customersdb-list.1.EMAIL2]" street="[datasource:customersdb-list.1.STREET]" city="[datasource:customersdb-list.1.CITY]" state="[datasource:customersdb-list.1.STATE]" zip="[datasource:customersdb-list.1.POSTAL]"  />
          <else>
          	<alert message="You must select [eval:[var:accessories]-[var:accessoryCount]] more accessories before proceeding" />
          </else>
        </if>
        </if>
        <if lhs="[var:navwas]" operator="e" rhs="SUMMARY">
          <delete target="SUMMARY-PAGER" />
          <assign property="var:summary-[var:sumac-loop]-index" value="0" />
          <assign property="var:summary-[var:sumac-loop]-index-delete" value="0" />
          <create class="summary-pager" target="SUMMARYPAGERBOX" />
        </if>
        <assign property="var:navwas" value="_this" />
      </sync>
    </action>

    <action name="summarycalc">
      <sync>
        <!-- <alert message="area total [var:totalarea] squares total [var:squarestotal] ridges total [var:ridgestotal] hips total [var:hipstotal] rakes total [var:rakestotal] eaves total [var:eavestotal] valleys total [var:valleystotal]" /> -->
        <create class="summary-roof" target="SUMMARY-PAGER" area="[eval:'[var:totalarea]' != '' ? '[var:totalarea] sq ft':'N/A']" squares="[var:squarestotal]" ridges="[eval:'[var:ridgestotal]' != '0' ? '[var:ridgestotal] ft':'N/A']" hips="[eval:'[var:hipstotal]' != '0' ? '[var:hipstotal] ft':'N/A']" rakes="[eval:'[var:rakestotal]' != '0' ? '[var:rakestotal] ft':'N/A']" eaves="[eval:'[var:eavestotal]' != '0' ? '[var:eavestotal] ft':'N/A']" valleys="[eval:'[var:valleystotal]' != '0' ? '[var:valleystotal] ft':'N/A']"  />
        <play action="summaryproducts" />
      </sync>
    </action>

    <action name="summaryproducts">
      <sync>
        <create target="SUMMARY-PAGER" class="summary-products" swatch="[datasource:productsdb-list.1.IMAGE]" color="[datasource:productsdb-list.1.COLOR]" warranty="[var:warrantyname]" />
        <play action="summaryaccessories" />
      </sync>
    </action>

    <action name="summaryaccessories">
      <sync>
        <create class="summary-accessory-title" target="SUMMARY-PAGER" />
        <!--<create class="summary-accessory-subtitle" target="SUMMARY-PAGER" subtitle="Roof Deck Protection" />
        <create class="summary-accessory-item" target="SUMMARY-PAGER" label="Tiger Blood Titan Pizza Pussy Santa Ultra Bad-Ass Protection" count="5" />-->

        <assign property="var:sumac-loop" value="Leak Barrier" />
        <!--<alert message="[datasource:accessoriesdb-list.1.TYPE]" />-->
        <play action="start-summaryaccessoriesloop" />
      </sync>
    </action>

    <action name="start-summaryaccessoriesloop">
      <sync>
        <assign property="datasource:accessoriesdb-count.query" value="SELECT * FROM ACCESSORIES WHERE TYPE='[var:sumac-loop]';" />
      </sync>
    </action>

    <action name="summary-roofdeck" datasource="accessoriesdb-count" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <!--<alert title="[var:sumac-loop] Count" message="[datasource:accessoriesdb-count.dataSourceResultCount]" />-->
          <if lhs="[datasource:accessoriesdb-count.dataSourceResultCount]" operator="gt" rhs="0">
            <assign property="var:summary-acc-sub" value="[eval: [var:summary-acc-sub] + 1]" />
            <create class="summary-accessory-subtitle" target="SUMMARY-PAGER" index="[var:summary-acc-sub]" subtitle="[var:sumac-loop]" />
            <loop lhs="[var:summary-[var:sumac-loop]-index]" operator="lt" rhs="[datasource:accessoriesdb-count.dataSourceResultCount]">
              <assign property="var:summary-[var:sumac-loop]-index" value="[eval: [var:summary-[var:sumac-loop]-index] + 1]" />
              <create class="summary-accessory-item" target="SUMMARY-PAGER" index="[var:summary-[var:sumac-loop]-index]" label="[datasource:accessoriesdb-count.[var:summary-[var:sumac-loop]-index].NAME]" count="[datasource:accessoriesdb-count.[var:summary-[var:sumac-loop]-index].QUANTITY]" />
            </loop>
          </if>

          <play action="[var:sumac-loop]-done" />
        </sync>
      </if>
    </action>

    <action name="Leak Barrier-done">
      <sync>
        <assign property="var:sumac-loop" value="Roof Deck Protection" />
        <assign property="var:summary-[var:sumac-loop]-index" value="0" />
        <play action="start-summaryaccessoriesloop" />
        <!--<alert title="Leak Barrier-done" message="done" />-->
      </sync>
    </action>

    <action name="Roof Deck Protection-done">
      <sync>
        <assign property="var:sumac-loop" value="Starter Strips" />
        <assign property="var:summary-[var:sumac-loop]-index" value="0" />
        <play action="start-summaryaccessoriesloop" />
        <!--<alert title="Roof Deck Protection-done" message="done" />-->
      </sync>
    </action>

    <action name="Starter Strips-done">
      <sync>
        <assign property="var:sumac-loop" value="Ventilation" />
        <assign property="var:summary-[var:sumac-loop]-index" value="0" />
        <play action="start-summaryaccessoriesloop" />
        <!--<alert title="Starter Strips-done" message="done" />-->
      </sync>
    </action>

    <action name="Ventilation-done">
      <sync>
        <assign property="var:sumac-loop" value="Ridge Cap" />
        <assign property="var:summary-[var:sumac-loop]-index" value="0" />
        <play action="start-summaryaccessoriesloop" />
        <!--<alert title="Ventilation-done" message="done" />-->
      </sync>
    </action>

    <action name="Ridge Cap-done">
      <sync>
        <assign property="var:sumac-loop" value="Miscellaneous Accessory" />
        <assign property="var:summary-[var:sumac-loop]-index" value="0" />
        <!--<alert title="Ridge Cap-done" message="done" />-->
        <play action="start-summaryaccessoriesloop" />
      </sync>
    </action>

    <action name="Miscellaneous Accessory-done">
      <sync>
        <assign property="var:sumac-loop" value="Leak Barrier" />
        <assign property="var:summary-[var:sumac-loop]-index" value="0" />
        <!--<alert title="Misc-done" message="done" />-->
        <play action="close-summaryaccessories" />
      </sync>
    </action>

    <action name="close-summaryaccessories">
      <sync>
        <create class="accessorydivide" target="SUMMARY-PAGER" />
        <play action="summaryservices" />
        <!--<assign property="datasource:accessoriesdb-delete.query" value="DELETE FROM ACCESSORIES;" />-->
      </sync>
    </action>

    <action name="summaryservices">
      <sync>
        <!-- <alert message="summary services" />  -->
        <if lhs="[datasource:tearoffdb-list.dataSourceResultCount]" operator="gte" rhs="1">
          <assign property="var:layers" value="[datasource:tearoffdb-list.1.LAYERS]" />
          <assign property="var:type" value="[datasource:tearoffdb-list.1.MATERIAL]" />
          <!--<alert title="tear off set" message="[datasource:tearoffdb-list.1.LAYERS] [datasource:tearoffdb-list.1.MATERIAL]" />-->
          <else>
          	<assign property="var:layers" value="N/A" />
          	<assign property="var:type" value="N/A" />
          </else>
        </if>
        <if lhs="[datasource:assetprotectiondb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="var:landscaping" value="[datasource:assetprotectiondb-list.1.LANDSCAPING]" />
          <assign property="var:hardscaping" value="[datasource:assetprotectiondb-list.1.HARDSCAPING]" />
          <assign property="var:hvac" value="[datasource:assetprotectiondb-list.1.HVAC]" />
          <assign property="var:pool" value="[datasource:assetprotectiondb-list.1.POOL]" />
          <assign property="var:misc" value="[datasource:assetprotectiondb-list.1.MISC]" />
        </if>
        <!-- <create target="SUMMARY-PAGER" class="summary-services" layers="layers" type="type" landscape="landscape" hardscape="hardscape" hvac="hvac" pool="pool" misc="misc"  /> -->
        <create target="SUMMARY-PAGER" class="summary-services" layers="[var:layers]" type="[var:type]" landscape="[var:landscaping]" hardscape="[var:hardscaping]" hvac="[var:hvac]" pool="[var:pool]" misc="[var:misc]"  />
      </sync>
    </action>

	<action name="resetSummaryVars" >
		<assign property="var:summaryarea" value="" />
		<assign property="var:totalarea" value="" />
		<assign property="var:totalareaTemp" value="" />
		<assign property="var:squarestotalTemp" value="" />
		<assign property="var:squarestotal" value="" />
		<assign property="var:ridgestotal" value="" />
		<assign property="var:hipstotal" value="" />
		<assign property="var:rakestotal" value="" />
		<assign property="var:eavestotal" value="" />
		<assign property="var:valleystotal" value="" />
	</action>

	<action name="resetRoofIndices" >
		<assign property="var:areaindex" value="" />
		<assign property="var:ridgeindex" value="" />
		<assign property="var:hipindex" value="" />
		<assign property="var:valleyindex" value="" />
		<assign property="var:rakeindex" value="" />
		<assign property="var:eaveindex" value="" />
		<assign property="var:chimneyindex" value="" />
		<assign property="var:protrusionindex" value="" />
		<assign property="var:skylightindex" value="" />
		<assign property="var:ventindex" value="" />
	</action>

	<action name="resetAccessoryVars">
  	<assign property="var:leakbarrier" value="0" />
  	<assign property="var:squarestotal" value="0" />
  	<assign property="var:starterstrips" value="0" />
  	<assign property="var:hipvent-total" value="0" />
  	<assign property="var:ridgevent-total" value="0" />
  	<assign property="var:ridgestotal" value="0" />
	</action>

    <action name="savedCUSTOMER"></action>

    <action name="savedROOF"></action>

    <action name="savedPRODUCTS"></action>

    <action name="savedSERVICES">
      <sync>
        <if lhs="[datasource:tearoffdb-list.dataSourceResultCount]" operator="gte" rhs="1">
          <assign property="datasource:tearoffdb-delete.query" value="DELETE FROM TEAROFF;" />
          <!--<alert title="tearoff" message="from the if and deleting [datasource:tearoffdb-list.dataSourceResultCount]" />-->
          <else>
            <play action="savedSERVICES-save" />
            <!--<alert message="from the else, nothing to delete" />-->
          </else>
        </if>
      </sync>
    </action>

    <action name="save-tearoff">

    </action>

    <action name="savedSERVICES-save" datasource="tearoffdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <!-- <alert message="INSERT INTO TEAROFF (TEAROFF, LAYERS, MATERIAL) VALUES ('[var:tearoff]', '[object:LAYERS/input.text]', '[object:TYPE/input.text]');" /> -->
        <assign property="datasource:tearoffdb.query" value="INSERT INTO TEAROFF (TEAROFF, LAYERS, MATERIAL) VALUES ('[var:tearoff]', '[object:LAYERS/input.text]', '[object:TYPE/input.text]');" />
      </if>
    </action>

    <action name="tearoffquery" datasource="tearoffdb" datasourceevent="querycomplete">
      <sync>
        <assign property="datasource:tearoffdb-list.query" value="SELECT * FROM TEAROFF;" />
        <!--<alert message="tear off saved [datasource:tearoffdb-list.dataSourceResultCount]" />-->
      </sync>
    </action>

    <action name="protectionsquery" datasource="assetprotectiondb" datasourceevent="querycomplete">
      <sync>
        <assign property="datasource:assetprotectiondb-list.query" value="SELECT * FROM PROTECTION;" />
        <!--<alert message="asset protection saved" />-->
      </sync>
    </action>

    <action name="savedADJUSTMENTS"></action>
    <action name="savedSUMMARY"></action>

    <action name="adjustments-save">
      <sync>
        <if lhs="[datasource:adjustmentsdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:adjustmentsdb-delete.query" value="DELETE FROM ADJUSTMENTS;" />
          <!--<alert title="adjustments-save" message="from the if and deleting [datasource:adjustmentsdb-list.dataSourceResultCount]" />-->
          <else>
            <play action="savedADJUSTMENTS-save" />
            <!--<alert title="adjustments-save" message="from the else, nothing to delete" />-->
          </else>
        </if>
      </sync>
    </action>

    <action name="savedADJUSTMENTS-save" datasource="adjustmentsdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <assign property="var:adjustmentindexloop" value="[eval: [var:adjustmentindexloop] + 1]" />
          <assign property="var:temp-adjustnote" encoding="url" value="[object:ADJUSTMENTAMOUNTNOTES[var:adjustmentindexloop]/input.text]" />
          <!--<alert message="units:[var:units-[var:adjustmentindexloop]] adjustments type:[object:ADJUSTTYPE[var:adjustmentindexloop].text] amount:[object:ADJUSTMENTAMOUNT[var:adjustmentindexloop]/input.text] notes:[object:ADJUSTMENTAMOUNTNOTES[var:adjustmentindexloop]/input.text] " />-->
          <if lhs="[object:ADJUSTTYPE[var:adjustmentindexloop].text]" operator="ne" rhs="">
            <assign property="datasource:adjustmentsdb.query" value="INSERT INTO ADJUSTMENTS (TYPE, UNITS, AMOUNT, NOTES) values ('[object:ADJUSTTYPE[var:adjustmentindexloop].text]', '[var:units-[var:adjustmentindexloop]]', '[object:ADJUSTMENTAMOUNT[var:adjustmentindexloop]/input.text]', '[var:temp-adjustnote]');" />
            <else>
		          <assign property="var:adjustmentindexloop" value="0" />
		          <play action="landscaping-save" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="adjustmentsquery" datasource="adjustmentsdb" datasourceevent="querycomplete">
      <sync>
        <if lhs="[var:adjustmentindexloop]" operator="lt" rhs="[var:adjustmentindex]">
          <play action="savedADJUSTMENTS-save" />
          <else>
            <!--<assign property="datasource:adjustmentsdb-list.query" value="SELECT * FROM ADJUSTMENTS;" />-->
            <assign property="var:adjustmentindexloop" value="0" />
            <play action="landscaping-save" />
            <!--<alert message="adjustments query" />-->
          </else>
        </if>
      </sync>
    </action>

    <action name="landscaping-save">
      <sync>
        <!--<alert title="landscaping" message="[var:landscaping]" />-->
        <if lhs="[var:landscaping]" operator="e" rhs="yes">
          <assign property="datasource:adjustmentsdb-landscape.query" value="INSERT INTO ADJUSTMENTS (TYPE, AMOUNT, NOTES) values ('Additional Cost', '[object:LANDSCAPEPRICE/input.text]', 'Landscaping');" />
          <else>
            <play action="hardscape-save" />
            <!--<alert message="landscape save else" />-->
          </else>
        </if>
      </sync>
    </action>

    <action name="hardscape-save" datasource="adjustmentsdb-landscape" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <!--<alert title="hardscaping" message="[var:hardscaping]" />-->
        <sync>
          <if lhs="[var:hardscaping]" operator="e" rhs="yes">
            <assign property="datasource:adjustmentsdb-hardscape.query" value="INSERT INTO ADJUSTMENTS (TYPE, AMOUNT, NOTES) values ('Additional Cost', '[object:HARDSCAPEPRICE/input.text]', 'Hardscaping');" />
            <else>
              <play action="hvac-save" />
              <!--<alert message="hardscape save else" />-->
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="hvac-save" datasource="adjustmentsdb-hardscape" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <!--<alert title="hvac" message="[var:hvac]" />-->
        <sync>
          <if lhs="[var:hvac]" operator="e" rhs="yes">
            <assign property="datasource:adjustmentsdb-hvac.query" value="INSERT INTO ADJUSTMENTS (TYPE, AMOUNT, NOTES) values ('Additional Cost', '[object:HVACPRICE/input.text]', 'HVAC');" />
            <else>
              <play action="pool-save" />
              <!--<alert message="pool save else" />-->
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="pool-save" datasource="adjustmentsdb-hvac" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <!--<alert title="pool" message="[var:pool]" />-->
        <sync>
          <if lhs="[var:pool]" operator="e" rhs="yes">
            <assign property="datasource:adjustmentsdb-pool.query" value="INSERT INTO ADJUSTMENTS (TYPE, AMOUNT, NOTES) values ('Additional Cost', '[object:POOLPRICE/input.text]', 'POOL');" />
            <else>
              <play action="misc-save" />
              <!--<alert message="misc save else" />-->
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="misc-save" datasource="adjustmentsdb-pool" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <!--<alert title="misc" message="[var:misc]" />-->
        <sync>
          <if lhs="[var:misc]" operator="e" rhs="yes">
            <assign property="datasource:adjustmentsdb-misc.query" value="INSERT INTO ADJUSTMENTS (TYPE, AMOUNT, NOTES) values ('Additional Cost', '[object:MISCPRICE/input.text]', 'MISC');" />
            <else>
              <play action="adjustment-final" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="adjustment-final" datasource="adjustmentsdb-misc" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <assign property="datasource:adjustmentsdb-list.query" value="SELECT * FROM ADJUSTMENTS;" />
        </sync>
      </if>
    </action>

    <!--<action name="adjustments-total" datasource="adjustmentsdb-list" datasourceevent="querycomplete">
      <alert title="adjustments total" message="[datasource:adjustmentsdb-list.dataSourceResultCount]" />
    </action>-->

    <!-- !customer actions -->
    <action name="saveCustomer">
          <play action="released" />
		      <sync>
				<assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="[eval:'[var:customerCreated]' == 'yes' ? 'Updating':'Creating'] Customer" />
				<alpha value="1" time=".3" target="UPLOAD-CURTAIN" />
		        <!--<alert title="customers saved" message="[datasource:customersdb-list.dataSourceResultCount]" />-->
		        <if lhs="[datasource:customersdb-list.dataSourceResultCount]" operator="gt" rhs="0">
		          <assign property="datasource:customersdb-delete.query" value="DELETE FROM CUSTOMERS;" />
		          <!--<alert message="from the if and deleting [datasource:customersdb-list.dataSourceResultCount]" />-->
		          <else>
		            <play action="saveCustomer-save" />
		            <!--<alert message="from the else, nothing to delete" />-->
		          </else>
		        </if>
		      </sync>
    </action>

    <action name="saveCustomer-save" datasource="customersdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
	  	    <assign property="var:db-action" value="save" />
	  	    <assign property="var:tempnotes" encoding="url" value="[object:NOTES/input.text]" />
          <assign property="datasource:customersdb.query" value="INSERT INTO CUSTOMERS (FNAME,LNAME,EMAIL,PHONE,FNAME2,LNAME2,EMAIL2,PHONE2,COUNTRY,STREET,CITY,STATE,POSTAL,NOTES) values ('[object:CUST1-FNAME/input.text]', '[object:CUST1-LNAME/input.text]', '[object:CUST1-EMAIL/input.text]', '[object:CUST1-PHONE/input.text]', '[object:CUST2-FNAME/input.text]', '[object:CUST2-LNAME/input.text]', '[object:CUST2-EMAIL/input.text]', '[object:CUST2-PHONE/input.text]', '[var:country]', '[object:STREET/input.text]', '[object:CITY/input.text]', '[object:STATE/input.text]', '[object:ZIP/input.text]', '[var:tempnotes]');" />
        </sync>
      </if>
    </action>

    <action name="roofinfo-alert">
      <alert title="Stop right there." message="You must have Inspection and 1 Roof Area saved before moving on." />
    </action>

	<action name="customersdone" datasource="customersdb" datasourceevent="querycomplete" >
<!-- 		<alert message="customer saved" /> -->
        <assign property="datasource:customersdb-list.query" value="SELECT * FROM CUSTOMERS ORDER BY ID DESC;" />
	</action>

    <action name="customercount" datasourceevent="querycomplete" datasource="customersdb-list">
		<!--<alert message="list done [datasource:customersdb-list.dataSourceResultCount] [datasource:customersdb-list.6.FNAME] [datasource:customersdb-list.6.FNAME2]" />-->
<!-- 	      <alert message="customer [datasource:customersdb-list.dataSourceResultCount], fname [datasource:customersdb-list.1.FNAME], lname [datasource:customersdb-list.1.LNAME], email [datasource:customersdb-list.1.EMAIL], phone [datasource:customersdb-list.1.PHONE], fname2 [datasource:customersdb-list.1.FNAME2], lname2 [datasource:customersdb-list.1.LNAME2], email2 [datasource:customersdb-list.1.EMAIL2], phone2 [datasource:customersdb-list.1.PHONE2], country [datasource:customersdb-list.1.COUNTRY], street [datasource:customersdb-list.1.STREET], city [datasource:customersdb-list.1.CITY], state [datasource:customersdb-list.1.STATE], postal [datasource:customersdb-list.1.POSTAL], notes [datasource:customersdb-list.1.NOTES]" /> -->
		<if lhs="[var:db-action]" operator="e" rhs="save">
			<assign property="var:firstName"  value="[datasource:customersdb-list.1.FNAME]" />
			<assign property="var:lastName"  value="[datasource:customersdb-list.1.LNAME]" />
			<assign property="var:address1"  value="[datasource:customersdb-list.1.STREET]" />
			<assign property="var:city"  value="[datasource:customersdb-list.1.CITY]" />
			<assign property="var:state"  value="[datasource:customersdb-list.1.STATE]" />
			<assign property="var:postalCode"  value="[datasource:customersdb-list.1.POSTAL]" />
			<assign property="var:country"  value="[datasource:customersdb-list.1.COUNTRY]" />
			<assign property="var:notes"  value="[datasource:customersdb-list.1.NOTES]" />
			<assign property="var:phone"  value="[datasource:customersdb-list.1.PHONE]" />
			<assign property="var:email"  value="[datasource:customersdb-list.1.EMAIL]" />
			<assign property="datasource:createCustomer.postContent" value="[template:createCustomer.content]" />
<!-- 			<alert message="sending [template:createCustomer.content]" /> -->
			<if lhs="[var:customerCreated]" operator="ne" rhs="yes">
				<assign property="datasource:createCustomer.source" value="https://162.209.101.177/api/CreateCustomer" />
				<else>
					<assign property="var:edit-customerId"  value="[var:customerId]" />
					<assign property="var:edit-fname"  value="[datasource:customersdb-list.1.FNAME]" />
					<assign property="var:edit-lname"  value="[datasource:customersdb-list.1.LNAME]" />
					<assign property="var:edit-address1"  value="[datasource:customersdb-list.1.STREET]" />
					<assign property="var:edit-city"  value="[datasource:customersdb-list.1.CITY]" />
					<assign property="var:edit-state"  value="[datasource:customersdb-list.1.STATE]" />
					<assign property="var:edit-zip"  value="[datasource:customersdb-list.1.POSTAL]" />
					<assign property="var:edit-country"  value="[datasource:customersdb-list.1.COUNTRY]" />
					<assign property="var:edit-phone"  value="[datasource:customersdb-list.1.PHONE]" />
					<assign property="var:edit-email"  value="[datasource:customersdb-list.1.EMAIL]" />
					<assign property="datasource:editCustomer.postContent" value="[template:editCustomer.content]" />
					<assign property="datasource:editCustomer.source" value="https://162.209.101.177/api/EditCustomer" />
				</else>
			</if>
		</if>
    </action>

	<action name="create-customer-complete" datasource="createCustomer" datasourceevent="querycomplete">
		<if lhs="[datasource:createCustomer.1.ResponseCode]" operator="e" rhs="100">
			<assign property="var:customerCreated" value="yes" />
			<alpha value="0" time=".3" target="UPLOAD-CURTAIN" />
			<assign property="var:customerId" value="[datasource:createCustomer.1.CustomerId]" />
			<assign property="var:firstName" encoding="url" value="[datasource:customersdb-list.1.FNAME]" />
			<assign property="var:lastName" encoding="url" value="[datasource:customersdb-list.1.LNAME]" />
			<assign property="var:address1" encoding="url" value="[datasource:customersdb-list.1.STREET]" />
			<assign property="var:city" encoding="url" value="[datasource:customersdb-list.1.CITY]" />
			<assign property="var:state" encoding="url" value="[datasource:customersdb-list.1.STATE]" />
			<assign property="var:postalCode" encoding="url" value="[datasource:customersdb-list.1.POSTAL]" />
			<assign property="var:country" encoding="url" value="[datasource:customersdb-list.1.COUNTRY]" />
			<assign property="var:notes" encoding="url" value="[datasource:customersdb-list.1.NOTES]" />
			<assign property="var:phone"  value="[datasource:customersdb-list.1.PHONE]" />
			<assign property="var:email"  value="[datasource:customersdb-list.1.EMAIL]" />
			<sync>
        <translate ypos="101%" time=".1" curve="linear" target="NAV-CUSTOMER/sel" />
        <assign property="var:roofarrow" value="Inspection" />
        <translate align="right" time=".1" curve="linear" target="ROOF-SIDEBAR-PAGER/[var:roofarrow]/arrow" />
        <assign property="var:roof" value="INSPECTION" />
        <translate valign="bottom" time=".1" curve="linear" target="NAV-ROOF/sel" />
        <alpha value="1" target="ROOF-INSPECTION" />
      </sync>
      <sync>
        <translate xpos="0" curve="linear" target="NAVBLOCK" />
        <alpha value="0" time=".2" target="CUSTOMER" />
        <alpha value="1" time=".2" target="ROOF" />
        <assign property="var:nav" value="ROOF" />
        <assign property="var:navwas" value="ROOF" />
        <translate xpos="101%" curve="linear" target="NAVBLOCK" />
        <translate xpos="251" curve="linear" target="STEP-NAVBLOCK" />
        <set onclickup="roofinfo-alert" target="STEP-NAVBLOCK" />
        <assign property="object:NAV-CUSTOMER/open/step.background" value="#666666" />
        <assign property="object:NAV-ROOF/open/step.background" value="#ed1c24" />
        <keyboard visible="no" />
      </sync>
			<else>
				<alert message="There was an error creating the customer.  Please verify that all information is correct and try again." />
			</else>
		</if>
	</action>

	<action name="create-customer-error" datasource="createCustomer" datasourceevent="datasourceerror">
		<alert title="Network Error" message="There was a problem connecting to the server.  Please check your network connection and try again." />
    <alpha value="0" time=".1" target="UPLOAD-CURTAIN" />
	</action>

    <!-- !sidebar-roof actions -->
    <action name="sidebar-roof">
      <sync>
        <!--<play action="[var:roof]" />-->
        <translate xpos="0" curve="linear" target="ROOF-SIDEBAR-BLOCKER" />
        <alpha value="0" time=".1" target="ROOF-[var:roof]" />
        <alpha value="1" time=".25" target="ROOF-_alias" />
        <assign property="var:roof" value="_alias" />
        <translate xpos="-101%" curve="linear" target="ROOF-SIDEBAR-BLOCKER" />
        <keyboard visible="no" />
      </sync>
      <sync>
        <translate xpos="101%" time=".1" curve="linear" target="ROOF-SIDEBAR-PAGER/[var:roofarrow]/arrow" />
        <translate align="right" time=".25" curve="easeout" target="ROOF-SIDEBAR-PAGER/_form/arrow" />
        <assign property="var:roofarrow" value="_form" />
      </sync>
    </action>

    <!-- !sidebar-product actions -->
    <action name="sidebar-products">
      <sync>
        <translate xpos="0" curve="linear" target="PRODUCTS-SIDEBAR-BLOCKER" />
        <alpha value="0" time=".1" target="PRODUCTS-[var:product]" />
        <alpha value="1" time=".25" target="PRODUCTS-_alias" />
        <assign property="var:product" value="_alias" />
        <translate xpos="-101%" curve="linear" target="PRODUCTS-SIDEBAR-BLOCKER" />
      </sync>
      <sync>
        <translate xpos="101%" time=".1" curve="linear" target="PRODUCTS-SIDEBAR-PAGER/[var:productarrow]/arrow" />
        <translate align="right" time=".25" curve="easeout" target="PRODUCTS-SIDEBAR-PAGER/_form/arrow" />
        <assign property="var:productarrow" value="_form" />
      </sync>
    </action>

    <!-- !sidebar-services actions -->
    <action name="sidebar-services">
      <sync>
        <translate xpos="0" curve="linear" target="SERVICES-SIDEBAR-BLOCKER" />
        <alpha value="0" time=".1" target="SERVICES-[var:services]" />
        <alpha value="1" time=".25" target="SERVICES-_alias" />
        <assign property="var:services" value="_alias" />
        <translate xpos="-101%" curve="linear" target="SERVICES-SIDEBAR-BLOCKER" />
        <keyboard visible="no" />
      </sync>
      <sync>
        <translate xpos="101%" time=".1" curve="linear" target="SERVICES-SIDEBAR-PAGER/[var:servicesarrow]/arrow" />
        <translate align="right" time=".25" curve="easeout" target="SERVICES-SIDEBAR-PAGER/_form/arrow" />
        <assign property="var:servicesarrow" value="_form" />
      </sync>
    </action>

    <!-- !Save roof actions -->
    <action name="save-roof">
      <play action="released" />
      <!--<alert message="[var:roof]" />-->
      <play action="[var:roof]" />
      <play action="roof-saving-modal" />
      <keyboard visible="no" />
    </action>

    <action name="INSPECTION">
      <sync>
        <if lhs="[datasource:inspectiondb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:inspectiondb-delete.query" value="DELETE FROM INSPECTION;" />
          <!--<alert message="from the if and deleting [datasource:inspectiondb-list.dataSourceResultCount]" />-->
          <else>
            <play action="INSPECTION-save" />
            <!--<alert message="from the else, nothing to delete" />-->
          </else>
        </if>
        <assign property="var:navstep-inspect" value="yes" />
        <if lhs="[var:navstep-areas]" operator="e" rhs="yes">
          <translate xpos="101%" curve="linear" target="STEP-NAVBLOCK" />
          <set onclickup="null" target="STEP-NAVBLOCK" />
        </if>
      </sync>
    </action>

    <action name="INSPECTION-save" datasource="inspectiondb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <!--<alert title="inspection" message="rooftype [object:ROOFTYPE/input.text] floors [object:FLOORS/input.text]" />-->
        <if lhs="[eval:'[object:ROOFTYPE/input.text]' != '' &amp;&amp; '[object:FLOORS/input.text]' != '']" operator="e" rhs="true">
          <assign property="datasource:inspectiondb.query" value="INSERT INTO INSPECTION (ROOFTYPE, FLOORS) VALUES ('[object:ROOFTYPE/input.text]', '[object:FLOORS/input.text]');" />
<!--           <alert message="[object:ROOFTYPE/input.text] : [object:FLOORS/input.text]" /> -->
          <else>
            <alert title="Incomplete Form" message="Please fill out all fields" />
            <play action="roof-saving-modal-hide" />
          </else>
        </if>
      </if>
    </action>

    <action name="inspection-query" datasource="inspectiondb" datasourceevent="querycomplete">
      <assign property="datasource:inspectiondb-list.query" value="SELECT * FROM INSPECTION;" />
      <play action="roof-saving-modal-hide" />
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Inspection/required" />
          <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Inspection/saved-check" />
        </sync>
      </if>
    </action>

    <action name="FASCIA">
<!--       <alert message="FASCIA" /> -->
    </action>

    <action name="ROOF AREA">
      <sync>
        <if lhs="[datasource:roofareasdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:roofareadb-delete.query" value="DELETE FROM ROOFAREAS;" />
          <else>
            <play action="ROOF AREA-save" />
          </else>
        </if>
      </sync>
    </action>

    <action name="ROOF AREA-save" datasource="roofareadb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <if lhs="[var:areaindex]" operator="gte" rhs="1">
            <play action="areaValidationLoop" />
            <else>
              <alert title="No Roof Areas Available" message="There have not been any Roof Areas added to save." />
              <play action="roof-saving-modal-hide" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="areaValidationLoop">
      <if lhs="[var:areaValidationIndex]" operator="lt" rhs="[var:areaindex]">
        <sync>
          <assign property="var:areaValidationIndex" value="[eval: [var:areaValidationIndex] + 1]" />
          <if lhs="[eval:'[object:RL[var:areaValidationIndex]/input.text]' != '' &amp;&amp; '[object:RW[var:areaValidationIndex]/input.text]' != '' &amp;&amp; '[var:slope-[var:areaValidationIndex]]' != '']" operator="e" rhs="true">
              <play action="areaValidationLoop" />
              <sync>
                <assign property="var:area[var:areaValidationIndex]total" value="[eval: '[object:RW[var:areaValidationIndex]/input.text]' * '[object:RL[var:areaValidationIndex]/input.text]' ]" />
                <assign property="var:area[var:areaValidationIndex]total" value="[eval: '[var:area[var:areaValidationIndex]total]' * '[var:slope-[var:areaValidationIndex]]' ]" />
                <!--<alert title="total area" message="[var:area[var:areaValidationIndex]total]" />-->
              </sync>
              <else>
                <alert title="Incomplete Form" message="Please fill out all fields" />
                <assign property="var:areaValidationIndex" value="0" />
                <play action="roof-saving-modal-hide" />
              </else>
          </if>
        </sync>
        <else>
          <play action="roofareas-db-add" />
          <assign property="var:navstep-areas" value="yes" />
          <if lhs="[var:navstep-inspect]" operator="e" rhs="yes">
            <translate xpos="101%" curve="linear" target="STEP-NAVBLOCK" />
            <set onclickup="null" target="STEP-NAVBLOCK" />
          </if>
        </else>
      </if>
    </action>

    <action name="roofareas-db-add">
      <sync>
        <assign property="var:areaindexloop" value="[eval: [var:areaindexloop] + 1]" />
        <!-- <alert message="var:slope-[var:areaindexloop] is [var:slope-[var:areaindexloop]]" /> -->
        <assign property="datasource:roofareasdb.query" value="INSERT INTO ROOFAREAS (LENGTH, WIDTH, SLOPE) values ('[object:RL[var:areaindexloop]/input.text]', '[object:RW[var:areaindexloop]/input.text]', '[var:slope-[var:areaindexloop]]');" />
      </sync>
    </action>

    <action name="roofareaquery" datasource="roofareasdb" datasourceevent="querycomplete">
      <sync>
        <if lhs="[var:areaindexloop]" operator="lt" rhs="[var:areaindex]">
          <play action="ROOF AREA-save" />
          <else>
            <assign property="datasource:roofareasdb-list.query" value="SELECT * FROM ROOFAREAS;" />
            <assign property="var:areaindexloop" value="0" />
            <assign property="var:areaValidationIndex" value="0" />
            <assign property="var:navstep-areas" value="yes" />
            <play action="roof-saving-modal-hide" />
            <if lhs="[var:loaded]" operator="e" rhs="yes">
              <sync>
                <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Roof Areas/required" />
                <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Roof Areas/saved-check" />
              </sync>
            </if>
          </else>
        </if>
        <!--<alert message="[var:areaindexloop]" />-->
      </sync>
    </action>

    <action name="WASTE">
      <sync>
        <if lhs="[datasource:wastedb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:wastedb-delete.query" value="DELETE FROM WASTE;" />
          <!--<alert message="from the if and deleting [datasource:wastedb-list.dataSourceResultCount]" />-->
          <else>
            <play action="WASTE-save" />
            <!--<alert message="from the else, nothing to delete" />-->
          </else>
        </if>
      </sync>
    </action>

    <action name="WASTE-save" datasource="wastedb-delete" datasourceevent="querycomplete">
      <!--<alert message="[object:WASTEPERCENT/input.text]" />-->
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <if lhs="[eval:'[object:WASTEPERCENT/input.text]' != '']" operator="e" rhs="true">
          <assign property="datasource:wastedb.query" value="INSERT INTO WASTE (PERCENT) values ('[object:WASTEPERCENT/input.text]');" />
          <assign property="var:waste" value="[object:WASTEPERCENT/input.text]" />
<!--           <alert message="[object:WASTEPERCENT/input.text]" /> -->
          <else>
            <alert title="Incomplete Form" message="Please fill out all fields" />
            <play action="roof-saving-modal-hide" />
          </else>
        </if>
      </if>
    </action>

    <action name="wastequery" datasource="wastedb" datasourceevent="querycomplete">
      <assign property="datasource:wastedb-list.query" value="SELECT * FROM WASTE" />
      <play action="roof-saving-modal-hide" />
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Waste/saved-check" />
      </if>
    </action>

    <action name="RIDGE">
      <sync>
        <assign property="var:ridgestotal" value="0" />
        <if lhs="[datasource:ridgesdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:ridgesdb-delete.query" value="DELETE FROM RIDGES;" />
          <else>
            <play action="RIDGE-save" />
          </else>
        </if>
      </sync>
    </action>

    <action name="RIDGE-save" datasource="ridgesdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <if lhs="[var:ridgeindex]" operator="gt" rhs="0">
            <play action="ridgeValidationLoop" />
            <else>
              <alert title="No Ridges Available" message="There have not been any Ridges added to save." />
              <play action="roof-saving-modal-hide" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="ridgeValidationLoop">
      <if lhs="[var:ridgeValidationIndex]" operator="lt" rhs="[var:ridgeindex]">
        <assign property="var:ridgeValidationIndex" value="[eval: [var:ridgeValidationIndex] + 1]" />
        <if lhs="[eval:'[object:RIDGELENGTH[var:ridgeValidationIndex]/input.text]' != '' &amp;&amp; '[var:ridgevent-[var:ridgeValidationIndex]]' != '']" operator="e" rhs="true">
            <assign property="var:ridgestotal" value="[eval: [var:ridgestotal] + [object:RIDGELENGTH[var:ridgeValidationIndex]/input.text]]" />
            <play action="ridgeValidationLoop" />
            <else>
              <alert title="Incomplete Form" message="Please fill out all fields" />
              <assign property="var:ridgeValidationIndex" value="0" />
              <play action="roof-saving-modal-hide" />
            </else>
        </if>
        <else>
          <play action="ridge-db-add" />
        </else>
      </if>
    </action>

    <action name="ridge-db-add">
      <sync>
        <assign property="var:ridgeindexloop" value="[eval: [var:ridgeindexloop] + 1]" />
<!--         <alert message="[object:RIDGELENGTH[var:ridgeindexloop]/input.text] ridgevent: [var:ridgevent-[var:ridgeindexloop]] " /> -->
        <assign property="datasource:ridgesdb.query" value="INSERT INTO RIDGES (LENGTH, VENTS) values ('[object:RIDGELENGTH[var:ridgeindexloop]/input.text]', '[var:ridgevent-[var:ridgeindexloop]]');" />
      </sync>
    </action>

    <action name="ridgequery" datasource="ridgesdb" datasourceevent="querycomplete">
      <sync>
        <if lhs="[var:ridgeindexloop]" operator="lt" rhs="[var:ridgeindex]">
          <play action="RIDGE-save" />
          <else>
            <assign property="datasource:ridgesdb-list.query" value="SELECT * FROM RIDGES;" />
            <assign property="var:ridgevent-index" value="0" />
            <assign property="datasource:ridgeventsdb-list.query" value="SELECT * FROM RIDGES WHERE VENTS='yes';" />
            <assign property="var:ridgeindexloop" value="0" />
            <assign property="var:ridgeValidationIndex" value="0" />
            <play action="roof-saving-modal-hide" />
            <if lhs="[var:loaded]" operator="e" rhs="yes">
              <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Ridges/saved-check" />
            </if>
          </else>
        </if>
      </sync>
    </action>

    <action name="ridgevent-total" datasource="ridgeventsdb-list" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <loop lhs="[var:ridgevent-index]" operator="lt" rhs="[datasource:ridgeventsdb-list.dataSourceResultCount]">
            <assign property="var:ridgevent-index" value="[eval: [var:ridgevent-index] + 1]" />
            <assign property="var:ridgevent-total" value="[eval: [var:ridgevent-total] + [datasource:ridgeventsdb-list.[var:ridgevent-index].LENGTH] ]" />
          </loop>
          <!--<alert title="ridge vent total" message="[var:ridgevent-total]" />-->
        </sync>
      </if>
    </action>

    <action name="HIP">
      <sync>
        <!-- <alert message="pre-saved removed [datasource:hipsdb-list.dataSourceResultCount]" />-->
        <assign property="var:hipstotal" value="0" />
        <if lhs="[datasource:hipsdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:hipsdb-delete.query" value="DELETE FROM HIPS;" />
<!-- 		  <alert message="deleting hips db for fresh save" /> -->
          <else>
            <play action="HIP-save" />
            <!-- <alert message="in the else, did not delete anything" /> -->
          </else>
        </if>
      </sync>
    </action>

    <action name="HIP-save" datasource="hipsdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <if lhs="[var:hipindex]" operator="gt" rhs="0">
            <play action="hipValidationLoop" />
            <else>
              <alert title="No Hips Available" message="There have not been any Hips added to save." />
              <play action="roof-saving-modal-hide" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="hipValidationLoop">
      <if lhs="[var:hipValidationIndex]" operator="lt" rhs="[var:hipindex]">
        <assign property="var:hipValidationIndex" value="[eval: [var:hipValidationIndex] + 1]" />
        <if lhs="[eval:'[object:HIPLENGTH[var:hipValidationIndex]/input.text]' != '']" operator="e" rhs="true">
            <assign property="var:hipstotal" value="[eval: [var:hipstotal] + [object:HIPLENGTH[var:hipValidationIndex]/input.text]]" />
            <play action="hipValidationLoop" />
            <else>
              <alert title="Incomplete Form" message="Please fill out all fields" />
              <assign property="var:hipValidationIndex" value="0" />
              <play action="roof-saving-modal-hide" />
            </else>
        </if>
        <else>
          <play action="hip-db-add" />
        </else>
      </if>
    </action>

    <action name="hip-db-add">
      <sync>
        <assign property="var:hipindexloop" value="[eval: [var:hipindexloop] + 1]" />
<!--         <alert message="[object:HIPLENGTH[var:hipindexloop]/input.text]" /> -->
        <assign property="datasource:hipsdb.query" value="INSERT INTO HIPS (LENGTH, VENTS) values ('[object:HIPLENGTH[var:hipindexloop]/input.text]', '[var:hipvent-[var:hipindexloop]]');" />
      </sync>
    </action>

    <action name="hipquery" datasource="hipsdb" datasourceevent="querycomplete">
      <sync>
        <if lhs="[var:hipindexloop]" operator="lt" rhs="[var:hipindex]">
          <play action="HIP-save" />
          <else>
            <assign property="datasource:hipsdb-list.query" value="SELECT * FROM HIPS;" />
            <assign property="var:hipvent-index" value="0" />
            <assign property="datasource:hipventsdb-list.query" value="SELECT * FROM HIPS WHERE VENTS='yes';" />
            <assign property="var:hipindexloop" value="0" />
            <assign property="var:hipValidationIndex" value="0" />
            <play action="roof-saving-modal-hide" />
            <if lhs="[var:loaded]" operator="e" rhs="yes">
              <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Hips/saved-check" />
            </if>
          </else>
        </if>
      </sync>
    </action>

    <action name="hipvent-total" datasource="hipventsdb-list" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <loop lhs="[var:hipvent-index]" operator="lt" rhs="[datasource:hipventsdb-list.dataSourceResultCount]">
            <assign property="var:hipvent-index" value="[eval: [var:hipvent-index] + 1]" />
            <assign property="var:hipvent-total" value="[eval: [var:hipvent-total] + [datasource:hipventsdb-list.[var:hipvent-index].LENGTH] ]" />
          </loop>
          <!--<alert title="hip vent total" message="[var:hipvent-total]" />-->
        </sync>
      </if>
    </action>

    <action name="VALLEY">
      <sync>
        <!-- <alert message="pre-saved removed [datasource:valleysdb-list.dataSourceResultCount]" />-->
        <assign property="var:valleystotal" value="0" />
        <if lhs="[datasource:valleysdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:valleysdb-delete.query" value="DELETE FROM VALLEYS;" />
<!--           <alert message="if to delete" /> -->
          <else>
            <play action="VALLEY-save" />
            <!-- <alert message="in the else, did not delete anything" />-->
          </else>
        </if>
      </sync>
    </action>

    <action name="VALLEY-save" datasource="valleysdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <if lhs="[var:valleyindex]" operator="gt" rhs="0">
            <play action="valleyValidationLoop" />
            <else>
              <alert title="No Valleys Available" message="There have not been any Valleys added to save." />
              <play action="roof-saving-modal-hide" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="valleyValidationLoop">
      <if lhs="[var:valleyValidationIndex]" operator="lt" rhs="[var:valleyindex]">
        <assign property="var:valleyValidationIndex" value="[eval: [var:valleyValidationIndex] + 1]" />
        <if lhs="[eval:'[object:VALLEYLENGTH[var:valleyValidationIndex]/input.text]' != '']" operator="e" rhs="true">
            <assign property="var:valleystotal" value="[eval: [var:valleystotal] + [object:VALLEYLENGTH[var:valleyValidationIndex]/input.text]]" />
            <play action="valleyValidationLoop" />
            <else>
              <alert title="Incomplete Form" message="Please fill out all fields" />
              <assign property="var:valleyValidationIndex" value="0" />
              <play action="roof-saving-modal-hide" />
            </else>
        </if>
        <else>
          <play action="valley-db-add" />
        </else>
      </if>
    </action>

    <action name="valley-db-add">
      <sync>
        <assign property="var:valleyindexloop" value="[eval: [var:valleyindexloop] + 1]" />
<!--         <alert message="[object:VALLEYLENGTH[var:valleyindexloop]/input.text]" /> -->
        <assign property="datasource:valleysdb.query" value="INSERT INTO VALLEYS (LENGTH) values ('[object:VALLEYLENGTH[var:valleyindexloop]/input.text]')" />
      </sync>
    </action>

    <action name="valleyquery" datasource="valleysdb" datasourceevent="querycomplete">
      <sync>
        <if lhs="[var:valleyindexloop]" operator="lt" rhs="[var:valleyindex]">
          <play action="VALLEY-save" />
          <else>
            <assign property="datasource:valleysdb-list.query" value="SELECT * FROM VALLEYS;" />
            <assign property="var:valleyindexloop" value="0" />
            <assign property="var:valleyValidationIndex" value="0" />
            <play action="roof-saving-modal-hide" />
            <if lhs="[var:loaded]" operator="e" rhs="yes">
              <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Valleys/saved-check" />
            </if>
          </else>
        </if>
      </sync>
    </action>

    <action name="RAKE">
      <sync>
        <!-- <alert message="pre-saved removed [datasource:rakesdb-list.dataSourceResultCount]" />-->
        <assign property="var:rakestotal" value="0" />
        <if lhs="[datasource:rakesdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:rakesdb-delete.query" value="DELETE FROM RAKES;" />
          <!-- <alert message="if to delete" />-->
          <else>
            <play action="RAKE-save" />
<!--             <alert message="in the else, did not delete anything" /> -->
          </else>
        </if>
      </sync>
    </action>

    <action name="RAKE-save" datasource="rakesdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <if lhs="[var:rakeindex]" operator="gt" rhs="0">
            <play action="rakeValidationLoop" />
            <else>
              <alert title="No Rakes Available" message="There have not been any Rakes added to save." />
              <play action="roof-saving-modal-hide" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="rakeValidationLoop">
      <if lhs="[var:rakeValidationIndex]" operator="lt" rhs="[var:rakeindex]">
        <assign property="var:rakeValidationIndex" value="[eval: [var:rakeValidationIndex] + 1]" />
        <if lhs="[eval:'[object:RAKELENGTH[var:rakeValidationIndex]/input.text]' != '']" operator="e" rhs="true">
            <assign property="var:rakestotal" value="[eval: [var:rakestotal] + [object:RAKELENGTH[var:rakeValidationIndex]/input.text]]" />
            <play action="rakeValidationLoop" />
            <else>
              <alert title="Incomplete Form" message="Please fill out all fields" />
              <assign property="var:rakeValidationIndex" value="0" />
              <play action="roof-saving-modal-hide" />
            </else>
        </if>
        <else>
          <play action="rake-db-add" />
        </else>
      </if>
    </action>

    <action name="rake-db-add">
      <sync>
        <assign property="var:rakeindexloop" value="[eval: [var:rakeindexloop] + 1]" />
<!--         <alert message="[object:RAKELENGTH[var:rakeindexloop]/input.text]" /> -->
        <assign property="datasource:rakesdb.query" value="INSERT INTO RAKES (LENGTH) values ('[object:RAKELENGTH[var:rakeindexloop]/input.text]')" />
      </sync>
    </action>

    <action name="rakequery" datasource="rakesdb" datasourceevent="querycomplete">
      <sync>
        <if lhs="[var:rakeindexloop]" operator="lt" rhs="[var:rakeindex]">
          <play action="RAKE-save" />
          <else>
            <assign property="datasource:rakesdb-list.query" value="SELECT * FROM RAKES;" />
            <assign property="var:rakeindexloop" value="0" />
            <assign property="var:rakeValidationIndex" value="0" />
            <play action="roof-saving-modal-hide" />
            <if lhs="[var:loaded]" operator="e" rhs="yes">
              <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Rakes/saved-check" />
            </if>
          </else>
        </if>
      </sync>
    </action>

    <action name="EAVE">
      <sync>
        <!-- <alert message="pre-saved removed [datasource:eavesdb-list.dataSourceResultCount]" />-->
        <assign property="var:eavestotal" value="0" />
        <if lhs="[datasource:eavesdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:eavesdb-delete.query" value="DELETE FROM EAVES;" />
          <!-- <alert message="if to delete" /> -->
          <else>
            <play action="EAVE-save" />
<!--             <alert message="in the else, did not delete anything" /> -->
          </else>
        </if>
      </sync>
    </action>

    <action name="EAVE-save" datasource="eavesdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <if lhs="[var:eaveindex]" operator="gt" rhs="0">
            <play action="eaveValidationLoop" />
            <else>
              <alert title="No Eaves Available" message="There have not been any Eaves added to save." />
              <play action="roof-saving-modal-hide" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="eaveValidationLoop">
      <if lhs="[var:eaveValidationIndex]" operator="lt" rhs="[var:eaveindex]">
        <assign property="var:eaveValidationIndex" value="[eval: [var:eaveValidationIndex] + 1]" />
        <if lhs="[eval:'[object:EAVELENGTH[var:eaveValidationIndex]/input.text]' != '']" operator="e" rhs="true">
            <assign property="var:eavestotal" value="[eval: [var:eavestotal] + [object:EAVELENGTH[var:eaveValidationIndex]/input.text]]" />
            <play action="eaveValidationLoop" />
            <else>
              <alert title="Incomplete Form" message="Please fill out all fields" />
              <assign property="var:eaveValidationIndex" value="0" />
              <play action="roof-saving-modal-hide" />
            </else>
        </if>
        <else>
          <play action="eave-db-add" />
        </else>
      </if>
    </action>

    <action name="eave-db-add">
      <sync>
        <assign property="var:eaveindexloop" value="[eval: [var:eaveindexloop] + 1]" />
<!--         <alert message="[object:EAVELENGTH[var:eaveindexloop]/input.text]" /> -->
        <assign property="datasource:eavesdb.query" value="INSERT INTO EAVES (LENGTH) values ('[object:EAVELENGTH[var:eaveindexloop]/input.text]')" />
      </sync>
    </action>

    <action name="eavequery" datasource="eavesdb" datasourceevent="querycomplete">
      <sync>
        <if lhs="[var:eaveindexloop]" operator="lt" rhs="[var:eaveindex]">
          <play action="EAVE-save" />
          <else>
            <assign property="datasource:eavesdb-list.query" value="SELECT * FROM EAVES;" />
            <assign property="var:eaveindexloop" value="0" />
            <assign property="var:eaveValidationIndex" value="0" />
            <play action="roof-saving-modal-hide" />
            <if lhs="[var:loaded]" operator="e" rhs="yes">
              <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Eaves/saved-check" />
            </if>
          </else>
        </if>
      </sync>
    </action>

    <action name="CHIMNEY">
      <sync>
        <!--<alert message="pre-saved removed [datasource:protrusionsdb-list.dataSourceResultCount]" />-->
        <if lhs="[datasource:protrusionsdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:protrusionsdb-delete.query" value="DELETE FROM PROTRUSIONS;" />
          <!-- <alert message="if to delete" />-->
          <else>
            <play action="CHIMNEY-save" />
<!--             <alert message="in the else, did not delete anything" /> -->
          </else>
        </if>
      </sync>
    </action>

    <action name="CHIMNEY-save" datasource="protrusionsdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <if lhs="[var:protrusionindex]" operator="gt" rhs="0">
            <play action="chimneyValidationLoop" />
            <else>
              <alert title="No Chimneys Available" message="There have not been any Chimneys added to save." />
              <play action="roof-saving-modal-hide" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="chimneyValidationLoop">
      <if lhs="[var:chimneyValidationIndex]" operator="lt" rhs="[var:protrusionindex]">
        <assign property="var:chimneyValidationIndex" value="[eval: [var:chimneyValidationIndex] + 1]" />
        <if lhs="[eval:'[object:PROTRUSIONLENGTH[var:chimneyValidationIndex]/input.text]' != '' &amp;&amp; '[object:PROTRUSIONWIDTH[var:chimneyValidationIndex]/input.text]' != '']" operator="e" rhs="true">
            <play action="chimneyValidationLoop" />
            <else>
              <alert title="Incomplete Form" message="Please fill out all fields" />
              <assign property="var:chimneyValidationIndex" value="0" />
              <play action="roof-saving-modal-hide" />
            </else>
        </if>
        <else>
          <play action="chimney-db-add" />
        </else>
      </if>
    </action>

    <action name="chimney-db-add">
      <sync>
        <assign property="var:protrusionindexloop" value="[eval: [var:protrusionindexloop] + 1]" />
        <assign property="datasource:protrusionsdb.query" value="INSERT INTO PROTRUSIONS (LENGTH, WIDTH, TYPE) values ('[object:PROTRUSIONLENGTH[var:protrusionindexloop]/input.text]', '[object:PROTRUSIONWIDTH[var:protrusionindexloop]/input.text]', '[object:TYPE[var:protrusionindexloop].text]');" />
<!--         <alert message="Type:[object:TYPE[var:protrusionindexloop].text] Length:[object:PROTRUSIONLENGTH[var:protrusionindexloop]/input.text] Width:[object:PROTRUSIONWIDTH[var:protrusionindexloop]/input.text]" /> -->
      </sync>
    </action>

    <action name="chimneyquery" datasource="protrusionsdb" datasourceevent="querycomplete">
      <sync>
        <if lhs="[var:protrusionindexloop]" operator="lt" rhs="[var:protrusionindex]">
          <play action="CHIMNEY-save" />
          <else>
            <assign property="datasource:protrusionsdb-list.query" value="SELECT * FROM PROTRUSIONS;" />
            <assign property="var:protrusionindexloop" value="0" />
            <assign property="var:chimneyValidationIndex" value="0" />
            <play action="roof-saving-modal-hide" />
            <if lhs="[var:loaded]" operator="e" rhs="yes">
              <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Chimney &amp; Skylights/saved-check" />
            </if>
          </else>
        </if>
      </sync>
    </action>

    <action name="VENT">
      <sync>
        <!--<alert message="pre-saved removed [datasource:ventsdb-list.dataSourceResultCount]" />-->
        <if lhs="[datasource:ventsdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:ventsdb-delete.query" value="DELETE FROM VENTS;" />
          <!--<alert message="if to delete" />-->
          <else>
            <play action="VENT-save" />
<!--             <alert message="in the else, did not delete anything" /> -->
          </else>
        </if>
      </sync>
    </action>

    <action name="VENT-save" datasource="ventsdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <if lhs="[var:ventindex]" operator="gt" rhs="0">
            <play action="ventValidationLoop" />
            <else>
              <alert title="No Vents Available" message="There have not been any Vents added to save." />
              <play action="roof-saving-modal-hide" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="ventValidationLoop">
      <sync>
        <if lhs="[var:ventValidationIndex]" operator="lt" rhs="[var:ventindex]">
          <assign property="var:ventValidationIndex" value="[eval: [var:ventValidationIndex] + 1]" />
          <!--<alert title="vent field [var:ventValidationIndex]" message="[object:VENTQUANTITY[var:ventValidationIndex]/input.text]" />-->
          <if lhs="[eval:'[object:VENTQUANTITY[var:ventValidationIndex]/input.text]' != '']" operator="e" rhs="true">
            <play action="ventValidationLoop" />
            <else>
              <alert title="Incomplete Form" message="Please fill out all fields" />
              <assign property="var:ventValidationIndex" value="0" />
              <play action="roof-saving-modal-hide" />
            </else>
          </if>
          <else>
            <play action="vent-db-add" />
          </else>
        </if>
      </sync>
    </action>

    <action name="vent-db-add">
      <sync>
        <assign property="var:ventindexloop" value="[eval: [var:ventindexloop] + 1]" />
<!--         <alert message="Size:[object:VENTSIZE[var:ventindexloop]/input.text] Quantity:[object:VENTQUANTITY[var:ventindexloop]/input.text]" /> -->
        <assign property="datasource:ventsdb.query" value="INSERT INTO VENTS (SIZE, QUANTITY) values ('[object:VENTSIZE[var:ventindexloop]/input.text]', '[object:VENTQUANTITY[var:ventindexloop]/input.text]');" />
      </sync>
    </action>

    <action name="ventquery" datasource="ventsdb" datasourceevent="querycomplete">
      <sync>
        <if lhs="[var:ventindexloop]" operator="lt" rhs="[var:ventindex]">
          <play action="VENT-save" />
          <else>
            <assign property="datasource:ventsdb-list.query" value="SELECT * FROM VENTS;" />
            <assign property="var:ventindexloop" value="0" />
            <assign property="var:ventValidationIndex" value="0" />
            <play action="roof-saving-modal-hide" />
            <if lhs="[var:loaded]" operator="e" rhs="yes">
              <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Plumbing Vents/saved-check" />
            </if>
          </else>
        </if>
      </sync>
    </action>

    <action name="PHOTO">
      <!--       <alert message="PHOTO" /> -->
      <play action="roof-saving-modal-hide" />
    </action>

    <!-- !drop down actions -->
    <action name="dropon">
      <sync>
        <if lhs="[var:dropactive]" operator="e" rhs="yes">
          <!--<alert title="from the if" message="[var:dropactive] [var:drop] [var:field]" />-->
          <translate xpos="101%" time=".25" curve="easeout" target="[var:drop]/drop" />
          <alpha value=".2" time=".1" target="_drop/drop" />
          <alpha value="0" target="[var:droptype]" />
          <set onclickup="dropon" target="[var:field]/active" />
        </if>
        <alpha value="1" time=".1" target="_droptype" />
        <alpha value="1" target="_drop/drop" />
        <translate align="right" time=".25" curve="easeout" target="_drop/drop" />

        <assign property="var:droptype" value="_droptype" />
        <set onclickup="dropoff" />
        <assign property="var:dropactive" value="yes" />
        <assign property="var:drop" value="_drop" />
        <assign property="var:field" value="_field" />
      </sync>
    </action>

    <action name="dropoff">
      <sync>
        <translate xpos="101%" time=".25" curve="easeout" target="_drop/drop" />
        <alpha value="0" time=".25" target="_drop/drop" />
        <alpha value="0" time=".25" target="[var:droptype]" />
        <assign property="var:droptype" value="null" />
        <set onclickup="dropon" target="_target" />
        <assign property="var:dropactive" value="no" />
        <assign property="var:drop" value="" />
      </sync>
    </action>

    <action name="setstate">
      <sync>
        <assign property="object:STATE/input.text" value="_abbr" />
        <!--<alert message="_abbr" />-->
        <play action="dropoff" _drop="ADDRESS" _target="STATE/active" />
      </sync>
    </action>

    <action name="setprovince">
      <sync>
        <assign property="object:PROVINCE/input.text" value="_abbr" />
        <play action="dropoff" _drop="ADDRESS" _target="PROVINCE/active" />
      </sync>
    </action>

    <action name="setstate-edit">
      <sync>
        <assign property="object:EDIT-STATE/input.text" value="_abbr" />
        <alpha value="0" target="MODALCURTAIN" />
        <translate ypos="100%" time=".25" curve="easeout" target="US-LIST" />
      </sync>
    </action>

    <action name="setprovince-edit">
      <sync>
        <assign property="object:EDIT-STATE/input.text" value="_abbr" />
        <alpha value="0" target="MODALCURTAIN" />
        <translate ypos="100%" time=".25" curve="easeout" target="CAN-LIST" />
      </sync>
    </action>

    <action name="setrooftype">
      <sync>
        <assign property="object:ROOFTYPE/input.text" value="_type" />
        <play action="dropoff" _drop="INSPECTION" _target="ROOFTYPE/active" />
      </sync>
    </action>

    <action name="setfloor">
      <sync>
        <assign property="object:FLOORS/input.text" value="_floors" />
        <play action="dropoff" _drop="INSPECTION" _target="FLOORS/active" />
      </sync>
    </action>

    <action name="setfactor">
      <sync>
        <assign property="var:slopeindex" value="_slopeindex" />
        <assign property="var:slope-[var:areaindex]" value="_factor" />
        <assign property="object:SLOPE[var:slopeindex]/input.text" value="_slope   _factor" />
        <play action="dropoff" _drop="ROOF-AREA[var:slopeindex]" _target="SLOPE[var:slopeindex]/active" />
      </sync>
    </action>

    <action name="setlayers">
      <sync>
        <assign property="object:LAYERS/input.text" value="_layers" />
        <play action="dropoff" _drop="TEAROFF" _target="LAYERS/active" />
      </sync>
    </action>

    <action name="setmaterial">
      <sync>
        <assign property="object:TYPE/input.text" value="_material" />
        <play action="dropoff" _drop="TEAROFF" _target="TYPE/active" />
      </sync>
    </action>

    <action name="setplywood">
      <sync>
        <assign property="object:PLYWOODTYPE/input.text" value="_label" />
        <assign property="object:PLYWOODTYPE/hidden.text" value="_size" />
        <play action="dropoff" _drop="PLYWOOD" _target="PLYWOODTYPE/active" />
      </sync>
    </action>

    <action name="setmeasurement">
      <sync>
        <assign property="var:setMeasureIndex" value="_index" />
        <assign property="object:MEASUREMENT[var:setMeasureIndex]/input.text" value="_label" />
        <assign property="object:MEASUREMENT[var:setMeasureIndex]/hidden.text" value="_measure" />
        <play action="dropoff" _drop="PLYWOOD[var:setMeasureIndex]" _target="MEASUREMENT[var:setMeasureIndex]/active" />
      </sync>
    </action>

    <!-- !shingle actions -->
		<action name="get-products-complete" datasource="getProducts" datasourceevent="querycomplete" >
			<delete target="PRODUCT-PAGER-BOX/pager" />
			<create class="product-pager" target="PRODUCT-PAGER-BOX" />
			<assign property="var:productCount" value="[datasource:getProducts.dataSourceResultCount]" />
			<assign property="var:productIterateCount" value="1" />
<!-- 			<alert message="get-products-complete var:productCount is [var:productCount] var:productIterateCount is [var:productIterateCount]" /> -->
			<create class="product-family" target="PRODUCT-PAGER-BOX/pager" index="[var:productIterateCount]" category="[datasource:getProducts.[var:productIterateCount].ProductFamily]" />
			<play action="prep-products" />
		</action>

		<action name="prep-products" >
			<assign property="var:currentCategory" value="[datasource:getProducts.[var:productIterateCount].ProductFamily]" />
<!-- 			<alert message="prep-products var:currentCategory is [var:currentCategory] var:productIterateCount is [var:productIterateCount] var:productCount is [var:productCount]" /> -->
			<if lhs="[var:productIterateCount]" operator="lte" rhs="[var:productCount]">
				<if lhs="[var:productIterateCount]" operator="lt" rhs="[var:productCount]">
					<if lhs="[eval:[var:productIterateCount]+1]" operator="e" rhs="[var:productCount]">
<!-- 						<alert message="creating last two" /> -->
						<alpha value="0" target="UPLOAD-CURTAIN" />
						<create class="shingles" index="[var:productIterateCount]" target="PRODUCT-PAGER-BOX/pager" />
						<assign property="var:productsCreated" value="yes" />
						<create class="filler" target="PRODUCT-PAGER-BOX/pager" />
						<play action="sidebar-products" _alias="SHINGLES" _form="Shingles" />
						<else>
							<if lhs="[eval:('[datasource:getProducts.[var:productIterateCount].ProductFamily]' == '[var:currentCategory]') &amp;&amp; ('[datasource:getProducts.[eval:[var:productIterateCount]+1].ProductFamily]' == '[var:currentCategory]')]" operator="e" rhs="true">
<!-- 								<alert message="creating two" /> -->
								<play action="create-two" />
							</if>
							<if lhs="[eval:('[datasource:getProducts.[var:productIterateCount].ProductFamily]' == '[var:currentCategory]') &amp;&amp; ('[datasource:getProducts.[eval:[var:productIterateCount]+1].ProductFamily]' != '[var:currentCategory]')]" operator="e" rhs="true">
<!-- 								<alert message="creating one" /> -->
								<play action="create-one" />
							</if>
						</else>
					</if>
				</if>
				<if lhs="[var:productIterateCount]" operator="e" rhs="[var:productCount]">
<!-- 					<alert message="creating last one" /> -->
					<create class="shingle-single" index="[var:productIterateCount]" target="PRODUCT-PAGER-BOX/pager" />
					<assign property="var:productsCreated" value="yes" />
					<alpha value="0" target="UPLOAD-CURTAIN" />
					<create class="filler" target="PRODUCT-PAGER-BOX/pager" />
					<play action="sidebar-products" _alias="SHINGLES" _form="Shingles" />
				</if>
			</if>
		</action>

		<action name="create-two" >
			<create class="shingles" index="[var:productIterateCount]" target="PRODUCT-PAGER-BOX/pager" />
			<assign property="var:productIterateCount" value="[eval: [var:productIterateCount]+2]" />
			<if lhs="[datasource:getProducts.[var:productIterateCount].ProductFamily]" operator="ne" rhs="[datasource:getProducts.[eval:[var:productIterateCount]-1].ProductFamily]">
				<create class="product-family" target="PRODUCT-PAGER-BOX/pager" index="[var:productIterateCount]" category="[datasource:getProducts.[var:productIterateCount].ProductFamily]" />
			</if>
			<play action="prep-products" />
		</action>

		<action name="create-one" >
			<create class="shingle-single" index="[var:productIterateCount]" target="PRODUCT-PAGER-BOX/pager" />
			<assign property="var:productIterateCount" value="[eval: [var:productIterateCount]+1]" />
			<if lhs="[datasource:getProducts.[var:productIterateCount].ProductFamily]" operator="ne" rhs="[datasource:getProducts.[eval:[var:productIterateCount]-1].ProductFamily]">
				<create class="product-family" target="PRODUCT-PAGER-BOX/pager" index="[var:productIterateCount]" category="[datasource:getProducts.[var:productIterateCount].ProductFamily]" />
			</if>
			<play action="prep-products" />
		</action>


		<action name="get-products-error" datasource="getProducts" datasourceevent="datasourceerror" >
			<alert title="Network Error" message="There was a problem connecting to the server.  Please check your network connection and try again." />
			<alpha value="0" time=".3" target="UPLOAD-CURTAIN" />
		</action>

    <action name="selectshingle">
      <!-- 		<assign property="var:colorCount" value="4" /> -->
      <assign property="var:shingle" value="[datasource:getProducts._value.ProductId]" />
<!--       <alert message="value is _value, datasource:getProducts._value.ProductId is [datasource:getProducts._value.ProductId], var:shingle is [var:shingle]" /> -->
      <assign property="var:shingleName" value="[datasource:getProducts._value.ProductName]" />
      <assign property="object:SHINGLECOLOR/shingle.text" value="[var:shingleName]" />
      <play action="released" />

      <!--<alpha value="0" time="0" target="button" />
      <alpha value="1" time=".2" target="selected" />
      <if lhs="[var:selectedshingle]" operator="gt" rhs="0">
        <alpha value="0" time="0" target="PRODUCT-PAGER-BOX/pager/[var:shingle-row]/col[var:shingle-col]/shingle-btn/test/selected" />
        <alpha value="1" time=".2" target="PRODUCT-PAGER-BOX/pager/[var:shingle-row]/col[var:shingle-col]/shingle-btn/test/button" />
      </if>-->
      <if lhs="[var:prev-selectedshingle]" operator="gt" rhs="0">
        <translate xpos="374" curve="linear" target="STEP-NAVBLOCK" />
        <set onclickup="warranty-select-message" target="STEP-NAVBLOCK" />
      </if>
      <assign property="var:selectedshingle" value="_index" />
      <assign property="var:shingle-col" value="_col" />
      <assign property="var:shingle-row" value="_rowindex" />

      <delete target="COLORPAGER" />
      <assign property="var:shingleSelected" value="_value" />
      <assign property="var:colorCount" value="[eval:JSON.parse('[datasource:getProducts._value.Color]').length]" />
<!-- 	  <alert message="value is _value eval:JSON.parse('[datasource:getProducts._value.Color]').length is [eval:JSON.parse('[datasource:getProducts._value.Color]').length]" /> -->
      <if lhs="[eval:JSON.parse('[datasource:getProducts._value.Color]').length]" operator="ne" rhs="">
        <assign property="var:colorCreateCount" value="0" />
        <create class="color-pager" target="SHINGLECOLOR/inner" />
        <loop lhs="[var:colorCreateCount]" operator="lt" rhs="[var:colorCount]" >
        	<if lhs="[eval: [var:colorCount]-[var:colorCreateCount]]" operator="e" rhs="1">
        		<create class="one-color" target="COLORPAGER" index="[var:colorCreateCount]"/>
        		<assign property="var:colorCreateCount" value="[eval: [var:colorCreateCount]+1]" />
        	</if>
        	<if lhs="[eval: [var:colorCount]-[var:colorCreateCount]]" operator="e" rhs="2">
        		<create class="two-colors" target="COLORPAGER" index="[var:colorCreateCount]"/>
        		<assign property="var:colorCreateCount" value="[eval: [var:colorCreateCount]+2]" />
        	</if>
        	<if lhs="[eval: [var:colorCount]-[var:colorCreateCount]]" operator="gte" rhs="3">
        		<create class="three-colors" target="COLORPAGER" index="[var:colorCreateCount]"  />
        		<assign property="var:colorCreateCount" value="[eval: [var:colorCreateCount]+3]" />
        	</if>
        </loop>
        <play action="blur" />
        <alpha value="1" time=".25" target="SHINGLECOLOR" />
        <translate valign="center" time=".25" curve="easeout" target="SHINGLECOLOR" />
        <assign property="var:curtainaction" value="colordismiss" />
        <else>
          <assign property="var:color" value="N/A" />
<!--           <alert message="[var:shingle] [var:color]" /> -->
        	<assign property="datasource:getWarranties.source" value="https://162.209.101.177/api/GetWarranties?productId=[var:shingle]" />
<!--         	<alert message="https://162.209.101.177/api/GetWarranties?productId=[var:shingle]" /> -->
        	<play action="sidebar-products" _alias="WARRANTY" _form="Warranty" />
	        <alpha value="1" time=".1" target="UPLOAD-CURTAIN" />
	        <assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="Retrieving Warranties" />
        </else>
      </if>
    </action>

    <action name="colordismiss">
      <translate ypos="18%" time=".25" curve="easeout" target="SHINGLECOLOR" />
      <sync>
        <alpha value="0" time=".20" target="SHINGLECOLOR" />
        <play action="focus" />
      </sync>
    </action>

    <action name="setcolor">
      <play action="released" />
      <sync>
	  	  <if lhs="[var:warranty-set]" operator="e" rhs="yes">
          <!--<alert title="set color" message="[var:warranty-set]" />-->
  	  	  <play action="reset-accessory-vars" />
	  	  </if>

	  	  <alpha value="0" time="0" target="PRODUCT-PAGER-BOX/pager/[var:shingle-row]/col[var:shingle-col]/shingle-btn/test/button" />
        <alpha value="1" time=".2" target="PRODUCT-PAGER-BOX/pager/[var:shingle-row]/col[var:shingle-col]/shingle-btn/test/selected" />
        <if lhs="[var:prev-selectedshingle]" operator="gt" rhs="0">
          <alpha value="0" time="0" target="PRODUCT-PAGER-BOX/pager/[var:prev-shingle-row]/col[var:prev-shingle-col]/shingle-btn/test/selected" />
          <alpha value="1" time=".2" target="PRODUCT-PAGER-BOX/pager/[var:prev-shingle-row]/col[var:prev-shingle-col]/shingle-btn/test/button" />
        </if>
        <assign property="var:prev-selectedshingle" value="[var:selectedshingle]" />
        <assign property="var:prev-shingle-col" value="[var:shingle-col]" />
        <assign property="var:prev-shingle-row" value="[var:shingle-row]" />

	  	  <assign property="var:warranty-set" value="no" />
	  	  <assign property="var:productImage" value="_image" />
        <!-- 	  	<alert message="var:productImage is [var:productImage]" /> -->
        <assign property="var:color" value="_value" />
        <!-- <alert message="[var:shingle] [var:color] url https://162.209.101.177/api/GetWarranties?productId=[var:shingle]" /> -->
        <assign property="datasource:getWarranties.source" value="https://162.209.101.177/api/GetWarranties?productId=[var:shingle]" />
      </sync>
      <sync>
        <play action="colordismiss" />
        <play action="sidebar-products" _alias="WARRANTY" _form="Warranty" />
        <alpha value="1" time=".1" target="UPLOAD-CURTAIN" />
        <assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="Retrieving Warranties" />
      </sync>
    </action>

    <action name="reset-accessory-vars">
      <sync>
        <loop lhs="[var:clear-acc-index]" operator="lt" rhs="[var:acc-count-increment]">
          <assign property="var:clear-acc-index" value="[eval: [var:clear-acc-index] + 1]" />
          <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]-Quantity" value="" />
          <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]" value="" />
          <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]-Name" value="" />
          <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]-Type" value="" />
          <assign property="var:acc-count-track-[var:clear-acc-index]" value="" />
        </loop>
        <assign property="var:accessorySelected" value="" />
        <assign property="var:cur-acc-cat" value="" />
        <assign property="var:autoquantity" value="" />
        <assign property="var:curtainaction" value="" />
        <assign property="var:cur-leak-index" value="" />
        <assign property="var:prev-leak-index" value="" />
        <assign property="var:cur-roofdeck-index" value="" />
        <assign property="var:prev-roofdeck-index" value="" />
        <assign property="var:cur-starter-index" value="" />
        <assign property="var:prev-starter-index" value="" />
        <assign property="var:cur-ventilation-index" value="" />
        <assign property="var:prev-ventilation-index" value="" />
        <assign property="var:cur-hipvent" value="" />
        <assign property="var:prev-hipvent" value="" />
        <assign property="var:cur-fasciavent" value="" />
        <assign property="var:prev-fasciavent" value="" />
        <assign property="var:cur-ridgevent" value="" />
        <assign property="var:prev-ridgevent" value="" />
        <assign property="var:cur-ridgecap-index" value="" />
        <assign property="var:prev-ridgecap-index" value="" />
        <assign property="var:accessoryCount" value="0" />
        <assign property="var:selectedwarranty" value="" />
        <assign property="var:acc-count-increment" value="" />
        <assign property="var:clear-acc-index" value="" />
        <assign property="datasource:accessoriesdb-delete.query" value="DELETE FROM ACCESSORIES;" />
        <assign property="var:warrantycheck" value="" />
      </sync>
    </action>

    <!-- !warranty actions -->
	  <action name="warranties-complete" datasource="getWarranties" datasourceevent="querycomplete" >
      <!-- 		<alert message="warranties complete content is [datasource:getWarranties.0.content]" /> -->
      <translate ypos="130" curve="linear" target="PRODUCTS-STEP-BLOCKER" />
      <alpha value="0" time=".1" target="UPLOAD-CURTAIN" />
      <assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="" />
	  </action>

	  <action name="warranties-error" datasource="getWarranties" datasourceevent="datasourceerror" >
	  	<alert title="Network Error" message="There was a problem connecting to the server.  Please check your network connection and try again." />
	  	<alpha value="0" time=".3" target="UPLOAD-CURTAIN" />
	  </action>

	  <action name="selectwarranty">
      <sync>
        <play action="released" />
        <alpha value="0" time="0" target="button" />
        <alpha value="1" time=".2" target="selected" />
        <if lhs="[var:selectedwarranty]" operator="gt" rhs="0">
          <alpha value="0" time="0" target="WARRANTY-PAGER-BOX/pager/[var:selectedwarranty]/warranty-btn/[var:selectedwarranty]/selected" />
          <alpha value="1" time=".2" target="WARRANTY-PAGER-BOX/pager/[var:selectedwarranty]/warranty-btn/[var:selectedwarranty]/button" />
          <!--<alert message="[var:selectedwarranty]" />-->
        </if>
        <translate xpos="101%" curve="linear" target="STEP-NAVBLOCK" />
        <set onclickup="null" target="STEP-NAVBLOCK" />
        <assign property="var:selectedwarranty" value="_index" />
        <assign property="var:warranty" value="_value" />
        <assign property="var:accessories" value="_accessories" />
        <assign property="var:warrantyname" value="_title" />
        <assign property="var:warrantycheck" encoding="url" value="_title" />
        <alpha value="1" time=".1" target="UPLOAD-CURTAIN" />
        <assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="Retrieving Accessories" />
        <if lhs="[var:warrantycheck]" operator="e" rhs="GAF%C2%AE%20Golden%20Pledge%C2%AE%20Limited%20Warranty">
          <alpha value="1" target="TEAROFF-BLOCK" />
          <if lhs="var:tearoff" operator="ne" rhs="yes">
            <play action="tearoff-on" />
            <!--<alert title="golden on" message="[var:tearoff]" />-->
          </if>
          <translate xpos="492" curve="linear" target="STEP-NAVBLOCK" />
          <set onclickup="warranty-message" target="STEP-NAVBLOCK" />
          <set onchange="tearoff-go" target="LAYERS/input" />
          <set onchange="tearoff-go" target="TYPE/input" />
          <else>
            <alpha value="0" target="TEAROFF-BLOCK" />
            <!--<play action="tearoff-off" />-->
            <!--<alert title="golden off" message="[var:tearoff]" />-->
            <translate xpos="101%" curve="linear" target="STEP-NAVBLOCK" />
            <set onclickup="null" target="STEP-NAVBLOCK" />
            <set onchange="null" target="LAYERS/input" />
            <set onchange="null" target="TYPE/input" />
          </else>
        </if>
        <if lhs="[datasource:productsdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:productsdb-delete.query" value="DELETE FROM PRODUCTS;" />
          <!--<alert message="from the if and deleting [datasource:productsdb-list.dataSourceResultCount]" />-->
          <else>
            <play action="selectwarranty-save" />
            <!--<alert message="from the else, nothing to delete" />-->
          </else>
        </if>
      </sync>
    </action>

    <action name="selectwarranty-save" datasource="productsdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <play action="released" />
        <if lhs="[var:accessories]" operator="gt" rhs="0">
          <alert message="You must select [var:accessories] accessories to qualify for the warranty you have chosen" />
        </if>
        <assign property="datasource:productsdb.query" value="INSERT INTO PRODUCTS (SHINGLE, COLOR, WARRANTY, IMAGE) VALUES ('[var:shingle]', '[var:color]', '[var:warranty]', '[var:productImage]');" />
        <if lhs="[var:warranty-set]" operator="e" rhs="no">
          <assign property="datasource:getAccessories.source" value="https://162.209.101.177/api/GetAccessoryByProduct?productId=[var:shingle]" />
          <assign property="var:warranty-set" value="yes" />
          <else>
            <play action="accessories-done" />
          </else>
        </if>
        <translate ypos="195" curve="linear" target="PRODUCTS-STEP-BLOCKER" />
      </if>
    </action>

    <action name="productquery" datasource="productsdb" datasourceevent="querycomplete">
      <assign property="datasource:productsdb-list.query" value="SELECT * FROM PRODUCTS ORDER BY ID DESC;" />
    </action>

    <action name="productlistquery" datasource="productsdb-list" datasourceevent="querycomplete" >
<!--         <alert message="products-list complete image is [database:productsdb-list.1.IMAGE], shingle is [database:productsdb-list.1.SHINGLE] color is [database:productsdb-list.1.COLOR] warranty is [database:productsdb-list.1.WARRANTY]" /> -->
    </action>

    <!-- !accessory actions -->
    <action name="accessories-done" datasource="getAccessories" datasourceevent="querycomplete" >
      <play action="sidebar-products" _alias="ACCESSORIES" _form="Accessories" />
      <alpha value="0" time=".1" target="UPLOAD-CURTAIN" />
      <assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="" />
    </action>

    <action name="accessories-error" datasource="getAccessories" datasourceevent="datasourceerror" >
      <alert title="Network Error" message="There was a problem connecting to the server.  Please check your network connection and try again." />
      <alpha value="0" time=".3" target="UPLOAD-CURTAIN" />
    </action>

    <action name="selectaccessories">
      <play action="released" />
      <assign property="var:accessorySelected" value="_value" />
      <assign property="object:ACCESSORYLIST/accessorytype.text" value="[datasource:getAccessories._value.AccessoryCategory]" />
      <assign property="object:ACCESSORYTYPEPAGER/acessory1/item.text" value="[datasource:getAccessories._value.AccessoryName]" />
      <assign property="object:ACCESSORYTYPEPAGER/acessory1/description.text" value="[datasource:getAccessories._value.Description]" />
      <assign property="var:cur-acc-cat" value="[datasource:getAccessories._value.AccessoryCategory]" />
      <assign property="var:coverage" value="_coverage" />
      <play action="blur" />
      <if lhs="[datasource:getAccessories._value.AccessoryCategory]" operator="e" rhs="Leak Barrier">
        <if lhs="[var:leakbarrier]" operator="gte" rhs="1">
          <assign property="object:UNITMEASURE.text" value="[var:leakbarrier] ft needed" />
          <assign property="object:UNITEQUALS.text" value="1 = _coverage ft _units" />
          <assign property="var:cur-leak-index" value="_value" />
          <assign property="var:autoquantity" value="[eval: Math.ceil([var:leakbarrier] / _coverage ) ]" />
          <assign property="object:ACCESSORYQUANTITY/input.text" value="[var:autoquantity]" />
          <assign property="object:ACCESSORY-UNIT.text" value="Units" />
          <!--<assign property="object:ACCESSORY-AUTOQUANTITY.text" value="[var:autoquantity] Units" />-->
          <else>
            <assign property="object:UNITMEASURE.text" value="" />
            <assign property="object:UNITEQUALS.text" value="1 = _coverage ft _units" />
            <assign property="object:ACCESSORY-UNIT.text" value="Units" />
            <assign property="var:cur-leak-index" value="_value" />
          </else>
        </if>
      </if>
      <if lhs="[datasource:getAccessories._value.AccessoryCategory]" operator="e" rhs="Roof Deck Protection">
        <if lhs="[var:squarestotal]" operator="gte" rhs="1">
          <assign property="object:UNITMEASURE.text" value="[var:squarestotal] sq needed" />
          <assign property="object:UNITEQUALS.text" value="1 roll = _coverage squares" />
          <assign property="var:cur-roofdeck-index" value="_value" />
          <assign property="var:autoquantity" value="[eval: Math.ceil( [var:squarestotal] / _coverage ) ]" />
          <assign property="object:ACCESSORYQUANTITY/input.text" value="[var:autoquantity]" />
          <assign property="object:ACCESSORY-UNIT.text" value="Rolls" />
          <!--<assign property="object:ACCESSORY-AUTOQUANTITY.text" value="[var:autoquantity] Rolls" />-->
          <else>
            <assign property="object:UNITMEASURE.text" value="" />
            <assign property="object:UNITEQUALS.text" value="1 roll = _coverage squares" />
            <assign property="object:ACCESSORY-UNIT.text" value="Rolls" />
            <assign property="var:cur-roofdeck-index" value="_value" />
          </else>
        </if>
      </if>
      <if lhs="[datasource:getAccessories._value.AccessoryCategory]" operator="e" rhs="Starter Strips">
        <if lhs="[var:starterstrips]" operator="gte" rhs="1">
          <assign property="object:UNITMEASURE.text" value="[var:starterstrips] ft needed" />
          <assign property="object:UNITEQUALS.text" value="1 = _coverage ft _units" />
          <assign property="var:cur-starter-index" value="_value" />
          <assign property="var:autoquantity" value="[eval: Math.ceil([var:starterstrips] / _coverage ) ]" />
          <assign property="object:ACCESSORYQUANTITY/input.text" value="[var:autoquantity]" />
          <assign property="object:ACCESSORY-UNIT.text" value="Units" />
          <!--<assign property="object:ACCESSORY-AUTOQUANTITY.text" value="[var:autoquantity] Units" />-->
          <else>
            <assign property="object:UNITMEASURE.text" value="" />
            <assign property="object:UNITEQUALS.text" value="1 = _coverage ft _units" />
            <assign property="object:ACCESSORY-UNIT.text" value="Units" />
            <assign property="var:cur-starter-index" value="_value" />
          </else>
        </if>
      </if>
      <if lhs="[datasource:getAccessories._value.AccessoryCategory]" operator="e" rhs="Ventilation">
        <assign property="object:UNITMEASURE.text" value="" />
        <assign property="object:UNITEQUALS.text" value="" />
        <assign property="var:cur-ventilation-index" value="_value" />
        <if lhs="[eval:('[datasource:getAccessories._value.AccessoryName]').indexOf('Cobra')]" operator="gte" rhs="0">
          <!--<alert message="It's a Cobra" />-->
          <if lhs="[eval:('[datasource:getAccessories._value.AccessoryName]').indexOf('Hip Vent')]" operator="gte" rhs="0">
            <if lhs="[var:hipvent-total]" operator="gte" rhs="1">
              <assign property="object:UNITMEASURE.text" value="[var:hipvent-total] ft needed" />
              <assign property="object:UNITEQUALS.text" value="1 = _coverage ft _units" />
              <assign property="var:autoquantity" value="[eval: Math.ceil([var:hipvent-total] / _coverage ) ]" />
              <assign property="object:ACCESSORYQUANTITY/input.text" value="[var:autoquantity]" />
              <assign property="object:ACCESSORY-UNIT.text" value="Units" />
              <!--<assign property="object:ACCESSORY-AUTOQUANTITY.text" value="[var:autoquantity] Units" />-->
              <else>
                <assign property="object:UNITMEASURE.text" value=" " />
                <assign property="object:UNITEQUALS.text" value="1 = _coverage ft _units" />
                <assign property="object:ACCESSORY-UNIT.text" value="Units" />
              </else>
            </if>
            <else>
              <if lhs="[eval:('[datasource:getAccessories._value.AccessoryName]').indexOf('FasciaFlow')]" operator="gte" rhs="0">
                <assign property="object:UNITMEASURE.text" value="" />
                <assign property="object:UNITEQUALS.text" value="" />
                <assign property="var:cur-ventilation-index" value="_value" />
                <alpha value="1" time=".25" target="ACCESSORYLIST" />
                <translate valign="center" time=".25" curve="easeout" target="ACCESSORYLIST" />
                <assign property="var:cur-fasciavent" value="[datasource:getAccessories._value.AccessoryName]" />
                <assign property="object:UNITEQUALS.text" value="1 = _coverage ft _units" />
                <assign property="object:ACCESSORY-UNIT.text" value="Units" />
                <assign property="var:curtainaction" value="accessorydismiss" />
                <else><!-- ridge vents -->
                  <if lhs="[var:ridgevent-total]" operator="gte" rhs="1">
                    <assign property="object:UNITMEASURE.text" value="[var:ridgevent-total] ft needed" />
                    <assign property="object:UNITEQUALS.text" value="1 = _coverage ft _units" />
                    <assign property="var:autoquantity" value="[eval: Math.ceil([var:ridgevent-total] / _coverage ) ]" />
                    <assign property="object:ACCESSORYQUANTITY/input.text" value="[var:autoquantity]" />
                    <assign property="object:ACCESSORY-UNIT.text" value="Units" />
                    <!--<assign property="object:ACCESSORY-AUTOQUANTITY.text" value="[var:autoquantity] Units" />-->
                    <assign property="var:cur-ridgevent" value="[datasource:getAccessories._value.AccessoryName]" />
                    <else>
                      <assign property="object:UNITMEASURE.text" value="" />
                      <assign property="object:UNITEQUALS.text" value="1 = _coverage ft _units" />
                      <assign property="object:ACCESSORY-UNIT.text" value="Units" />
                    </else>
                  </if>
                </else>
              </if>
            </else>
          </if>
        </if>
      </if>
      <if lhs="[datasource:getAccessories._value.AccessoryCategory]" operator="e" rhs="Ridge Cap">
        <if lhs="[var:ridgestotal]" operator="gte" rhs="1">
          <!--<play action="blur" />-->
          <assign property="object:UNITMEASURE.text" value="[var:ridgestotal] ft needed" />
          <assign property="object:UNITEQUALS.text" value="1 = _coverage ft _units" />
          <assign property="var:cur-ridgecap-index" value="_value" />
          <assign property="var:autoquantity" value="[eval: Math.ceil([var:ridgestotal] / _coverage ) ]" />
          <assign property="object:ACCESSORYQUANTITY/input.text" value="[var:autoquantity]" />
          <assign property="object:ACCESSORY-UNIT.text" value="Units" />
          <!--<assign property="object:ACCESSORY-AUTOQUANTITY.text" value="[var:autoquantity] Units" />-->
	        <else>
	          <assign property="object:UNITMEASURE.text" value="" />
            <assign property="object:UNITEQUALS.text" value="1 = _coverage ft _units" />
            <assign property="var:cur-ridgecap-index" value="_value" />
	        </else>
        </if>
      </if>
      <if lhs="[datasource:getAccessories._value.AccessoryCategory]" operator="e" rhs="Miscellaneous Accessory">
        <assign property="object:UNITMEASURE.text" value="" />
        <assign property="object:UNITEQUALS.text" value="" />
        <assign property="var:cur-ventilation-index" value="_value" />
        <assign property="object:ACCESSORY-UNIT.text" value="Units" />
      </if>
      <if lhs="[eval:('[datasource:getAccessories._value.AccessoryName]').indexOf('Master Flow')]" operator="gte" rhs="0">
        <assign property="var:cur-masterflow" value="[datasource:getAccessories._value.AccessoryName]" />
      </if>
      <alpha value="1" time=".25" target="ACCESSORYLIST" />
      <translate valign="center" time=".25" curve="easeout" target="ACCESSORYLIST" />
      <assign property="var:curtainaction" value="accessorydismiss" />
    </action>

    <action name="selectaccessory-delete-prev" datasource="accessoriesdb-deletelist" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <if lhs="[datasource:accessoriesdb-list.dataSourceResultCount]" operator="gte" rhs="1">
            <!--<alert title="2" message="DELETE FROM ACCESSORIES WHERE TYPE='[var:cur-acc-cat]';" />-->
            <assign property="datasource:accessoriesdb-delete.query" value="DELETE FROM ACCESSORIES WHERE TYPE='[var:cur-acc-cat]';" />
            <else>
              <play action="accessoriesdb-insert" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="selectaccessory-delete-prev2" datasource="accessoriesdb-deletelist-ridgevent" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <if lhs="[datasource:accessoriesdb-list.dataSourceResultCount]" operator="gt" rhs="0">
            <!--<alert title="count = [datasource:accessoriesdb-deletelist-ridgevent.dataSourceResultCount]" message="DELETE FROM ACCESSORIES WHERE NAME='[var:prev-ridgevent]';" />-->
            <assign property="datasource:accessoriesdb-delete.query" value="DELETE FROM ACCESSORIES WHERE NAME='[var:prev-ridgevent]';" />
            <else>
              <play action="accessoriesdb-insert" />
            </else>
          </if>
          <assign property="var:prev-ridgevent" value="[var:cur-ridgevent]" />
        </sync>
      </if>
    </action>

    <action name="selectaccessory-delete-prev3" datasource="accessoriesdb-deletelist-masterflow" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <if lhs="[datasource:accessoriesdb-deletelist-masterflow.dataSourceResultCount]" operator="gt" rhs="0">
            <assign property="datasource:accessoriesdb-delete.query" value="DELETE FROM ACCESSORIES WHERE NAME='[var:cur-masterflow]';" />
            <else>
              <play action="accessoriesdb-insert" />
            </else>
          </if>
          <!--<alert title="count = [datasource:accessoriesdb-deletelist-masterflow.dataSourceResultCount]" message="DELETE FROM ACCESSORIES WHERE NAME='[var:cur-masterflow]';" />-->
        </sync>
      </if>
    </action>

    <action name="selectaccessory-delete-prev4" datasource="accessoriesdb-deletelist-hipvent" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <!--<alert title="current hip vent" message="[var:cur-hipvent]" />-->
          <if lhs="[datasource:accessoriesdb-list.dataSourceResultCount]" operator="gte" rhs="1">
            <!--<alert title="count = [datasource:accessoriesdb-deletelist-hipvent.dataSourceResultCount]" message="DELETE FROM ACCESSORIES WHERE NAME='[var:cur-hipvent]';" />-->
            <assign property="datasource:accessoriesdb-delete.query" value="DELETE FROM ACCESSORIES WHERE NAME='[var:cur-hipvent]';" />
            <assign property="var:prev-hipvent" value="[datasource:getAccessories._value.AccessoryName]" />
            <else>
              <play action="accessoriesdb-insert" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="selectaccessory-delete-prev5" datasource="accessoriesdb-deletelist-fascia" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <!--<alert title="current fascia" message="[var:cur-fascia]" />-->
          <if lhs="[datasource:accessoriesdb-list.dataSourceResultCount]" operator="gte" rhs="1">
            <!--<alert title="count = [datasource:accessoriesdb-deletelist-hipvent.dataSourceResultCount]" message="DELETE FROM ACCESSORIES WHERE NAME='[var:cur-hipvent]';" />-->
            <assign property="datasource:accessoriesdb-delete.query" value="DELETE FROM ACCESSORIES WHERE NAME='[var:cur-fascia]';" />
            <assign property="var:prev-fascia" value="[datasource:getAccessories._value.AccessoryName]" />
            <else>
              <play action="accessoriesdb-insert" />
            </else>
          </if>
        </sync>
      </if>
    </action>

    <action name="gen-delete" datasource="accessoriesdb-gen-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <sync>
          <assign property="var:cur-acc-cat" value="" />
          <assign property="datasource:accessoriesdb-list.query" value="SELECT * FROM ACCESSORIES ORDER BY ID DESC;" />
        </sync>
      </if>
    </action>

    <action name="selectaccessory-save">
      <play action="released" />
      <if lhs="[object:ACCESSORYQUANTITY/input.text]" operator="ne" rhs="">
        <!-- <assign property="var:accessoryCount" value="[eval:[var:accessoryCount]+1]" /> -->
        <assign property="var:accessory-[var:accessoryCount]-Quantity" value="[object:ACCESSORYQUANTITY/input.text]" />
        <assign property="var:accessory-[var:accessoryCount]" value="[datasource:getAccessories.[var:accessorySelected].AccessoryId]" />
        <assign property="var:accessory-[var:accessoryCount]-Name" value="[datasource:getAccessories.[var:accessorySelected].AccessoryName]" />
        <assign property="var:accessory-[var:accessoryCount]-Type" value="[datasource:getAccessories.[var:accessorySelected].AccessoryCategory]" />

        <if lhs="[object:ACCESSORYQUANTITY/input.text]" operator="gt" rhs="0">
          <else>
            <play action="accessorydismiss" />
            <assign property="datasource:accessoriesdb-gen-delete.query" value="DELETE FROM ACCESSORIES WHERE NAME='[var:accessory-[var:accessoryCount]-Name]';" />
            <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:accessorySelected]/accessory-btn/test/selected" />
            <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:accessorySelected]/accessory-btn/test/button" />
          </else>
          <if lhs="[datasource:getAccessories.[var:accessorySelected].AccessoryCategory]" operator="e" rhs="Leak Barrier">
            <assign property="datasource:accessoriesdb-deletelist.query" value="SELECT * FROM ACCESSORIES WHERE TYPE='[datasource:getAccessories.[var:accessorySelected].AccessoryCategory]';" />
            <assign property="var:autocoverage" value="[eval: [object:ACCESSORYQUANTITY/input.text] * [var:coverage] ]" />
            <!--<alert title="1" message="[datasource:getAccessories.[var:accessorySelected].AccessoryCategory]" />-->
          </if>
          <if lhs="[datasource:getAccessories.[var:accessorySelected].AccessoryCategory]" operator="e" rhs="Roof Deck Protection">
            <assign property="datasource:accessoriesdb-deletelist.query" value="SELECT * FROM ACCESSORIES WHERE TYPE='[datasource:getAccessories.[var:accessorySelected].AccessoryCategory]';" />
            <assign property="var:autocoverage" value="[object:ACCESSORYQUANTITY/input.text]" />
          </if>
          <if lhs="[datasource:getAccessories.[var:accessorySelected].AccessoryCategory]" operator="e" rhs="Starter Strips">
            <assign property="datasource:accessoriesdb-deletelist.query" value="SELECT * FROM ACCESSORIES WHERE TYPE='[datasource:getAccessories.[var:accessorySelected].AccessoryCategory]';" />
            <assign property="var:autocoverage" value="[eval: [object:ACCESSORYQUANTITY/input.text] * [var:coverage] ]" />
          </if>
          <if lhs="[datasource:getAccessories.[var:accessorySelected].AccessoryCategory]" operator="e" rhs="Ventilation">
            <if lhs="[eval:('[datasource:getAccessories.[var:cur-ventilation-index].AccessoryName]').indexOf('Cobra')]" operator="gte" rhs="0">
              <!--<assign property="var:autocoverage" value="[eval: [object:ACCESSORYQUANTITY/input.text] * [var:coverage] ]" />-->
              <if lhs="[eval:('[datasource:getAccessories.[var:cur-ventilation-index].AccessoryName]').indexOf('Hip Vent')]" operator="gte" rhs="0">
                <sync>
                  <assign property="var:cur-hipvent" value="[datasource:getAccessories.[var:accessorySelected].AccessoryName]" />
                  <assign property="var:autocoverage" value="[eval: [object:ACCESSORYQUANTITY/input.text] * [var:coverage] ]" />
                  <assign property="datasource:accessoriesdb-deletelist-hipvent.query" value="SELECT * FROM ACCESSORIES WHERE NAME='[var:cur-hipvent]';" />
                </sync>
                <!--<play action="accessoriesdb-insert" />-->
                <else>
                  <play action="null" />
                  <!--<alert title="fascia = [eval:('[datasource:getAccessories.[var:cur-ventilation-index].AccessoryName]').indexOf('FasciaFlow')]" message="[datasource:getAccessories.[var:cur-ventilation-index].AccessoryName]" />-->
                  <if lhs="[eval:('[datasource:getAccessories.[var:cur-ventilation-index].AccessoryName]').indexOf('FasciaFlow')]" operator="gte" rhs="0">
                    <!--<alert title="fascia flow" message="name [var:accessory-[var:accessoryCount]-Name], type [var:accessory-[var:accessoryCount]-Type], count [var:accessory-[var:accessoryCount]], quantity [var:accessory-[var:accessoryCount]-Quantity]" />
                    <play action="accessoriesdb-insert" />-->
                    <sync>
                      <assign property="var:cur-fascia" value="[datasource:getAccessories.[var:accessorySelected].AccessoryName]" />
                      <assign property="var:autocoverage" value="[eval: [object:ACCESSORYQUANTITY/input.text] * [var:coverage] ]" />
                      <assign property="datasource:accessoriesdb-deletelist-fascia.query" value="SELECT * FROM ACCESSORIES WHERE NAME='[var:cur-fascia]';" />
                    </sync>
                    <else>
                      <assign property="datasource:accessoriesdb-deletelist-ridgevent.query" value="SELECT * FROM ACCESSORIES WHERE NAME='[var:cur-ridgevent]';" />
                      <assign property="var:autocoverage" value="[eval: [object:ACCESSORYQUANTITY/input.text] * [var:coverage] ]" />
                    </else>
                  </if>
                </else>
              </if>
              <else>
                <!--<play action="accessoriesdb-insert" />-->
                <!--<alert title="master flow" message="[var:cur-masterflow]" />-->
                <assign property="datasource:accessoriesdb-deletelist-masterflow.query" value="SELECT * FROM ACCESSORIES WHERE NAME='[var:cur-masterflow]';" />
                <assign property="var:autocoverage" value="[object:ACCESSORYQUANTITY/input.text]" />
              </else>
            </if>
          </if>
          <if lhs="[datasource:getAccessories.[var:accessorySelected].AccessoryCategory]" operator="e" rhs="Ridge Cap">
            <assign property="datasource:accessoriesdb-deletelist.query" value="SELECT * FROM ACCESSORIES WHERE TYPE='[datasource:getAccessories._value.AccessoryCategory]';" />
            <assign property="var:autocoverage" value="[eval: [object:ACCESSORYQUANTITY/input.text] * [var:coverage] ]" />
          </if>
          <if lhs="[datasource:getAccessories.[var:accessorySelected].AccessoryCategory]" operator="e" rhs="Miscellaneous Accessory">
            <assign property="datasource:accessoriesdb-deletelist.query" value="SELECT * FROM ACCESSORIES WHERE TYPE='[datasource:getAccessories._value.AccessoryCategory]';" />
            <assign property="var:autocoverage" value="[object:ACCESSORYQUANTITY/input.text]" />
          </if>
          <!-- 	  <alert message="var:accessory-[var:accessoryCount] is [var:accessory-[var:accessoryCount]]" /> -->
          <if lhs="[eval:[var:accessories]-[var:accessoryCount]]" operator="gt" rhs="0">
            <else>
            	<alpha value="1" time=".10" target="AC-SEL-MODAL" />
            	<alpha value="0" time=".25" delay=".6" target="AC-SEL-MODAL" />
            </else>
          </if>
          <play action="accessorydismiss" />
        </if>
        <else>
          <alert message="Please select a quantity" />
        </else>
      </if>
    </action>

    <action name="accessorydismiss">
		  <keyboard visible="no" target="ACCESSORYQUANTITY/input" />
      <translate ypos="18%" time=".25" curve="easeout" target="ACCESSORYLIST" />
      <sync>
        <alpha value="0" time=".20" target="ACCESSORYLIST" />
        <alpha value="1" target="ACCESSORYQUANTITY/bg" />
        <alpha value="1" target="ACCESSORYQUANTITY/active" />
        <assign property="object:ACCESSORYQUANTITY/input.text" value="" />
        <play action="focus" />
      </sync>
    </action>

    <action name="accessoriesdb-insert" datasource="accessoriesdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <!--<alert title="auto coverage" message="[var:autocoverage]" />-->
        <if lhs="[var:accessory-[var:accessoryCount]-Name]" operator="ne" rhs="">
          <!--<alert title="insert [var:accessory-[var:accessoryCount]-Name]" message="INSERT INTO ACCESSORIES (NAME, TYPE, ACCESSORY, QUANTITY) VALUES ('[var:accessory-[var:accessoryCount]-Name]', '[var:accessory-[var:accessoryCount]-Type]', '[var:accessory-[var:accessoryCount]]', '[var:accessory-[var:accessoryCount]-Quantity]');" />-->
          <assign property="datasource:accessoriesdb.query" value="INSERT INTO ACCESSORIES (NAME, TYPE, ACCESSORY, QUANTITY, CALCQUANTITY) VALUES ('[var:accessory-[var:accessoryCount]-Name]', '[var:accessory-[var:accessoryCount]-Type]', '[var:accessory-[var:accessoryCount]]', '[var:accessory-[var:accessoryCount]-Quantity]', '[var:autocoverage]');" />
          <sync>
            <assign property="var:acc-count-increment" value="[eval: [var:acc-count-increment] + 1]" />
            <assign property="var:acc-count-track-[var:acc-count-increment]" value="[var:accessoryCount]" />
          </sync>
        </if>
      </if>
    </action>

    <action name="accessoriesdb-complete" datasource="accessoriesdb" datasourceevent="querycomplete" >
		  <assign property="datasource:accessoriesdb-list.query" value="SELECT * FROM ACCESSORIES ORDER BY ID DESC;" />
		  <assign property="var:autocoverage" value="" />
		  <!--<alert title="accessory db total" message="[datasource:accessoriesdb-list.dataSourceResultCount]" />-->
    </action>

    <action name="accessoriesdb-list-complete" datasource="accessoriesdb-list" datasourceevent="querycomplete" >
      <sync>
        <!--<if lhs="[var:loaded]" operator="e" rhs="yes">
          <alert title="CALCQUANTITY FROM DB" message="[datasource:accessoriesdb-list.1.CALCQUANTITY]" />
        </if>-->
        <if lhs="[var:cur-acc-cat]" operator="e" rhs="Leak Barrier">
          <if lhs="[var:cur-leak-index]" operator="!=" rhs="[var:prev-leak-index]">
            <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-leak-index]/accessory-btn/test/button" />
            <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-leak-index]/accessory-btn/test/selected" />
            <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:prev-leak-index]/accessory-btn/test/selected" />
            <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:prev-leak-index]/accessory-btn/test/button" />
            <assign property="var:prev-leak-index" value="[var:cur-leak-index]" />
          </if>
        </if>
        <if lhs="[var:cur-acc-cat]" operator="e" rhs="Roof Deck Protection">
          <if lhs="[var:cur-roofdeck-index]" operator="!=" rhs="[var:prev-roofdeck-index]">
            <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-roofdeck-index]/accessory-btn/test/button" />
            <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-roofdeck-index]/accessory-btn/test/selected" />
            <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:prev-roofdeck-index]/accessory-btn/test/selected" />
            <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:prev-roofdeck-index]/accessory-btn/test/button" />
            <assign property="var:prev-roofdeck-index" value="[var:cur-roofdeck-index]" />
          </if>
        </if>
        <if lhs="[var:cur-acc-cat]" operator="e" rhs="Starter Strips">
          <if lhs="[var:cur-starter-index]" operator="!=" rhs="[var:prev-starter-index]">
            <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-starter-index]/accessory-btn/test/button" />
            <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-starter-index]/accessory-btn/test/selected" />
            <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:prev-starter-index]/accessory-btn/test/selected" />
            <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:prev-starter-index]/accessory-btn/test/button" />
            <assign property="var:prev-starter-index" value="[var:cur-starter-index]" />
          </if>
        </if>
        <if lhs="[var:cur-acc-cat]" operator="e" rhs="Ventilation">
          <if lhs="[var:cur-ventilation-index]" operator="!=" rhs="[var:prev-ventilation-index]">
            <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-ventilation-index]/accessory-btn/test/button" />
            <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-ventilation-index]/accessory-btn/test/selected" />

            <if lhs="[eval:('[datasource:getAccessories.[var:cur-ventilation-index].AccessoryName]').indexOf('Cobra')]" operator="gte" rhs="0">
              <if lhs="[eval:('[datasource:getAccessories.[var:cur-ventilation-index].AccessoryName]').indexOf('Hip Vent')]" operator="gte" rhs="0">
                <!--<alert title="hip vent yes = 0" message="[eval:('[datasource:getAccessories.[var:cur-ventilation-index].AccessoryName]').indexOf('Hip Vent')]" />-->
                <play action="null" />
                <else>
                  <!--<alert message="moving past hip vent" />-->
                  <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-starter-index]/accessory-btn/test/button" />
                  <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-starter-index]/accessory-btn/test/selected" />
                  <if lhs="[eval:('[datasource:getAccessories.[var:cur-ventilation-index].AccessoryName]').indexOf('FasciaFlow')]" operator="gte" rhs="0">
                    <play action="null" />
                    <else>
                      <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:prev-ventilation-index]/accessory-btn/test/selected" />
                      <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:prev-ventilation-index]/accessory-btn/test/button" />
                      <assign property="var:prev-ventilation-index" value="[var:cur-ventilation-index]" />
                      <!--<alert message="deselect other ridge vent option" />-->
                    </else>
                  </if>
                </else>
              </if>
            </if>

          </if>
        </if>
        <if lhs="[var:cur-acc-cat]" operator="e" rhs="Ridge Cap">
          <if lhs="[var:cur-ridgecap-index]" operator="!=" rhs="[var:prev-ridgecap-index]">
            <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-ridgecap-index]/accessory-btn/test/button" />
            <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-ridgecap-index]/accessory-btn/test/selected" />
            <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:prev-ridgecap-index]/accessory-btn/test/selected" />
            <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:prev-ridgecap-index]/accessory-btn/test/button" />
            <assign property="var:prev-ridgecap-index" value="[var:cur-ridgecap-index]" />
            <!--<alert message="ACCESSORIES-PAGER-BOX/pager/accessory[var:prev-ridgecap-index]/accessory-btn/test/button" />-->
          </if>
        </if>
        <if lhs="[var:cur-acc-cat]" operator="e" rhs="Miscellaneous Accessory">
          <if lhs="[var:cur-ventilation-index]" operator="!=" rhs="[var:prev-ventilation-index]">
            <alpha value="0" time="0" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-ventilation-index]/accessory-btn/test/button" />
            <alpha value="1" time=".2" target="ACCESSORIES-PAGER-BOX/pager/accessory[var:cur-ventilation-index]/accessory-btn/test/selected" />
          </if>
        </if>
      </sync>
      <!--
        <if lhs="[datasource:accessoriesdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <alert message="accessoriesdb-list count is [datasource:accessoriesdb-list.dataSourceResultCount] quantity for 1 is [datasource:accessoriesdb-list.1.QUANTITY], id is [datasource:accessoriesdb-list.1.ACCESSORY], name is [datasource:accessoriesdb-list.1.NAME], type is [datasource:accessoriesdb-list.1.TYPE]" />
        </if>
      -->
	  <assign property="var:accessoryCount" value="[datasource:accessoriesdb-list.dataSourceResultCount]" />
<!-- 	  <alert message="var:accessoryCount is now [var:accessoryCount], var:accessories is [var:accessories]" /> -->
    </action>

    <!-- !options actions -->
    <action name="selectoptions">
      <play action="released" />
    </action>

    <!-- !summary -->
    <action name="estimate">
      <play action="released" />
      <alpha value="1" target="UPLOAD-CURTAIN" />
      <assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="Sending Roof Measurements..." />
      <assign property="datasource:miscAccessoriesdb-list.query" value="SELECT * FROM ACCESSORIES WHERE TYPE ='Miscellaneous Accessory'" />
      <assign property="datasource:nonMiscAccessoriesdb-list.query" value="SELECT * FROM ACCESSORIES WHERE TYPE != 'Miscellaneous Accessory' AND ID != '';" />
      <sync>
        <!-- <alert message="[datasource:inspectiondb-list.dataSourceResultCount]" /> -->
        <if lhs="[datasource:inspectiondb-list.dataSourceResultCount]" operator="gt" rhs="0">
	        <assign property="var:existingRoofType" value="[datasource:inspectiondb-list.1.ROOFTYPE]" />
	        <assign property="var:numberOfFloors" value="[datasource:inspectiondb-list.1.FLOORS]" />
        </if>
        <if lhs="[datasource:wastedb-list.dataSourceResultCount]" operator="gt" rhs="0">
          	<assign property="var:wasteFactor" value="[eval:[datasource:wastedb-list.1.PERCENT]/100]" />
        </if>
        <if lhs="[datasource:roofareasdb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <!-- <alert message="roofarea count is [datasource:roofareasdb-list.dataSourceResultCount]" /> -->
          <assign property="var:roofMeasurementsIterateCount" value="1" />
          <play action="formatRoofMeasurements" />
          <else>
            <!-- <alert message="roofareasdb-list is empty" /> -->
          	<assign property="var:roofMeasurementsObject" value="&quot;RoofMeasurements&quot;: []" />
          	<play action="prepRidgeMeasurements" />
          </else>
        </if>
      </sync>
    </action>

    <action name="formatRoofMeasurements" >
      <loop lhs="[var:roofMeasurementsIterateCount]" operator="lte" rhs="[datasource:roofareasdb-list.dataSourceResultCount]" >
      	<assign property="var:roofMeasurementsJSON" value="[var:roofMeasurementsJSON][eval:[var:roofMeasurementsIterateCount] == 1 ? '':','][template:roofMeasurements.content]" />
      	<assign property="var:roofMeasurementsIterateCount" value="[eval: [var:roofMeasurementsIterateCount] +1]" />
<!--       	<alert message="var:roofMeasurementsJSON is [var:roofMeasurementsJSON]" /> -->
      </loop>
      <assign property="var:roofMeasurementsObject" value="&quot;RoofMeasurements&quot;: [[var:roofMeasurementsJSON]]" />
      <play action="prepRidgeMeasurements" />
    </action>

		<action name="prepRidgeMeasurements" >
			<if lhs="[datasource:ridgesdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:ridgeMeasurementsIterateCount" value="1" />
				<play action="formatRidgeMeasurements" />
				<else>
					<assign property="var:ridgeMeasurementsObject" value="&quot;RidgeMeasurements&quot;: []" />
<!-- 					<alert message="ridgesdb-list is empty" /> -->
					<play action="prepHips" />
				</else>
			</if>
		</action>

		<action name="formatRidgeMeasurements" >
			<loop lhs="[var:ridgeMeasurementsIterateCount]" operator="lte" rhs="[datasource:ridgesdb-list.dataSourceResultCount]" >
				<assign property="var:ridgeMeasurementsJSON" value="[var:ridgeMeasurementsJSON][eval:[var:ridgeMeasurementsIterateCount] == 1 ? '':','][template:ridgeMeasurements.content]" />
				<assign property="var:ridgeMeasurementsIterateCount" value="[eval: [var:ridgeMeasurementsIterateCount] +1]" />
			</loop>
			<assign property="var:ridgeMeasurementsObject" value="&quot;RidgeMeasurements&quot;: [[var:ridgeMeasurementsJSON]]" />
			<play action="prepHips" />
		</action>

		<action name="prepHips" >
			<if lhs="[datasource:hipsdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:hipsIterateCount" value="1" />
				<play action="formatHips" />
				<else>
					<assign property="var:hipsObject" value="&quot;Hips&quot;: []" />
<!-- 					<alert message="hipsdb-list is empty" /> -->
					<play action="prepValleys" />
				</else>
			</if>
		</action>

		<action name="formatHips" >
			<loop lhs="[var:hipsIterateCount]" operator="lte" rhs="[datasource:hipsdb-list.dataSourceResultCount]" >
				<assign property="var:hipsJSON" value="[var:hipsJSON][eval:[var:hipsIterateCount] == 1 ? '':','][template:hips.content]" />
				<assign property="var:hipsIterateCount" value="[eval: [var:hipsIterateCount] +1]" />
			</loop>
			<assign property="var:hipsObject" value="&quot;Hips&quot;: [[var:hipsJSON]]" />
			<play action="prepValleys" />
		</action>

		<action name="prepValleys" >
			<if lhs="[datasource:valleysdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:valleysIterateCount" value="1" />
				<play action="formatValleys" />
				<else>
					<assign property="var:valleysObject" value="&quot;Valleys&quot;: []" />
<!-- 					<alert message="valleysdb-list is empty" /> -->
					<play action="prepRakes" />
				</else>
			</if>
		</action>

		<action name="formatValleys" >
			<loop lhs="[var:valleysIterateCount]" operator="lte" rhs="[datasource:valleysdb-list.dataSourceResultCount]" >
				<assign property="var:valleysJSON" value="[var:valleysJSON][eval:[var:valleysIterateCount] == 1 ? '':','][template:valleys.content]" />
				<assign property="var:valleysIterateCount" value="[eval: [var:valleysIterateCount] +1]" />
			</loop>
			<assign property="var:valleysObject" value="&quot;Valleys&quot;: [[var:valleysJSON]]" />
			<play action="prepRakes" />
		</action>

		<action name="prepRakes" >
			<if lhs="[datasource:rakesdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:rakesIterateCount" value="1" />
				<play action="formatRakes" />
				<else>
					<assign property="var:rakesObject" value="&quot;Rakes&quot;: []" />
<!-- 					<alert message="rakesdb-list is empty" /> -->
					<play action="prepEaves" />
				</else>
			</if>
		</action>

		<action name="formatRakes" >
			<loop lhs="[var:rakesIterateCount]" operator="lte" rhs="[datasource:rakesdb-list.dataSourceResultCount]" >
				<assign property="var:rakesJSON" value="[var:rakesJSON][eval:[var:rakesIterateCount] == 1 ? '':','][template:rakes.content]" />
				<assign property="var:rakesIterateCount" value="[eval: [var:rakesIterateCount] +1]" />
			</loop>
			<assign property="var:rakesObject" value="&quot;Rakes&quot;: [[var:rakesJSON]]" />
			<play action="prepEaves" />
		</action>

		<action name="prepEaves" >
			<if lhs="[datasource:eavesdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:eavesIterateCount" value="1" />
				<play action="formatEaves" />
				<else>
					<assign property="var:eavesObject" value="&quot;Eaves&quot;: []" />
<!-- 					<alert message="eavesdb-list is empty" /> -->
					<play action="prepSkylights" />
				</else>
			</if>
		</action>

		<action name="formatEaves" >
			<loop lhs="[var:eavesIterateCount]" operator="lte" rhs="[datasource:eavesdb-list.dataSourceResultCount]" >
				<assign property="var:eavesJSON" value="[var:eavesJSON][eval:[var:eavesIterateCount] == 1 ? '':','][template:eaves.content]" />
				<assign property="var:eavesIterateCount" value="[eval: [var:eavesIterateCount] +1]" />
			</loop>
			<assign property="var:eavesObject" value="&quot;Eaves&quot;: [[var:eavesJSON]]" />
			<play action="prepSkylights" />
		</action>

		<action name="prepSkylights" >
			<if lhs="[datasource:protrusionsdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:skylightsIterateCount" value="1" />
				<play action="formatSkylights" />
				<else>
<!-- 					<alert message="protrusionsdb-list is empty" /> -->
					<assign property="var:skylightsObject" value="&quot;Skylights&quot;: []" />
					<play action="prepPlumbingVents" />
				</else>
			</if>
		</action>

		<action name="formatSkylights" >
			<loop lhs="[var:skylightsIterateCount]" operator="lte" rhs="[datasource:protrusionsdb-list.dataSourceResultCount]" >
				<assign property="var:skylightsJSON" value="[var:skylightsJSON][eval:[var:skylightsIterateCount] == 1 ? '':','][template:skylights.content]" />
				<assign property="var:skylightsIterateCount" value="[eval: [var:skylightsIterateCount] +1]" />
			</loop>
			<assign property="var:skylightsObject" value="&quot;Skylights&quot;: [[var:skylightsJSON]]" />
			<play action="prepPlumbingVents" />
		</action>

		<action name="prepPlumbingVents" >
			<if lhs="[datasource:ventsdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:plumbingVentsIterateCount" value="1" />
				<play action="formatPlumbingVents" />
				<else>
<!-- 					<alert message="ventsdb is empty" /> -->
					<assign property="var:plumbingVentsObject" value="&quot;PlumbingVents&quot;: []" />
					<play action="sendMeasurements" />
				</else>
			</if>
		</action>

		<action name="formatPlumbingVents" >
			<loop lhs="[var:plumbingVentsIterateCount]" operator="lte" rhs="[datasource:ventsdb-list.dataSourceResultCount]" >
				<assign property="var:plumbingVentsJSON" value="[var:plumbingVentsJSON][eval:[var:plumbingVentsIterateCount] == 1 ? '':','][template:plumbingVents.content]" />
				<assign property="var:plumbingVentsIterateCount" value="[eval: [var:plumbingVentsIterateCount] +1]" />
			</loop>
			<assign property="var:plumbingVentsObject" value="&quot;PlumbingVents&quot;: [[var:plumbingVentsJSON]]" />
<!-- 			<assign property="object:JSON.text" value="[var:roofMeasurementsObject]&#10;&#10;[var:ridgeMeasurementsObject]&#10;&#10;[var:hipsObject]&#10;&#10;[var:valleysObject]&#10;&#10;[var:rakesObject]&#10;&#10;[var:eavesObject]&#10;&#10;[var:skylightsObject]&#10;&#10;[var:plumbingVentsObject]" /> -->
			<play action="sendMeasurements" />
		</action>

		<action name="sendMeasurements" >
			<assign property="var:measurementsJSON" value="[template:measurementsJSON.content]"/>
			<assign property="datasource:updateMeasurements.postContent" value="[var:measurementsJSON]" />
			<assign property="datasource:updateMeasurements.source" value="https://162.209.101.177/api/UpdateMeasurements" />
<!-- 			<email subject="measurements" body="measurements\n\n[var:measurementsJSON]" toaddress="mlong@rarewire.com" /> -->
		</action>

		<action name="updateMeasurements-complete" datasource="updateMeasurements" datasourceevent="querycomplete" >
			<if lhs="[datasource:updateMeasurements.1.ResponseCode]" operator="e" rhs="100">
<!-- 				<alert message="updateMeasurements-complete content [datasource:updateMeasurements.0.content]" /> -->
				<assign property="var:measurementId" value="[datasource:updateMeasurements.1.MeasurementId]" />
				<assign property="var:measurementsJSON" value="" />
				<assign property="var:roofMeasurementsJSON" value="" />
				<assign property="var:ridgeMeasurementsJSON" value="" />
				<assign property="var:hipsJSON" value="" />
				<assign property="var:valleysJSON" value="" />
				<assign property="var:rakesJSON" value="" />
				<assign property="var:eavesJSON" value="" />
				<assign property="var:skylightsJSON" value="" />
				<assign property="var:plumbingVentsJSON" value="" />
				<play action="prepPhotos" />
				<else>
<!-- 		  	<play action="prepPhotos" /> -->
				  <alpha value="0" target="UPLOAD-CURTAIN" />
				  <alert message="There was a problem updating your measurements, please verify that all information is present and accurate [datasource:updateMeasurements.1.MeasurementId]" />
				  <assign property="var:measurementsJSON" value="" />
				  <assign property="var:roofMeasurementsJSON" value="" />
				  <assign property="var:ridgeMeasurementsJSON" value="" />
				  <assign property="var:hipsJSON" value="" />
				  <assign property="var:valleysJSON" value="" />
				  <assign property="var:rakesJSON" value="" />
				  <assign property="var:eavesJSON" value="" />
				  <assign property="var:skylightsJSON" value="" />
				  <assign property="var:plumbingVentsJSON" value="" />
				</else>
			</if>
		</action>

		<action name="updateMeasurements-error" datasource="updateMeasurements" datasourceevent="datasourceerror" >
		  <assign property="var:measurementsJSON" value="" />
		  <assign property="var:roofMeasurementsJSON" value="" />
		  <assign property="var:ridgeMeasurementsJSON" value="" />
		  <assign property="var:hipsJSON" value="" />
		  <assign property="var:valleysJSON" value="" />
		  <assign property="var:rakesJSON" value="" />
		  <assign property="var:eavesJSON" value="" />
		  <assign property="var:skylightsJSON" value="" />
		  <assign property="var:plumbingVentsJSON" value="" />
			<alert title="Network Error" message="There was a problem connecting to the server.  Please check your network connection and try again." />
			<alpha value="0" time=".3" target="UPLOAD-CURTAIN" />
		</action>

		<!-- !prepPhotos -->
		<action name="prepPhotos">
			<assign property="var:photoCount" value="[datasource:photosdb-list.dataSourceResultCount]" />
			<assign property="var:photoIterateCount" value="1" />
			<assign property="httpheader:formSubmit.Token" value="[preferences:token]" />
			<assign property="httpheader:formSubmit.ContractorId" value="[preferences:contractorId]" />
			<if lhs="[var:photoCount]" operator="gt" rhs="0">
				<assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="Uploading Photo [var:photoIterateCount]" />
				<play action="upload-photo" />
				<else>
<!-- 					<alert message="photosdb empty" /> -->
					<assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="Generating Estimate..." />
					<play action="formatEstimate" />
				</else>
			</if>
		</action>

		<action name="upload-photo" >
			<if lhs="[var:photoIterateCount]" operator="lte" rhs="[var:photoCount]">
				<assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="Uploading Photo [var:photoIterateCount]" />
				<assign property="httpheader:formSubmit.CustomerId" value="[var:customerId]" />
				<assign property="datasource:uploadPhoto.postFile" value="[datasource:photosdb-list.[var:photoIterateCount].PHOTO]"/>
				<assign property="datasource:uploadPhoto.source" value="https://162.209.101.177/api/UploadPhoto" />
				<else>
<!-- 					<alert message="all photos have been uploaded." /> -->
					<assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="Generating Estimate..." />
					<play action="formatEstimate" />
				</else>
			</if>
		</action>

		<action name="photoupload-complete" datasource="uploadPhoto" datasourceevent="querycomplete" >
      <!-- <alert message="upload [var:photoIterateCount] complete [datasource:uploadPhoto.0.content]" /> -->
      <!-- <if lhs="[datasource:uploadPhoto.0.content]" operator="e" rhs="100"> -->
			<assign property="var:photoIterateCount" value="[eval: [var:photoIterateCount]+1]" />
			<play action="upload-photo" />
      <!-- </if> -->
		</action>

		<action name="photoupload-error" datasource="uploadPhoto" datasourceevent="datasourceerror" >
			<alert title="Network Error" message="There was a problem connecting to the server.  Please check your network connection and try again." />
			<alpha value="0" time=".3" target="UPLOAD-CURTAIN" />
		</action>

		<!-- !formatEstimate -->
		<action name="formatEstimate" >
			<if lhs="[datasource:productsdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:shingle" value="[datasource:productsdb-list.1.SHINGLE]" />
				<assign property="var:warranty" value="[datasource:productsdb-list.1.WARRANTY]" />
			</if>
			<if lhs="[datasource:tearoffdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<if lhs="[datasource:tearoffdb-list.1.TEAROFF]" operator="e" rhs="yes">
					<assign property="var:tearOffLayers" value="[datasource:tearoffdb-list.1.LAYERS]" />
					<assign property="var:tearOffType" value="[datasource:tearoffdb-list.1.MATERIAL]" />
					<else>
						<assign property="var:tearOffLayers" value="0" />
						<assign property="var:tearOffType" value="0" />
					</else>
				</if>
			</if>
<!-- 			<alert message="var:shingle is [var:shingle], var:warranty is [var:warranty] var:tearOffLayers is [var:tearOffLayers] var:tearOffType is [var:tearOffType] var:numberOfFloors is [var:numberOfFloors]" /> -->
			<if lhs="[datasource:nonMiscAccessoriesdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:accessoriesIterateCount" value="1" />
				<play action="formatAccessories" />
				<else>
					<assign property="var:accessoriesObject" value="&quot;Accessories&quot;: []" />
					<play action="prepMiscAccessories" />
				</else>
			</if>
		</action>

		<action name="formatAccessories" >
<!-- 			<alert message="formatAccessories var:accessoriesIterateCount is [var:accessoriesIterateCount] datasource:accessoriesdb-list.dataSourceResultCount is [datasource:accessoriesdb-list.dataSourceResultCount]" /> -->
			<loop lhs="[var:accessoriesIterateCount]" operator="lte" rhs="[datasource:nonMiscAccessoriesdb-list.dataSourceResultCount]" >
<!-- 				<alert message="var:accessoriesIterateCount is [var:accessoriesIterateCount]" />  -->
				<assign property="var:accessoriesJSON" value="[var:accessoriesJSON][eval:[var:accessoriesIterateCount] == 1 ? '':','][template:accessories.content]" />
				<assign property="var:accessoriesIterateCount" value="[eval: [var:accessoriesIterateCount] +1]" />
			</loop>
			<assign property="var:accessoriesObject" value="&quot;Accessories&quot;: [[var:accessoriesJSON]]" />
<!-- 			<alert message="var:accessoriesObject is [var:accessoriesObject]" /> -->
			<play action="prepMiscAccessories" />
		</action>

		<action name="prepMiscAccessories" >
<!-- 			<alert message="prepMiscAccessories datasource:miscAccessoriesdb-list.dataSourceResultCount is [datasource:miscAccessoriesdb-list.dataSourceResultCount]" /> -->
			<if lhs="[datasource:miscAccessoriesdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:miscAccessoriesIterateCount" value="1" />
				<play action="formatMiscAccessories" />
				<else>
					<assign property="var:miscAccessoriesObject" value="&quot;MiscellaneousAccessories&quot;: []" />
<!-- 					<alert message="datasource:miscAccessoriesdb-list.dataSourceResultCount is lte 0 so var:miscAccessoriesObject is [var:miscAccessoriesObject]" /> -->
					<play action="prepAdjustments" />
				</else>
			</if>
		</action>

		<action name="formatMiscAccessories" >
<!-- 			<alert message="formatMiscAccessories var:miscAccessoriesIterateCount is [var:miscAccessoriesIterateCount] datasource:miscAccessoriesdb-list.dataSourceResultCount is [datasource:miscAccessoriesdb-list.dataSourceResultCount]" /> -->
			<loop lhs="[var:miscAccessoriesIterateCount]" operator="lte" rhs="[datasource:miscAccessoriesdb-list.dataSourceResultCount]" >
<!-- 				<alert message="var:miscAccessoriesIterateCount is [var:miscAccessoriesIterateCount]" /> -->
				<assign property="var:miscAccessoriesJSON" value="[var:miscAccessoriesJSON][eval:[var:miscAccessoriesIterateCount] == 1 ? '':','][template:miscAccessories.content]" />
				<assign property="var:miscAccessoriesIterateCount" value="[eval: [var:miscAccessoriesIterateCount] +1]" />
			</loop>
			<assign property="var:miscAccessoriesObject" value="&quot;MiscellaneousAccessories&quot;: [[var:miscAccessoriesJSON]]" />
<!-- 			<alert message="var:miscAccessoriesObject is [var:miscAccessoriesObject]" /> -->
			<play action="prepAdjustments" />
		</action>

		<action name="prepAdjustments" >
			<if lhs="[datasource:adjustmentsdb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:adjustmentsIterateCount" value="1" />
				<play action="formatAdjustments" />
				<else>
					<assign property="var:adjustmentsObject" value="&quot;PriceAjustments&quot;: []" />
<!-- 					<alert message="var:accessoriesObject is [var:accessoriesObject] var:adjustmentsObject is [var:adjustmentsObject]" /> -->
					<play action="prepPlywood" />
				</else>
			</if>
		</action>

		<action name="formatAdjustments" >
<!-- 			<alert message="formatAdjustments" /> -->
			<loop lhs="[var:adjustmentsIterateCount]" operator="lte" rhs="[datasource:adjustmentsdb-list.dataSourceResultCount]" >
				<assign property="var:adjustmentsJSON" value="[var:adjustmentsJSON][eval:[var:adjustmentsIterateCount] == 1 ? '':','][template:adjustments.content]" />
				<assign property="var:adjustmentsIterateCount" value="[eval: [var:adjustmentsIterateCount] +1]" />
			</loop>
			<assign property="var:adjustmentsObject" value="&quot;PriceAjustments&quot;: [[var:adjustmentsJSON]]" />
<!-- 			<alert message="var:accessoriesJSON is [var:accessoriesJSON] var:adjustmentsJSON is [var:adjustmentsJSON]" /> -->
			<play action="prepPlywood" />
		</action>

		<action name="prepPlywood" >
<!-- 			<alert message="prepPlywood count is [datasource:plywooddb-list.dataSourceResultCount]" /> -->
			<if lhs="[datasource:plywooddb-list.dataSourceResultCount]" operator="gt" rhs="0">
				<assign property="var:plywoodIterateCount" value="1" />
				<play action="formatPlywood" />
				<else>
					<assign property="var:plywoodObject" value="&quot;PlywoodSheathings&quot;: []" />
<!-- 					<alert message="var:accessoriesObject is [var:accessoriesObject] var:adjustmentsObject is [var:adjustmentsObject]" /> -->
					<play action="finishEstimate" />
				</else>
			</if>
		</action>

		<action name="formatPlywood" >
<!-- 			<alert message="formatPlywood var:plywoodIterateCount is [var:plywoodIterateCount] datasource:plywooddb-list.dataSourceResultCount is [datasource:plywooddb-list.dataSourceResultCount]" /> -->
			<loop lhs="[var:plywoodIterateCount]" operator="lte" rhs="[datasource:plywooddb-list.dataSourceResultCount]" >
<!-- 				<alert message="var:plywoodIterateCount is [var:plywoodIterateCount] {&quot;PlywoodSheathingType&quot;:&quot;[datasource:plywooddb-list.[var:plywoodIterateCount].WOOD]&quot;,&quot;MeasurementType&quot;:&quot;[datasource:plywooddb-list.[var:plywoodIterateCount].MEASUREMENT]&quot;,&quot;Quantity&quot;:&quot;[datasource:plywooddb-list.[var:plywoodIterateCount].QUANTITY]&quot;}" /> -->
				<assign property="var:plywoodJSON" value="[var:plywoodJSON][eval:[var:plywoodIterateCount] == 1 ? '':','][template:plywood.content]" />
				<assign property="var:plywoodIterateCount" value="[eval: [var:plywoodIterateCount] + 1]" />
			</loop>
			<assign property="var:plywoodObject" value="&quot;PlywoodSheathings&quot;: [[var:plywoodJSON]]" />
			<!-- <alert message="var:accessoriesJSON is [var:accessoriesJSON] var:adjustmentsJSON is [var:adjustmentsJSON]" />-->
			<play action="finishEstimate" />
		</action>


		<!-- !finish estimate -->
		<action name="finishEstimate" >
			<assign property="var:estimateJSON" value="[template:estimateJSON.content]" />
			<assign property="datasource:generateEstimate.postContent" value="[var:estimateJSON]" />
			<assign property="datasource:generateEstimate.source" value="https://162.209.101.177/api/GenerateEstimate" />
      <email subject="estimate and measurements json" body="estimate\n\n[var:estimateJSON]" toaddress="dwalruff@rarewire.com" />
		</action>

		<action name="estimate-complete" datasource="generateEstimate" datasourceevent="querycomplete">
			<assign property="object:UPLOAD-CURTAIN/photo-progress.text" value="Retrieving Estimate..." />
			<assign property="var:estimateJSON" value="" />
			<assign property="var:accessoriesJSON" value="" />
			<assign property="var:miscAccessoriesJSON" value="" />
			<assign property="var:adjustmentsJSON" value="" />
			<assign property="var:plywoodJSON" value="" />
			<if lhs="[datasource:generateEstimate.1.ResponseCode]" operator="e" rhs="100">
<!-- 				<alert message="estimate received" /> -->
				<sync delay="5" >
					<play action="download-pdf" />
				</sync>
				<else>
					<alert message="There was an error generating your estimate. Please try again later. [datasource:generateEstimate.0.content]" />
					<alpha value="0" target="UPLOAD-CURTAIN" />
				</else>
			</if>
		</action>

		<action name="estimate-error" datasource="generateEstimate" datasourceevent="datasourceerror">
			<alpha value="0" target="UPLOAD-CURTAIN" />
			<assign property="var:estimateJSON" value="" />
			<assign property="var:accessoriesJSON" value="" />
			<assign property="var:miscAccessoriesJSON" value="" />
			<assign property="var:adjustmentsJSON" value="" />
			<alert title="Network Error" message="There was a problem connecting to the server.  Please check your network connection and try again." />
			<alpha value="0" time=".3" target="UPLOAD-CURTAIN" />
		</action>

		<action name="download-pdf">
<!-- 			<assign property="datasource:getEstimatePdf.source" value="https://162.209.101.177/api/GetEstimatePdf?CustomerId=219" /> -->
<!-- 			<alert message="download-pdf" /> -->
			<download url="https://162.209.101.177/api/GetEstimatePdf?CustomerId=[var:customerId]" filename="estimate.pdf" authenticate="getEstimatePdf" downloadcomplete="file-downloaded" />
<!-- 			<alert message="downloading pdf url is https://162.209.101.177/api/GetEstimatePdf?CustomerId=[var:customerId]" /> -->
		</action>

<!--
		<action name="getEstimatePdf-complete" datasource="getEstimatePdf" datasourceevent="querycomplete" >
			<alert message="getEstimatePdf complete" />
		</action>

-->
		<action name="file-downloaded" >
			<alpha value="0" target="UPLOAD-CURTAIN" />
			<create class="pdf" target="MAIN" />
			<alpha value="0" target="HEADER" />
			<translate ypos="0%" time=".3" curve="linear" target="PDF-CONTAINER" />
		</action>

		<action name="sendestimate" >
			<email subject="Your Estimate" body="Here is your estimate" toaddress="[eval: '[var:search]' == 'on' ? '[datasource:getEstimate.[var:customerIndex].Email]':'[var:email]']" cc="[preferences:username]" attachment="estimate.pdf" mimetype="application/pdf" />
		</action>

		<action name="closepdf" >
			<sync>
				<translate ypos="101%" time=".3" curve="linear" target="PDF-CONTAINER" />
				<delete target="PDF-CONTAINER" />
			</sync>
			<if lhs="[var:search]" operator="ne" rhs="on">
				<alpha value="1" target="HEADER" />
				<alert message="If you wish to create another estimate for this customer, tap the appropriate section above." />
			</if>
		</action>

    <!-- !user menu -->
    <action name="usermenu">
      <sync>
        <play action="clearcurtain" />
        <alpha value="1" time=".1" target="PROFILEMENU" />
        <assign property="var:curtainaction" value="hide-usermenu" />
      </sync>
    </action>

    <action name="hide-usermenu">
      <sync>
        <alpha value="0" time=".25" target="PROFILEMENU" />
        <play action="hideclearcurtain" />
        <assign property="var:curtainaction" value="null" />
      </sync>
    </action>

    <!-- !cancel estimate -->
    <action name="cancel-est">
      <play action="hide-usermenu" />
      <alert title="End this estimate?" message="Are you sure you want to end this estimate? If you have not completed your estimate all information entered will be lost." buttononetitle="Cancel" buttononeaction="null" buttontwotitle="Yes, end it." buttontwoaction="confirm-cancel"/>
    </action>

    <action name="confirm-cancel">
      <assign property="var:loaded" value="no" />
      <play action="clear-dbs" />
		  <play action="clear-var" />
		  <sync>
		    <delete target="CONTAINER" />
		    <create class="container" target="MAIN" />
		    <set onclickup="add3vent" target="VENTMENU/3-btn" />
		    <set onclickup="add2vent" target="VENTMENU/2-btn" />
		    <set onclickup="add15vent" target="VENTMENU/15-btn" />
		    <set onclickup="add12cdx" target="PLYWOODMENU/12cdx" />
		    <set onclickup="add58cdx" target="PLYWOODMENU/58cdx" />
		    <set onclickup="add12osb" target="PLYWOODMENU/12osb" />
		    <set onclickup="add58osb" target="PLYWOODMENU/58osb" />
		  </sync>
		  <create class="choice" target="CONTAINER" />
		  <play action="resetblockers" />
    </action>

    <!-- !logout -->
    <action name="logout">
      <play action="hide-usermenu" />
      <alert title="Log out?" message="Are you sure you want to log out?" buttononetitle="Cancel" buttontwotitle="Yes, Log out" buttontwoaction="confirm-logout" />
    </action>

    <action name="confirm-logout">
		  <assign property="var:loaded" value="no" />
		  <play action="clear-dbs" />
		  <play action="clear-data" />
		  <sync>
		    <delete target="CONTAINER" />
		    <create class="container" target="MAIN" />
		    <set onclickup="add3vent" target="VENTMENU/3-btn" />
		    <set onclickup="add2vent" target="VENTMENU/2-btn" />
		    <set onclickup="add15vent" target="VENTMENU/15-btn" />
		    <set onclickup="add12cdx" target="PLYWOODMENU/12cdx" />
		    <set onclickup="add58cdx" target="PLYWOODMENU/58cdx" />
		    <set onclickup="add12osb" target="PLYWOODMENU/12osb" />
		    <set onclickup="add58osb" target="PLYWOODMENU/58osb" />
		  </sync>
		  <create class="signin" target="CONTAINER" />
		  <play action="resetblockers" />
      <!--       <alert message="this would be the logic to log out the user" /> -->
    </action>

    <action name="resetblockers">
      <translate xpos="128" curve="linear" target="STEP-NAVBLOCK" />
      <translate ypos="65" curve="linear" target="PRODUCTS-STEP-BLOCKER" />
    </action>

    <action name="clear-dbs" >
      <sync>
      	<assign property="datasource:customersdb-delete.query" value="DELETE FROM CUSTOMERS;" />
      	<assign property="datasource:inspectiondb-delete.query" value="DELETE FROM INSPECTION;" />
      	<assign property="datasource:roofareasdb-delete.query" value="DELETE FROM ROOFAREAS;" />
      	<assign property="datasource:wastedb-delete.query" value="DELETE FROM WASTE;" />
      	<assign property="datasource:ridgesdb-delete.query" value="DELETE FROM RIDGES;" />
      	<assign property="datasource:hipsdb-delete.query" value="DELETE FROM HIPS;" />
      	<assign property="datasource:valleysdb-delete.query" value="DELETE FROM VALLEYS;" />
      	<assign property="datasource:rakesdb-delete.query" value="DELETE FROM RAKES;" />
      	<assign property="datasource:eavesdb-delete.query" value="DELETE FROM EAVES;" />
      	<assign property="datasource:protrusionsdb-delete.query" value="DELETE FROM PROTRUSIONS;" />
      	<assign property="datasource:ventsdb-delete.query" value="DELETE FROM VENTS;" />
      	<assign property="datasource:photosdb-delete.query" value="DELETE FROM PHOTOS;" />
      	<assign property="datasource:productsdb-delete.query" value="DELETE FROM PRODUCTS;" />
      	<assign property="datasource:accessoriesdb-delete.query" value="DELETE FROM ACCESSORIES;" />
      	<assign property="datasource:tearoffdb-delete.query" value="DELETE FROM TEAROFF;" />
      	<assign property="datasource:assetprotectiondb-delete.query" value="DELETE FROM PROTECTION;" />
      	<assign property="datasource:adjustmentsdb-delete.query" value="DELETE FROM ADJUSTMENTS;" />
      	<assign property="datasource:plywooddb-delete.query" value="DELETE FROM PLYWOOD;" />
      </sync>
    </action>

    <action name="clear-data" >
		  <assign property="var:plywoodsave-index" value="" />
      <assign property="var:plywoodindex" value="" />
      <assign property="var:plywoodIterateCount" value="" />
      <assign property="var:plywoodObject" value="" />
      <assign property="var:layers" value="" />
      <assign property="var:type" value="" />
      <assign property="var:customerCreated" value="" />
      <assign property="var:warranty-set" value="no" />
      <assign property="var:roofMeasurementsJSON" value="" />
      <assign property="var:wasteAdjust" value="" />
      <assign property="var:waste" value="0" />
      <assign property="var:wasteFactor" value="" />
      <assign property="var:ridgeMeasurementsJSON" value="" />
      <assign property="var:hipsJSON" value="" />
      <assign property="var:valleysJSON" value="" />
      <assign property="var:rakesJSON" value="" />
      <assign property="var:eavesJSON" value="" />
      <assign property="var:skylightsJSON" value="" />
      <assign property="var:plumbingVentsJSON" value="" />
      <assign property="var:measurementsJSON" value="" />
      <assign property="var:estimateJSON" value="" />
      <assign property="var:accessoriesJSON" value="" />
      <assign property="var:miscAccessoriesJSON" value="" />
      <assign property="var:adjustmentsJSON" value="" />
      <assign property="var:plywoodJSON" value="" />
      <assign property="var:search" value="" />
      <assign property="var:db-action" value="" />
      <assign property="var:accessories" value="0" />
      <assign property="var:accessoryCount" value="0" />
      <assign property="var:tearoff" value="no" />
      <assign property="var:landscaping" value="no" />
      <assign property="var:hardscaping" value="no" />
      <assign property="var:hvac" value="no" />
      <assign property="var:pool" value="no" />
      <assign property="var:misc" value="no" />
      <assign property="var:country" value="US" />
      <assign property="var:prevfield" value="0" />
      <assign property="var:nav" value="CUSTOMER" />
      <assign property="var:product" value="" />
      <sync>
        <loop lhs="[var:areaclear-index]" operator="lt" rhs="[var:areaindex2]">
          <assign property="var:areaclear-index" value="[eval: [var:areaclear-index] + 1]" />
          <assign property="var:slope-[var:areaclear-index]" value="" />
        </loop>
        <assign property="var:areaindex2" value="" />
      </sync>
      <assign property="var:areaValidationIndex" value="0" />
      <assign property="var:ventValidationIndex" value="0" />
      <assign property="var:chimneyValidationIndex" value="0" />
      <assign property="var:eaveValidationIndex" value="0" />
      <assign property="var:rakeValidationIndex" value="0" />
      <assign property="var:valleyValidationIndex" value="0" />
      <assign property="var:hipValidationIndex" value="0" />
      <assign property="var:ridgeValidationIndex" value="0" />
      <assign property="preferences:remember" value="" />
      <assign property="preferences:username" value="" />
      <assign property="preferences:password" value="" />
      <assign property="preferences:token" value="" />
      <assign property="preferences:contractorId" value="" />
      <assign property="preferences:contractorType" value="" />
      <assign property="preferences:trueSlate" value="" />
      <assign property="httpheader:get.Token" value="" />
      <assign property="httpheader:get.ContractorId" value="" />
      <!-- accessories -->
      <loop lhs="[var:clear-acc-index]" operator="lt" rhs="[var:acc-count-increment]">
        <assign property="var:clear-acc-index" value="[eval: [var:clear-acc-index] + 1]" />
        <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]-Quantity" value="" />
        <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]" value="" />
        <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]-Name" value="" />
        <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]-Type" value="" />
        <assign property="var:acc-count-track-[var:clear-acc-index]" value="" />
      </loop>
      <assign property="var:accessory-[var:accessoryCount]-Quantity" value="" />
      <assign property="var:accessory-[var:accessoryCount]" value="" />
      <assign property="var:accessory-[var:accessoryCount]-Name" value="" />
      <assign property="var:accessory-[var:accessoryCount]-Type" value="" />
      <assign property="var:accessorySelected" value="" />
      <assign property="var:cur-acc-cat" value="" />
      <assign property="var:autoquantity" value="" />
      <assign property="var:curtainaction" value="" />
      <assign property="var:cur-leak-index" value="" />
      <assign property="var:prev-leak-index" value="" />
      <assign property="var:cur-roofdeck-index" value="" />
      <assign property="var:prev-roofdeck-index" value="" />
      <assign property="var:cur-starter-index" value="" />
      <assign property="var:prev-starter-index" value="" />
      <assign property="var:cur-ventilation-index" value="" />
      <assign property="var:prev-ventilation-index" value="" />
      <assign property="var:cur-hipvent" value="" />
      <assign property="var:prev-hipvent" value="" />
      <assign property="var:cur-fasciavent" value="" />
      <assign property="var:prev-fasciavent" value="" />
      <assign property="var:cur-ridgevent" value="" />
      <assign property="var:prev-ridgevent" value="" />
      <assign property="var:cur-ridgecap-index" value="" />
      <assign property="var:prev-ridgecap-index" value="" />
      <assign property="var:accessoryCount" value="0" />
      <assign property="var:acc-count-increment" value="" />
      <assign property="var:clear-acc-index" value="" />
      <!-- shingles -->
      <assign property="var:prev-selectedshingle" value="var:selectedshingle" />
      <assign property="var:prev-shingle-col" value="var:shingle-col" />
      <assign property="var:prev-shingle-row" value="var:shingle-row" />
      <assign property="var:selectedshingle" value="var:selectedshingle" />
      <assign property="var:shingle-col" value="var:shingle-col" />
      <assign property="var:shingle-row" value="var:shingle-row" />
      <assign property="var:warrantycheck" value="" />
      <assign property="var:selectedwarranty" value="" />

      <assign property="var:services" value="" />
      <!-- adjustments -->
      <loop lhs="[var:clear-adj-index]" operator="lt" rhs="[var:adjustment]">
        <assign property="var:clear-adj-index" value="[eval: [var:clear-adj-index] + 1 ]" />
        <assign property="var:units-[var:clear-adj-index]" value="" />
      </loop>
      <assign property="var:temp-adjustnote" value="" />
      <assign property="var:adjustmentindexloop" value="" />
      <assign property="var:adjustment" value="" />
      <assign property="var:discountindex" value="" />
      <assign property="var:costindex" value="" />
      <assign property="var:adjustmentindex" value="" />
    </action>

    <action name="clear-var" >
		  <assign property="var:plywoodsave-index" value="" />
      <assign property="var:plywoodindex" value="" />
      <assign property="var:plywoodIterateCount" value="" />
      <assign property="var:plywoodObject" value="" />
		  <assign property="var:layers" value="" />
		  <assign property="var:type" value="" />
		  <assign property="var:customerCreated" value="" />
	    <assign property="var:warranty-set" value="no" />
	    <assign property="var:roofMeasurementsJSON" value="" />
	    <assign property="var:wasteAdjust" value="" />
      <assign property="var:waste" value="0" />
      <assign property="var:wasteFactor" value="" />
	    <assign property="var:ridgeMeasurementsJSON" value="" />
	    <assign property="var:hipsJSON" value="" />
	    <assign property="var:valleysJSON" value="" />
	    <assign property="var:rakesJSON" value="" />
	    <assign property="var:eavesJSON" value="" />
	    <assign property="var:skylightsJSON" value="" />
	    <assign property="var:plumbingVentsJSON" value="" />
	    <assign property="var:measurementsJSON" value="" />
	    <assign property="var:estimateJSON" value="" />
	    <assign property="var:accessoriesJSON" value="" />
	    <assign property="var:miscAccessoriesJSON" value="" />
	    <assign property="var:adjustmentsJSON" value="" />
			<assign property="var:plywoodJSON" value="" />
	    <assign property="var:product" value="" />
	    <sync>
        <loop lhs="[var:areaclear-index]" operator="lt" rhs="[var:areaindex2]">
          <assign property="var:areaclear-index" value="[eval: [var:areaclear-index] + 1]" />
          <assign property="var:slope-[var:areaclear-index]" value="" />
        </loop>
        <assign property="var:areaindex2" value="" />
      </sync>
	    <assign property="var:areaValidationIndex" value="0" />
      <assign property="var:ventValidationIndex" value="0" />
      <assign property="var:chimneyValidationIndex" value="0" />
      <assign property="var:eaveValidationIndex" value="0" />
      <assign property="var:rakeValidationIndex" value="0" />
      <assign property="var:valleyValidationIndex" value="0" />
      <assign property="var:hipValidationIndex" value="0" />
      <assign property="var:ridgeValidationIndex" value="0" />
      <assign property="var:search" value="" />
      <assign property="var:db-action" value="" />
      <assign property="var:accessories" value="0" />
      <assign property="var:accessoryCount" value="0" />
      <assign property="var:tearoff" value="no" />
      <assign property="var:landscaping" value="no" />
      <assign property="var:hardscaping" value="no" />
      <assign property="var:hvac" value="no" />
      <assign property="var:pool" value="no" />
      <assign property="var:misc" value="no" />
      <assign property="var:country" value="US" />
      <assign property="var:prevfield" value="0" />
      <assign property="var:nav" value="CUSTOMER" />
      <!-- accessories -->
      <loop lhs="[var:clear-acc-index]" operator="lt" rhs="[var:acc-count-increment]">
        <assign property="var:clear-acc-index" value="[eval: [var:clear-acc-index] + 1]" />
        <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]-Quantity" value="" />
        <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]" value="" />
        <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]-Name" value="" />
        <assign property="var:accessory-[var:acc-count-track-[var:clear-acc-index]]-Type" value="" />
        <assign property="var:acc-count-track-[var:clear-acc-index]" value="" />
      </loop>
      <assign property="var:accessory-[var:accessoryCount]-Quantity" value="" />
      <assign property="var:accessory-[var:accessoryCount]" value="" />
      <assign property="var:accessory-[var:accessoryCount]-Name" value="" />
      <assign property="var:accessory-[var:accessoryCount]-Type" value="" />
      <assign property="var:accessorySelected" value="" />
      <assign property="var:cur-acc-cat" value="" />
      <assign property="var:autoquantity" value="" />
      <assign property="var:curtainaction" value="" />
      <assign property="var:cur-leak-index" value="" />
      <assign property="var:prev-leak-index" value="" />
      <assign property="var:cur-roofdeck-index" value="" />
      <assign property="var:prev-roofdeck-index" value="" />
      <assign property="var:cur-starter-index" value="" />
      <assign property="var:prev-starter-index" value="" />
      <assign property="var:cur-ventilation-index" value="" />
      <assign property="var:prev-ventilation-index" value="" />
      <assign property="var:cur-hipvent" value="" />
      <assign property="var:prev-hipvent" value="" />
      <assign property="var:cur-fasciavent" value="" />
      <assign property="var:prev-fasciavent" value="" />
      <assign property="var:cur-ridgevent" value="" />
      <assign property="var:prev-ridgevent" value="" />
      <assign property="var:cur-ridgecap-index" value="" />
      <assign property="var:prev-ridgecap-index" value="" />
      <assign property="var:accessoryCount" value="0" />
      <assign property="var:acc-count-increment" value="" />
      <assign property="var:clear-acc-index" value="" />
      <!-- shingles -->
      <assign property="var:prev-selectedshingle" value="var:selectedshingle" />
      <assign property="var:prev-shingle-col" value="var:shingle-col" />
      <assign property="var:prev-shingle-row" value="var:shingle-row" />
      <assign property="var:selectedshingle" value="var:selectedshingle" />
      <assign property="var:shingle-col" value="var:shingle-col" />
      <assign property="var:shingle-row" value="var:shingle-row" />
      <assign property="var:warrantycheck" value="" />
      <assign property="var:selectedwarranty" value="" />
      <assign property="var:services" value="" />
      <loop lhs="[var:clear-adj-index]" operator="lt" rhs="[var:adjustment]">
        <assign property="var:clear-adj-index" value="[eval: [var:clear-adj-index] + 1 ]" />
        <assign property="var:units-[var:clear-adj-index]" value="" />
      </loop>
      <assign property="var:temp-adjustnote" value="" />
      <assign property="var:adjustmentindexloop" value="" />
      <assign property="var:adjustment" value="" />
      <assign property="var:discountindex" value="" />
      <assign property="var:costindex" value="" />
      <assign property="var:adjustmentindex" value="" />
    </action>

    <!-- !delete actions -->
    <action name="delete-item">
      <sync>
        <keyboard visible="no" />
        <assign property="var:deletetarget" value="_target" />
        <assign property="var:indexname" value="_indexname" />
        <assign property="var:spacername" value="_spacername" />
        <assign property="var:deleteindex" value="_index" />
        <assign property="var:parent" value="_parent" />
        <assign property="var:section" value="_section" />
        <assign property="var:check" value="_check" />
        <alert title="Delete _target" message="Are you sure?" buttononetitle="Yes" buttononeaction="confirm-delete" buttontwotitle="No" buttontwoaction="null"/>
      </sync>
    </action>

    <action name="confirm-delete">
      <sync>
        <if lhs="[var:[var:indexname]]" operator="e" rhs="2"><!-- deletes spacer from pager -->
          <delete target="ROOF-SPACER-[var:spacername]-2" />
          <assign property="var:[spacername]spacerindex" value="1" />
          <else>
            <delete target="ROOF-SPACER-[var:spacername]-[var:[var:indexname]]" />
          </else>
        </if>
        <delete target="[var:deletetarget]" /><!-- deletes actual item -->
        <if lhs="[var:[var:indexname]]" operator="gte" rhs="1"><!-- alphas on the delete button in last item in pager -->
          <alpha value="1" time=".1" target="[var:parent][eval: [var:[var:indexname]] - 1]/deletebox" />
        </if>
        <assign property="var:[var:indexname]" value="[eval: [var:[var:indexname]] - 1 ]" /><!-- decrements index to reflect item has been deleted -->
        <if lhs="[var:[var:indexname]]" operator="gt" rhs="1"><!-- creates new spacer at the end with proper index -->
          <create class="roof-spacer" index="[var:[var:indexname]]" name="[var:spacername]" target="ROOF-[var:section]/roofpagerbox/pager" />
          <assign property="var:[spacername]spacerindex" value="[var:[var:indexname]]" />
        </if>
        <if lhs="[var:check]" operator="e" rhs="Roof Areas">
          <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Roof Areas/saved-check" />
          <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/Roof Areas/required" />
          <else>
            <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/[var:check]/saved-check" />
          </else>
        </if>
      </sync>
    </action>

    <!-- !delete chimneys and skylights actions -->
    <action name="delete-chimney-item">
      <sync>
        <keyboard visible="no" />
        <assign property="var:deletetarget" value="_target" /><!-- item to be deleted -->
        <assign property="var:indexname" value="_indexname" /><!-- name of indexing var -->
        <assign property="var:spacername" value="_spacername" /><!-- part of var name, not numeric -->
        <assign property="var:deleteindex" value="_index" />
        <assign property="var:parent" value="_parent" /><!-- parent of delete button -->
        <assign property="var:section" value="_section" /><!-- section that the item that is being deleted is in -->
        <assign property="var:delete-protrusiontype" value="_protrusiontype" /><!-- Non-main incrementing var name -->
        <assign property="var:protrusiontype-index" value="_protrusiontype-index" /><!-- Non main index -->
        <alert title="Delete _target" message="Are you sure?" buttononetitle="Yes" buttononeaction="confirm-chimney-delete" buttontwotitle="No" buttontwoaction="null"/>
      </sync>
    </action>

    <action name="confirm-chimney-delete">
      <sync>
        <if lhs="[var:[var:indexname]]" operator="e" rhs="2"><!-- deletes spacer from pager -->
          <delete target="ROOF-SPACER-[var:spacername]-2" />
          <assign property="var:[spacername]spacerindex" value="1" />
          <else>
            <delete target="ROOF-SPACER-[var:spacername]-[var:[var:indexname]]" />
          </else>
        </if>
        <delete target="[var:deletetarget]" /><!-- deletes actual item -->
        <!--<alert title="[var:indexname]" message="[var:[var:indexname]]" />-->
        <if lhs="[var:[var:indexname]]" operator="gte" rhs="1"><!-- alphas on the delete button in last item in pager -->
          <alpha value="1" time=".1" target="[var:parent][eval: [var:[var:indexname]] - 1]/deletebox" />
          <!--<alert message="[var:parent][eval: [var:[var:indexname]] - 1]/deletebox" />-->
        </if>
        <assign property="var:[var:indexname]" value="[eval: [var:[var:indexname]] - 1 ]" /><!-- decrements index to reflect item has been deleted -->
        <assign property="var:[var:delete-protrusiontype]" value="[eval: [var:protrusiontype-index] - 1]" />
        <if lhs="[var:[var:indexname]]" operator="gt" rhs="1"><!-- creates new spacer at the end with proper index -->
          <create class="roof-spacer" index="[var:[var:indexname]]" name="[var:spacername]" target="ROOF-[var:section]/roofpagerbox/pager" />
          <assign property="var:[spacername]spacerindex" value="[var:[var:indexname]]" />
        </if>
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Chimney &amp; Skylights/saved-check" />
      </sync>
    </action>

    <!-- !adjustments actions  discounts and additional costs -->
    <action name="delete-adjustment-item">
      <sync>
        <keyboard visible="no" />
        <assign property="var:deletetarget" value="_target" /><!-- item to be deleted -->
        <assign property="var:indexname" value="_indexname" /><!-- name of indexing var -->
        <assign property="var:spacername" value="_spacername" /><!-- part of var name, not numeric -->
        <assign property="var:deleteindex" value="_index" />
        <assign property="var:parent" value="_parent" /><!-- parent of delete button -->
        <assign property="var:section" value="_section" /><!-- section that the item that is being deleted is in -->
        <assign property="var:delete-adjustmenttype" value="_adjustmenttype" /><!-- Non-main incrementing var name -->
        <assign property="var:adjustmenttype-index" value="_adjustmenttype-index" /><!-- Non main index -->
        <alert title="Delete _target" message="Are you sure?" buttononetitle="Yes" buttononeaction="confirm-adjustment-delete" buttontwotitle="No" buttontwoaction="null"/>
      </sync>
    </action>

    <action name="confirm-adjustment-delete">
      <sync>
        <if lhs="[var:[var:indexname]]" operator="e" rhs="2"><!-- deletes spacer from pager -->
          <delete target="ROOF-SPACER-[var:spacername]-2" />
          <assign property="var:[spacername]spacerindex" value="1" />
          <else>
            <delete target="ROOF-SPACER-[var:spacername]-[var:[var:indexname]]" />
          </else>
        </if>
        <delete target="[var:deletetarget]" /><!-- deletes actual item -->
        <!--<alert title="[var:indexname]" message="[var:deletetarget]" />-->
        <if lhs="[var:[var:indexname]]" operator="gte" rhs="1"><!-- alphas on the delete button in last item in pager -->
          <alpha value="1" time=".1" target="[var:parent][eval: [var:[var:indexname]] - 1]/deletebox" />
          <!--<alert message="[var:parent][eval: [var:[var:indexname]] - 1]/deletebox" />-->
        </if>
        <assign property="var:[var:indexname]" value="[eval: [var:[var:indexname]] - 1 ]" /><!-- decrements index to reflect item has been deleted -->
        <assign property="var:[var:delete-adjustmenttype]" value="[eval: [var:adjustmenttype-index] - 1]" />
        <if lhs="[var:[var:indexname]]" operator="gt" rhs="1"><!-- creates new spacer at the end with proper index -->
          <create class="roof-spacer" index="[var:[var:indexname]]" name="[var:spacername]" target="ADJUSTMENTSBOX/adjustmentspagerbox/pager" />
          <assign property="var:[spacername]spacerindex" value="[var:[var:indexname]]" />
        </if>
      </sync>
    </action>

    <!-- delete plumbing vents -->
    <action name="delete-vent">
      <sync>
        <keyboard visible="no" />
        <assign property="var:indexname" value="_indexname" /><!-- name of indexing var -->
        <assign property="var:deleteVentTarget" value="_target" />
        <assign property="var:ventAction" value="_ventaction" />
        <assign property="var:ventActionTarget" value="_ventactiontarget" />
        <alert title="Delete _label" message="Are you sure?" buttononetitle="Yes" buttononeaction="confirm-delete-vent" buttontwotitle="No" buttontwoaction="null"/>
      </sync>
    </action>

    <action name="confirm-delete-vent">
      <delete target="[var:deleteVentTarget]" />
      <set onclickup="[var:ventAction]" target="VENTMENU/[var:ventActionTarget]" />
      <assign property="var:ventindex" value="[eval: [var:ventindex] - 1]" />
      <if lhs="[var:[var:indexname]]" operator="gte" rhs="1"><!-- alphas on the delete button in last item in pager -->
        <alpha value="1" time=".1" target="VENT[eval: [var:[var:indexname]] - 1]/deletebox" />
        <!--<alert message="[var:parent][eval: [var:[var:indexname]] - 1]/deletebox" />-->
      </if>
      <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Plumbing Vents/saved-check" />
    </action>

    <!-- !plywood delete actions -->
    <action name="plywood-delete-item">
      <sync>
        <keyboard visible="no" />
        <assign property="var:deletetarget" value="_target" />
        <assign property="var:indexname" value="_indexname" />
        <assign property="var:spacername" value="_spacername" />
        <assign property="var:deleteindex" value="_index" />
        <assign property="var:parent" value="_parent" />
        <assign property="var:section" value="_section" />
        <assign property="var:resetonclickup" value="_reset" />
        <assign property="var:plywoodActionTarget" value="_resettarget" />
        <alert title="Delete _target" message="Are you sure?" buttononetitle="Yes" buttononeaction="plywood-confirm-delete" buttontwotitle="No" buttontwoaction="null"/>
      </sync>
    </action>

    <action name="plywood-confirm-delete">
      <sync>
        <if lhs="[var:[var:indexname]]" operator="e" rhs="2">
          <delete target="ROOF-SPACER-[var:spacername]-2" />
          <assign property="var:[spacername]spacerindex" value="1" />
          <else>
            <delete target="ROOF-SPACER-[var:spacername]-[var:[var:indexname]]" />
          </else>
        </if>
        <!--<alert title="delete target" message="[var:deletetarget]" />-->
        <delete target="[var:deletetarget]" />
        <set onclickup="[var:resetonclickup]" target="PLYWOODMENU/[var:plywoodActionTarget]" />
        <if lhs="[var:[var:indexname]]" operator="gte" rhs="1">
          <alpha value="1" time=".1" target="[var:parent][eval: [var:[var:indexname]] - 1]/deletebox" />
        </if>
        <assign property="var:[var:indexname]" value="[eval: [var:[var:indexname]] - 1 ]" />
        <if lhs="[var:[var:indexname]]" operator="gt" rhs="1">
          <create class="roof-spacer" index="[var:[var:indexname]]" name="[var:spacername]" target="SERVICES-[var:section]/servicespagerbox/pager" />
          <assign property="var:[spacername]spacerindex" value="[var:[var:indexname]]" />
        </if>
        <alpha value="0" time=".1" target="SERVICES-SIDEBAR-PAGER/Plywood Sheathing/saved-check" />
      </sync>
    </action>

    <!-- Delete photos -->
    <action name="delete-photo">
      <sync>
        <assign property="var:photo-index" value="_index" />
        <alert title="Delete Photo" message="Are you sure you want to delete this photo?" buttononetitle="Yes" buttononeaction="confirm-delete-photo" buttontwotitle="No" buttontwoaction="null" />
      </sync>
    </action>

    <action name="confirm-delete-photo">
      <assign property="datasource:photosdb-delete.query" value="DELETE FROM PHOTOS WHERE ID='[var:photo-index]';" />
      <!--<alert title="Deleting this photo" message="[var:photo-index]" />-->
    </action>

    <action name="photo-deleted" datasource="photosdb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <assign property="datasource:photosdb-list.query" value="SELECT * FROM PHOTOS;" />
        <!--<alert message="[datasource:photosdb-list.dataSourceResultCount]" />-->
      </if>
    </action>

    <action name="photo-list" datasource="photosdb-list" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <!--<alert title="list complete" message="[datasource:photosdb-list.dataSourceResultCount]" />-->
        <if lhs="[datasource:photosdb-list.dataSourceResultCount]" operator="lte" rhs="0">
          <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/Photos/saved-check" />
        </if>
      </if>
    </action>

    <!-- !roof save modal -->
    <action name="roof-saving-modal">
      <alpha value="1" time=".15" target="ROOF-SAVE-MODAL" />
    </action>

    <action name="roof-saving-modal-hide">
      <alpha value="0" delay=".3" time=".15" target="ROOF-SAVE-MODAL" />
    </action>

    <!-- !tearoff required -->
    <action name="warranty-message">
      <alert message="The warranty you have selected requires tear off." />
    </action>

    <action name="warranty-select-message">
      <alert title="You changed your shingle selection" message="Please select a new warranty." />
    </action>

    <action name="tearoff-go">
      <sync>
        <if lhs="[object:LAYERS/input.text]" operator="gt" rhs="0">
          <if lhs="[object:TYPE/input.text]" operator="ne" rhs="">
            <translate xpos="101%" curve="linear" target="STEP-NAVBLOCK" />
            <set onchange="null" target="NAVBLOCK" />
          </if>
        </if>
      </sync>
    </action>

    <!-- !saving for services -->
    <action name="save-fake-service">
      <play action="released" />
      <keyboard visible="no" />
      <if lhs="[var:servicesarrow]" operator="e" rhs="Plywood Sheathing">
        <play action="plywood-predelete" />
        <play action="roof-saving-modal" />
        <else>
          <alpha value="1" time=".1" target="SERVICES-SIDEBAR-PAGER/[var:servicesarrow]/saved-check" />
        </else>
      </if>
    </action>

    <action name="plywood-predelete">
      <sync>
        <if lhs="[datasource:plywooddb-list.dataSourceResultCount]" operator="gt" rhs="0">
          <assign property="datasource:plywooddb-delete.query" value="DELETE FROM PLYWOOD;" />
          <!--<alert message="from the if and deleting [datasource:inspectiondb-list.dataSourceResultCount]" />-->
          <else>
            <play action="plywoodsave-loop" />
            <!--<alert message="from the else, nothing to delete" />-->
          </else>
        </if>
      </sync>
    </action>

    <action name="plywoodsave-loop" datasource="plywooddb-delete" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <if lhs="[var:plywoodindex]" operator="gt" rhs="0">
          <sync>
            <assign property="var:plywoodsave-index" value="[eval: [var:plywoodsave-index] + 1]" />
            <play action="plywoodsave-save" />
          </sync>
          <else>
            <play action="roof-saving-modal-hide" />
            <alert title="Incomplete Form" message="Nothing to save." />
          </else>
        </if>
      </if>
    </action>

    <action name="plywoodsave-save">
      <sync>
        <assign property="datasource:plywooddb.query" value="INSERT INTO PLYWOOD (WOOD, MEASUREMENT, QUANTITY) VALUES ('[object:PLYWOODTYPE[var:plywoodsave-index]/hidden.text]', '[object:MEASUREMENT[var:plywoodsave-index]/hidden.text]', '[object:QUANTITY[var:plywoodsave-index]/input.text]');" />
      </sync>
    </action>

    <action name="plywood-query" datasource="plywooddb" datasourceevent="querycomplete">
      <if lhs="[var:loaded]" operator="e" rhs="yes">
        <if lhs="[var:plywoodsave-index]" operator="lt" rhs="[var:plywoodindex]">
          <play action="plywoodsave-loop" />
          <else>
            <assign property="datasource:plywooddb-list.query" value="SELECT * FROM PLYWOOD;" />
            <play action="roof-saving-modal-hide" />
            <alpha value="1" time=".1" target="SERVICES-SIDEBAR-PAGER/[var:servicesarrow]/saved-check" />
            <assign property="var:plywoodsave-index" value="0" />
          </else>
        </if>
      </if>
    </action>

    <!--<action name="plywood-count" datasource="plywooddb-list" datasourceevent="querycomplete">
        <alert title="plywood saved" message="count [datasource:plywooddb-list.dataSourceResultCount]" />
    </action>-->

    <action name="plywood-count" datasource="plywooddb-delete" datasourceevent="querycomplete">
      <assign property="datasource:plywooddb-list.query" value="SELECT * FROM PLYWOOD;" />
    </action>

    <!--<action name="plywood-sort-test"  datasource="plywooddb-list" datasourceevent="querycomplete">
      <alert title="plywood deleted" message="count=[datasource:plywooddb.dataSourceResultCount] var:plywoodsave-index=[var:plywoodsave-index] var:plywoodindex=[var:plywoodindex] var:plywoodIterateCount=[var:plywoodIterateCount] var:plywoodObject=[var:plywoodObject] var:plywoodJSON=[var:plywoodJSON]" />
    </action>-->

    <!-- !curtain action -->
    <action name="curtainaction">
      <play action="[var:curtainaction]" />
    </action>

    <action name="clearcurtain">
      <alpha value="1" target="CURTAIN" />
    </action>

    <action name="hideclearcurtain">
      <alpha value="0" target="CURTAIN" />
    </action>

    <action name="blur">
      <alpha value="1" time=".25" target="CURTAIN" />
      <blur time=".25" radius=".5" quality="90" matte="#ffffff" target="CONTAINER" />
      <alpha value=".4" time=".25" target="CURTAIN/color" />
    </action>

    <action name="focus">
      <alpha value="0" time=".25" target="CURTAIN" />
      <focus time=".25" target="CONTAINER" />
      <alpha value="0" time=".25" target="CURTAIN/color" />
    </action>

    <action name="isNaN">
      <if lhs="[eval:isNaN(&#39;[object:text]&#39;)]" operator="==" rhs="true">
        <alert title="Input Error" message="Please only enter numeric values [eval:[object:text].slice(-1);]" />
      </if>
    </action>

    <action name="roof-isNaN">
      <!--<if lhs="[var:warranty-set]" operator="e" rhs="yes">
        <play action="product-reset" />
      </if>-->
      <sync>
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/[var:roofarrow]/saved-check" />
        <if lhs="[var:roofarrow]" operator="e" rhs="Inspection">
          <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/[var:roofarrow]/required" />
        </if>
        <if lhs="[var:roofarrow]" operator="e" rhs="Roof Areas">
          <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/[var:roofarrow]/required" />
        </if>
      </sync>
      <if lhs="[eval:isNaN(&#39;[object:text]&#39;)]" operator="==" rhs="true">
        <alert title="Input Error" message="Please only enter numeric values [eval:[object:text].slice(-1);]" />
      </if>
    </action>

    <action name="roof-change">
      <sync>
        <alpha value="0" time=".1" target="ROOF-SIDEBAR-PAGER/[var:roofarrow]/saved-check" />
        <alpha value="1" time=".1" target="ROOF-SIDEBAR-PAGER/[var:roofarrow]/required" />
      </sync>
    </action>

    <action name="product-reset">
      <sync>
        <assign property="var:warranty-set" value="no" />
        <assign property="var:selectedwarranty" value="0" />
        <!--<alert title="sidebar-products" message="old = [var:product]  new = Shingles" />-->
        <play action="sidebar-products" _alias="[var:product]" _form="Shingles" />
        <alpha value="0" target="PRODUCTS-WARRANTY" />
        <alpha value="0" target="PRODUCTS-ACCESSORIES" />
        <assign property="var:product" value="" />
        <translate ypos="65" curve="linear" target="PRODUCTS-STEP-BLOCKER" />
        <assign property="datasource:accessoriesdb-delete.query" value="DELETE FROM ACCESSORIES;" />
  	    <play action="reset-accessory-vars" />
      </sync>
    </action>

    <action name="null"></action>

<!--
	<action name="nonMiscAccessoriesdb-complete" datasource="nonMiscAccessoriesdb-list" datasourceevent="querycomplete" >
		<if lhs="[datasource:nonMiscAccessoriesdb-list.dataSourceResultCount]" operator="gt" rhs="0">
			<alert message="nonMiscAccessoriesdb is [datasource:nonMiscAccessoriesdb-list.dataSourceResultCount]" />
		</if>
	</action>
-->

  </actions>
</wire>
